/*! jQuery UI - v1.10.4 - 2014-01-17
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.progressbar.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.slider.js, jquery.ui.sortable.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

(function(e,t){function i(t,i){var s,a,o,r=t.nodeName.toLowerCase();return"area"===r?(s=t.parentNode,a=s.name,t.href&&a&&"map"===s.nodeName.toLowerCase()?(o=e("img[usemap=#"+a+"]")[0],!!o&&n(o)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,a=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,s,a=e(this[0]);a.length&&a[0]!==document;){if(n=a.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(a.css("zIndex"),10),!isNaN(s)&&0!==s))return s;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function s(t,i,n,s){return e.each(a,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var a="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?r["inner"+n].call(this):this.each(function(){e(this).css(o,s(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?r["outer"+n].call(this,t):this.each(function(){e(this).css(o,s(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s,a=e.ui[t].prototype;for(s in n)a.plugins[s]=a.plugins[s]||[],a.plugins[s].push([i,n[s]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;s.length>n;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0?!0:(t[n]=1,s=t[n]>0,t[n]=0,s)}})})(jQuery);(function(t,e){var i=0,s=Array.prototype.slice,n=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler("remove")}catch(o){}n(e)},t.widget=function(i,s,n){var o,a,r,h,l={},c=i.split(".")[0];i=i.split(".")[1],o=c+"-"+i,n||(n=s,s=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},a=t[c][i],r=t[c][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new r(t,i)},t.extend(r,a,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),h=new s,h.options=t.widget.extend({},h.options),t.each(n,function(i,n){return t.isFunction(n)?(l[i]=function(){var t=function(){return s.prototype[i].apply(this,arguments)},e=function(t){return s.prototype[i].apply(this,t)};return function(){var i,s=this._super,o=this._superApply;return this._super=t,this._superApply=e,i=n.apply(this,arguments),this._super=s,this._superApply=o,i}}(),e):(l[i]=n,e)}),r.prototype=t.widget.extend(h,{widgetEventPrefix:a?h.widgetEventPrefix||i:i},l,{constructor:r,namespace:c,widgetName:i,widgetFullName:o}),a?(t.each(a._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,r,i._proto)}),delete a._childConstructors):s._childConstructors.push(r),t.widget.bridge(i,r)},t.widget.extend=function(i){for(var n,o,a=s.call(arguments,1),r=0,h=a.length;h>r;r++)for(n in a[r])o=a[r][n],a[r].hasOwnProperty(n)&&o!==e&&(i[n]=t.isPlainObject(o)?t.isPlainObject(i[n])?t.widget.extend({},i[n],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,n){var o=n.prototype.widgetFullName||i;t.fn[i]=function(a){var r="string"==typeof a,h=s.call(arguments,1),l=this;return a=!r&&h.length?t.widget.extend.apply(null,[a].concat(h)):a,r?this.each(function(){var s,n=t.data(this,o);return n?t.isFunction(n[a])&&"_"!==a.charAt(0)?(s=n[a].apply(n,h),s!==n&&s!==e?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):e):t.error("no such method '"+a+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+a+"'")}):this.each(function(){var e=t.data(this,o);e?e.option(a||{})._init():t.data(this,o,new n(a,this))}),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,s){var n,o,a,r=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(r={},n=i.split("."),i=n.shift(),n.length){for(o=r[i]=t.widget.extend({},this.options[i]),a=0;n.length-1>a;a++)o[n[a]]=o[n[a]]||{},o=o[n[a]];if(i=n.pop(),1===arguments.length)return o[i]===e?null:o[i];o[i]=s}else{if(1===arguments.length)return this.options[i]===e?null:this.options[i];r[i]=s}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,n){var o,a=this;"boolean"!=typeof i&&(n=s,s=i,i=!1),n?(s=o=t(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,o=this.widget()),t.each(n,function(n,r){function h(){return i||a.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?a[r]:r).apply(a,arguments):e}"string"!=typeof r&&(h.guid=r.guid=r.guid||h.guid||t.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+a.eventNamespace,u=l[2];u?o.delegate(u,c,h):s.bind(c,h)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}})})(jQuery);(function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,n=1===i.which,a="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return n&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return s._mouseMove(t)},this._mouseUpDelegate=function(t){return s._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);(function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function s(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var a,o=Math.max,r=Math.abs,l=Math.round,h=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(a!==e)return a;var i,s,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];return t("body").append(n),i=o.offsetWidth,n.css("overflow","scroll"),s=o.offsetWidth,i===s&&(s=n[0].clientWidth),n.remove(),a=i-s},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,a="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:a?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var a,p,g,m,v,_,b=t(e.of),y=t.position.getWithinInfo(e.within),k=t.position.getScrollInfo(y),w=(e.collision||"flip").split(" "),D={};return _=n(b),b[0].preventDefault&&(e.at="left top"),p=_.width,g=_.height,m=_.offset,v=t.extend({},m),t.each(["my","at"],function(){var t,i,s=(e[this]||"").split(" ");1===s.length&&(s=h.test(s[0])?s.concat(["center"]):c.test(s[0])?["center"].concat(s):["center","center"]),s[0]=h.test(s[0])?s[0]:"center",s[1]=c.test(s[1])?s[1]:"center",t=u.exec(s[0]),i=u.exec(s[1]),D[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(s[0])[0],d.exec(s[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=g:"center"===e.at[1]&&(v.top+=g/2),a=i(D.at,p,g),v.left+=a[0],v.top+=a[1],this.each(function(){var n,h,c=t(this),u=c.outerWidth(),d=c.outerHeight(),f=s(this,"marginLeft"),_=s(this,"marginTop"),x=u+f+s(this,"marginRight")+k.width,C=d+_+s(this,"marginBottom")+k.height,M=t.extend({},v),T=i(D.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?M.left-=u:"center"===e.my[0]&&(M.left-=u/2),"bottom"===e.my[1]?M.top-=d:"center"===e.my[1]&&(M.top-=d/2),M.left+=T[0],M.top+=T[1],t.support.offsetFractions||(M.left=l(M.left),M.top=l(M.top)),n={marginLeft:f,marginTop:_},t.each(["left","top"],function(i,s){t.ui.position[w[i]]&&t.ui.position[w[i]][s](M,{targetWidth:p,targetHeight:g,elemWidth:u,elemHeight:d,collisionPosition:n,collisionWidth:x,collisionHeight:C,offset:[a[0]+T[0],a[1]+T[1]],my:e.my,at:e.at,within:y,elem:c})}),e.using&&(h=function(t){var i=m.left-M.left,s=i+p-u,n=m.top-M.top,a=n+g-d,l={target:{element:b,left:m.left,top:m.top,width:p,height:g},element:{element:c,left:M.left,top:M.top,width:u,height:d},horizontal:0>s?"left":i>0?"right":"center",vertical:0>a?"top":n>0?"bottom":"middle"};u>p&&p>r(i+s)&&(l.horizontal="center"),d>g&&g>r(n+a)&&(l.vertical="middle"),l.important=o(r(i),r(s))>o(r(n),r(a))?"horizontal":"vertical",e.using.call(this,t,l)}),c.offset(t.extend(M,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,l=n-r,h=r+e.collisionWidth-a-n;e.collisionWidth>a?l>0&&0>=h?(i=t.left+l+e.collisionWidth-a-n,t.left+=l-i):t.left=h>0&&0>=l?n:l>h?n+a-e.collisionWidth:n:l>0?t.left+=l:h>0?t.left-=h:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,l=n-r,h=r+e.collisionHeight-a-n;e.collisionHeight>a?l>0&&0>=h?(i=t.top+l+e.collisionHeight-a-n,t.top+=l-i):t.top=h>0&&0>=l?n:l>h?n+a-e.collisionHeight:n:l>0?t.top+=l:h>0?t.top-=h:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,a=n.offset.left+n.scrollLeft,o=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-o-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-o-a,(0>i||r(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-l,(s>0||u>r(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,a=n.offset.top+n.scrollTop,o=n.height,l=n.isWindow?n.scrollTop:n.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-o-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-o-a,t.top+p+f+g>c&&(0>s||r(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-l,t.top+p+f+g>u&&(i>0||u>r(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,a,o=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(o?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in s)e.style[a]=s[a];e.appendChild(r),i=o||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=t(r).offset().left,t.support.offsetFractions=n>10&&11>n,e.innerHTML="",i.removeChild(e)}()})(jQuery);(function(e){var t=0,i={},a={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",a.height=a.paddingTop=a.paddingBottom=a.borderTopWidth=a.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e(),content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?(this._activate(t),undefined):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t),undefined)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,a=this.headers.length,s=this.headers.index(t.target),n=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:n=this.headers[(s+1)%a];break;case i.LEFT:case i.UP:n=this.headers[(s-1+a)%a];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:n=this.headers[0];break;case i.END:n=this.headers[a-1]}n&&(e(t.target).attr("tabIndex",-1),e(n).attr("tabIndex",0),n.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var i,a=this.options,s=a.heightStyle,n=this.element.parent(),r=this.accordionId="ui-accordion-"+(this.element.attr("id")||++t);this.active=this._findActive(a.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(t){var i=e(this),a=i.attr("id"),s=i.next(),n=s.attr("id");a||(a=r+"-header-"+t,i.attr("id",a)),n||(n=r+"-panel-"+t,s.attr("id",n)),i.attr("aria-controls",n),s.attr("aria-labelledby",a)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(a.event),"fill"===s?(i=n.height(),this.element.siblings(":visible").each(function(){var t=e(this),a=t.css("position");"absolute"!==a&&"fixed"!==a&&(i-=t.outerHeight(!0))}),this.headers.each(function(){i-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(i=0,this.headers.next().each(function(){i=Math.max(i,e(this).css("height","").height())}).height(i))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,a=this.active,s=e(t.currentTarget),n=s[0]===a[0],r=n&&i.collapsible,o=r?e():s.next(),h=a.next(),d={oldHeader:a,oldPanel:h,newHeader:r?e():s,newPanel:o};t.preventDefault(),n&&!i.collapsible||this._trigger("beforeActivate",t,d)===!1||(i.active=r?!1:this.headers.index(s),this.active=n?e():s,this._toggle(d),a.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&a.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),n||(s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),s.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,a=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=a,this.options.animate?this._animate(i,a,t):(a.hide(),i.show(),this._toggleComplete(t)),a.attr({"aria-hidden":"true"}),a.prev().attr("aria-selected","false"),i.length&&a.length?a.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(e,t,s){var n,r,o,h=this,d=0,c=e.length&&(!t.length||e.index()<t.index()),l=this.options.animate||{},u=c&&l.down||l,v=function(){h._toggleComplete(s)};return"number"==typeof u&&(o=u),"string"==typeof u&&(r=u),r=r||u.easing||l.easing,o=o||u.duration||l.duration,t.length?e.length?(n=e.show().outerHeight(),t.animate(i,{duration:o,easing:r,step:function(e,t){t.now=Math.round(e)}}),e.hide().animate(a,{duration:o,easing:r,complete:v,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?d+=i.now:"content"!==h.options.heightStyle&&(i.now=Math.round(n-t.outerHeight()-d),d=0)}}),undefined):t.animate(i,o,r,v):e.animate(a,o,r,v)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})})(jQuery);(function(e){e.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,i=!0,undefined;t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case a.UP:t=!0,this._keyEvent("previous",n);break;case a.DOWN:t=!0,this._keyEvent("next",n);break;case a.ENTER:case a.NUMPAD_ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),undefined;if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){return s?(s=!1,e.preventDefault(),undefined):(this._searchTimeout(e),undefined)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(e),this._change(e),undefined)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),undefined;var s=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:s})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(s.value):this.liveRegion.text(s.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):undefined},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[e](t),undefined):(this.search(null,t),undefined)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})})(jQuery);(function(e){var t,i="ui-button ui-widget ui-state-default ui-corner-all",n="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",s=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},a=function(t){var i=t.name,n=t.form,s=e([]);return i&&(i=i.replace(/'/g,"\\'"),s=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),s};e.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,s),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var n=this,o=this.options,r="checkbox"===this.type||"radio"===this.type,h=r?"":"ui-state-active";null===o.label&&(o.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(i).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){o.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){o.disabled||e(this).removeClass(h)}).bind("click"+this.eventNamespace,function(e){o.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),r&&this.element.bind("change"+this.eventNamespace,function(){n.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return o.disabled?!1:undefined}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(o.disabled)return!1;e(this).addClass("ui-state-active"),n.buttonElement.attr("aria-pressed","true");var t=n.element[0];a(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return o.disabled?!1:(e(this).addClass("ui-state-active"),t=this,n.document.one("mouseup",function(){t=null}),undefined)}).bind("mouseup"+this.eventNamespace,function(){return o.disabled?!1:(e(this).removeClass("ui-state-active"),undefined)}).bind("keydown"+this.eventNamespace,function(t){return o.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),undefined)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",o.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(i+" ui-state-active "+n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.element.prop("disabled",!!t),t&&this.buttonElement.removeClass("ui-state-focus"),undefined):(this._resetButton(),undefined)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?a(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),undefined;var t=this.buttonElement.removeClass(n),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,a=s.primary&&s.secondary,o=[];s.primary||s.secondary?(this.options.text&&o.push("ui-button-text-icon"+(a?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(o.push(a?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}),e.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);(function(e,t){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){e.datepicker._isDisabledDatepicker(n.inline?t.parent()[0]:n.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function s(t,i){e.extend(t,i);for(var a in i)null==i[a]&&(t[a]=i[a]);return t}e.extend(e.ui,{datepicker:{version:"1.10.4"}});var n,r="datepicker";e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var a,s,n;a=t.nodeName.toLowerCase(),s="div"===a||"span"===a,t.id||(this.uuid+=1,t.id="dp"+this.uuid),n=this._newInst(e(t),s),n.settings=e.extend({},i||{}),"input"===a?this._connectDatepicker(t,n):s&&this._inlineDatepicker(t,n)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var a=e(t);i.append=e([]),i.trigger=e([]),a.hasClass(this.markerClassName)||(this._attachments(a,i),a.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,r,i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var a,s,n,r=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove(),r&&(i.append=e("<span class='"+this._appendClass+"'>"+r+"</span>"),t[o?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),a=this._get(i,"showOn"),("focus"===a||"both"===a)&&t.focus(this._showDatepicker),("button"===a||"both"===a)&&(s=this._get(i,"buttonText"),n=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:n,alt:s,title:s}):e("<button type='button'></button>").addClass(this._triggerClass).html(n?e("<img/>").attr({src:n,alt:s,title:s}):s)),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,a,s,n=new Date(2009,11,20),r=this._get(e,"dateFormat");r.match(/[DM]/)&&(t=function(e){for(i=0,a=0,s=0;e.length>s;s++)e[s].length>i&&(i=e[s].length,a=s);return a},n.setMonth(t(this._get(e,r.match(/MM/)?"monthNames":"monthNamesShort"))),n.setDate(t(this._get(e,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-n.getDay())),e.input.attr("size",this._formatDate(e,n).length)}},_inlineDatepicker:function(t,i){var a=e(t);a.hasClass(this.markerClassName)||(a.addClass(this.markerClassName).append(i.dpDiv),e.data(t,r,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,a,n,o){var u,c,h,l,d,p=this._dialogInst;return p||(this.uuid+=1,u="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+u+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],r,p)),s(p.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(c=document.documentElement.clientWidth,h=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+l,h/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=a,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],r,p),this},_destroyDatepicker:function(t){var i,a=e(t),s=e.data(t,r);a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,r),"input"===i?(s.append.remove(),s.trigger.remove(),a.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&a.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,a,s=e(t),n=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(a=s.children("."+this._inlineClass),a.children().removeClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,a,s=e(t),n=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(a=s.children("."+this._inlineClass),a.children().addClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,r)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,a,n){var r,o,u,c,h=this._getInst(i);return 2===arguments.length&&"string"==typeof a?"defaults"===a?e.extend({},e.datepicker._defaults):h?"all"===a?e.extend({},h.settings):this._get(h,a):null:(r=a||{},"string"==typeof a&&(r={},r[a]=n),h&&(this._curInst===h&&this._hideDatepicker(),o=this._getDateDatepicker(i,!0),u=this._getMinMaxDate(h,"min"),c=this._getMinMaxDate(h,"max"),s(h.settings,r),null!==u&&r.dateFormat!==t&&r.minDate===t&&(h.settings.minDate=this._formatDate(h,u)),null!==c&&r.dateFormat!==t&&r.maxDate===t&&(h.settings.maxDate=this._formatDate(h,c)),"disabled"in r&&(r.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(e(i),h),this._autoSize(h),this._setDate(h,o),this._updateAlternate(h),this._updateDatepicker(h)),t)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,a,s,n=e.datepicker._getInst(t.target),r=!0,o=n.dpDiv.is(".ui-datepicker-rtl");if(n._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return s=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",n.dpDiv),s[0]&&e.datepicker._selectDay(t.target,n.selectedMonth,n.selectedYear,s[0]),i=e.datepicker._get(n,"onSelect"),i?(a=e.datepicker._formatDate(n),i.apply(n.input?n.input[0]:null,[a,n])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(i){var a,s,n=e.datepicker._getInst(i.target);return e.datepicker._get(n,"constrainInput")?(a=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||" ">s||!a||a.indexOf(s)>-1):t},_doKeyUp:function(t){var i,a=e.datepicker._getInst(t.target);if(a.input.val()!==a.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,e.datepicker._getFormatConfig(a)),i&&(e.datepicker._setDateFromField(a),e.datepicker._updateAlternate(a),e.datepicker._updateDatepicker(a))}catch(s){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,a,n,r,o,u,c;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),a=e.datepicker._get(i,"beforeShow"),n=a?a.apply(t,[t,i]):{},n!==!1&&(s(i.settings,n),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return r|="fixed"===e(this).css("position"),!r}),o={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),o=e.datepicker._checkOffset(i,o,r),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),i.inline||(u=e.datepicker._get(i,"showAnim"),c=e.datepicker._get(i,"duration"),i.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[u]?i.dpDiv.show(u,e.datepicker._get(i,"showOptions"),c):i.dpDiv[u||"show"](u?c:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,n=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,a=this._getNumberOfMonths(t),s=a[1],r=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",r*s+"em"),t.dpDiv[(1!==a[0]||1!==a[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,a){var s=t.dpDiv.outerWidth(),n=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,u=document.documentElement.clientWidth+(a?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(a?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?s-r:0,i.left-=a&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=a&&i.top===t.input.offset().top+o?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>u&&u>s?Math.abs(i.left+s-u):0),i.top-=Math.min(i.top,i.top+n>c&&c>n?Math.abs(n+o):0),i},_findPos:function(t){for(var i,a=this._getInst(t),s=this._get(a,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[s?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,a,s,n,o=this._curInst;!o||t&&o!==e.data(t,r)||this._datepickerShowing&&(i=this._get(o,"showAnim"),a=this._get(o,"duration"),s=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),a,s):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?a:null,s),i||s(),this._datepickerShowing=!1,n=this._get(o,"onClose"),n&&n.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),a=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==a)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,a){var s=e(t),n=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(n,i+("M"===a?this._get(n,"showCurrentAtPos"):0),a),this._updateDatepicker(n))},_gotoToday:function(t){var i,a=e(t),s=this._getInst(a[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(a)},_selectMonthYear:function(t,i,a){var s=e(t),n=this._getInst(s[0]);n["selected"+("M"===a?"Month":"Year")]=n["draw"+("M"===a?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(n),this._adjustDate(s)},_selectDay:function(t,i,a,s){var n,r=e(t);e(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(n=this._getInst(r[0]),n.selectedDay=n.currentDay=e("a",s).html(),n.selectedMonth=n.currentMonth=i,n.selectedYear=n.currentYear=a,this._selectDate(t,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var a,s=e(t),n=this._getInst(s[0]);i=null!=i?i:this._formatDate(n),n.input&&n.input.val(i),this._updateAlternate(n),a=this._get(n,"onSelect"),a?a.apply(n.input?n.input[0]:null,[i,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,a,s,n=this._get(t,"altField");n&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),a=this._getDate(t),s=this.formatDate(i,a,this._getFormatConfig(t)),e(n).each(function(){e(this).val(s)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(i,a,s){if(null==i||null==a)throw"Invalid arguments";if(a="object"==typeof a?""+a:a+"",""===a)return null;var n,r,o,u,c=0,h=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,p=(s?s.dayNames:null)||this._defaults.dayNames,g=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,m=(s?s.monthNames:null)||this._defaults.monthNames,f=-1,_=-1,v=-1,k=-1,y=!1,b=function(e){var t=i.length>n+1&&i.charAt(n+1)===e;return t&&n++,t},D=function(e){var t=b(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,s=RegExp("^\\d{1,"+i+"}"),n=a.substring(c).match(s);if(!n)throw"Missing number at position "+c;return c+=n[0].length,parseInt(n[0],10)},w=function(i,s,n){var r=-1,o=e.map(b(i)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,i){var s=i[1];return a.substr(c,s.length).toLowerCase()===s.toLowerCase()?(r=i[0],c+=s.length,!1):t}),-1!==r)return r+1;throw"Unknown name at position "+c},M=function(){if(a.charAt(c)!==i.charAt(n))throw"Unexpected literal at position "+c;c++};for(n=0;i.length>n;n++)if(y)"'"!==i.charAt(n)||b("'")?M():y=!1;else switch(i.charAt(n)){case"d":v=D("d");break;case"D":w("D",d,p);break;case"o":k=D("o");break;case"m":_=D("m");break;case"M":_=w("M",g,m);break;case"y":f=D("y");break;case"@":u=new Date(D("@")),f=u.getFullYear(),_=u.getMonth()+1,v=u.getDate();break;case"!":u=new Date((D("!")-this._ticksTo1970)/1e4),f=u.getFullYear(),_=u.getMonth()+1,v=u.getDate();break;case"'":b("'")?M():y=!0;break;default:M()}if(a.length>c&&(o=a.substr(c),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===f?f=(new Date).getFullYear():100>f&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=f?0:-100)),k>-1)for(_=1,v=k;;){if(r=this._getDaysInMonth(f,_-1),r>=v)break;_++,v-=r}if(u=this._daylightSavingAdjust(new Date(f,_-1,v)),u.getFullYear()!==f||u.getMonth()+1!==_||u.getDate()!==v)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var a,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,n=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,u=function(t){var i=e.length>a+1&&e.charAt(a+1)===t;return i&&a++,i},c=function(e,t,i){var a=""+t;if(u(e))for(;i>a.length;)a="0"+a;return a},h=function(e,t,i,a){return u(e)?a[t]:i[t]},l="",d=!1;if(t)for(a=0;e.length>a;a++)if(d)"'"!==e.charAt(a)||u("'")?l+=e.charAt(a):d=!1;else switch(e.charAt(a)){case"d":l+=c("d",t.getDate(),2);break;case"D":l+=h("D",t.getDay(),s,n);break;case"o":l+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=c("m",t.getMonth()+1,2);break;case"M":l+=h("M",t.getMonth(),r,o);break;case"y":l+=u("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":l+=t.getTime();break;case"!":l+=1e4*t.getTime()+this._ticksTo1970;break;case"'":u("'")?l+="'":d=!0;break;default:l+=e.charAt(a)}return l},_possibleChars:function(e){var t,i="",a=!1,s=function(i){var a=e.length>t+1&&e.charAt(t+1)===i;return a&&t++,a};for(t=0;e.length>t;t++)if(a)"'"!==e.charAt(t)||s("'")?i+=e.charAt(t):a=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":a=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,i){return e.settings[i]!==t?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),a=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),n=s,r=this._getFormatConfig(e);try{n=this.parseDate(i,a,r)||s}catch(o){a=t?"":a}e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),e.currentDay=a?n.getDate():0,e.currentMonth=a?n.getMonth():0,e.currentYear=a?n.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,a){var s=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},n=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(a){}for(var s=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,n=s.getFullYear(),r=s.getMonth(),o=s.getDate(),u=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=u.exec(i);c;){switch(c[2]||"d"){case"d":case"D":o+=parseInt(c[1],10);break;case"w":case"W":o+=7*parseInt(c[1],10);break;case"m":case"M":r+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r));break;case"y":case"Y":n+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r))}c=u.exec(i)}return new Date(n,r,o)},r=null==i||""===i?a:"string"==typeof i?n(i):"number"==typeof i?isNaN(i)?a:s(i):new Date(i.getTime());return r=r&&"Invalid Date"==""+r?a:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var a=!t,s=e.selectedMonth,n=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),s===e.selectedMonth&&n===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(a?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),a="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(a,-i,"M")},next:function(){e.datepicker._adjustDate(a,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(a)},selectDay:function(){return e.datepicker._selectDay(a,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(a,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(a,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,a,s,n,r,o,u,c,h,l,d,p,g,m,f,_,v,k,y,b,D,w,M,C,x,I,N,T,A,E,S,Y,F,P,O,j,K,R,H=new Date,W=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),L=this._get(e,"isRTL"),U=this._get(e,"showButtonPanel"),B=this._get(e,"hideIfNoPrevNext"),z=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),G=this._get(e,"showCurrentAtPos"),J=this._get(e,"stepMonths"),Q=1!==q[0]||1!==q[1],V=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),$=this._getMinMaxDate(e,"min"),X=this._getMinMaxDate(e,"max"),Z=e.drawMonth-G,et=e.drawYear;if(0>Z&&(Z+=12,et--),X)for(t=this._daylightSavingAdjust(new Date(X.getFullYear(),X.getMonth()-q[0]*q[1]+1,X.getDate())),t=$&&$>t?$:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=z?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-J,1)),this._getFormatConfig(e)):i,a=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"e":"w")+"'>"+i+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"e":"w")+"'>"+i+"</span></a>",s=this._get(e,"nextText"),s=z?this.formatDate(s,this._daylightSavingAdjust(new Date(et,Z+J,1)),this._getFormatConfig(e)):s,n=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"w":"e")+"'>"+s+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"w":"e")+"'>"+s+"</span></a>",r=this._get(e,"currentText"),o=this._get(e,"gotoCurrent")&&e.currentDay?V:W,r=z?this.formatDate(r,o,this._getFormatConfig(e)):r,u=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=U?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(L?u:"")+(this._isInRange(e,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(L?"":u)+"</div>":"",h=parseInt(this._get(e,"firstDay"),10),h=isNaN(h)?0:h,l=this._get(e,"showWeek"),d=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),g=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),f=this._get(e,"beforeShowDay"),_=this._get(e,"showOtherMonths"),v=this._get(e,"selectOtherMonths"),k=this._getDefaultDate(e),y="",D=0;q[0]>D;D++){for(w="",this.maxRows=4,M=0;q[1]>M;M++){if(C=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),x=" ui-corner-all",I="",Q){if(I+="<div class='ui-datepicker-group",q[1]>1)switch(M){case 0:I+=" ui-datepicker-group-first",x=" ui-corner-"+(L?"right":"left");break;case q[1]-1:I+=" ui-datepicker-group-last",x=" ui-corner-"+(L?"left":"right");break;default:I+=" ui-datepicker-group-middle",x=""}I+="'>"}for(I+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+x+"'>"+(/all|left/.test(x)&&0===D?L?n:a:"")+(/all|right/.test(x)&&0===D?L?a:n:"")+this._generateMonthYearHeader(e,Z,et,$,X,D>0||M>0,g,m)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",N=l?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",b=0;7>b;b++)T=(b+h)%7,N+="<th"+((b+h+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[T]+"'>"+p[T]+"</span></th>";for(I+=N+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),E=(this._getFirstDayOfMonth(et,Z)-h+7)%7,S=Math.ceil((E+A)/7),Y=Q?this.maxRows>S?this.maxRows:S:S,this.maxRows=Y,F=this._daylightSavingAdjust(new Date(et,Z,1-E)),P=0;Y>P;P++){for(I+="<tr>",O=l?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(F)+"</td>":"",b=0;7>b;b++)j=f?f.apply(e.input?e.input[0]:null,[F]):[!0,""],K=F.getMonth()!==Z,R=K&&!v||!j[0]||$&&$>F||X&&F>X,O+="<td class='"+((b+h+6)%7>=5?" ui-datepicker-week-end":"")+(K?" ui-datepicker-other-month":"")+(F.getTime()===C.getTime()&&Z===e.selectedMonth&&e._keyEvent||k.getTime()===F.getTime()&&k.getTime()===C.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(K&&!_?"":" "+j[1]+(F.getTime()===V.getTime()?" "+this._currentClass:"")+(F.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(K&&!_||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+F.getMonth()+"' data-year='"+F.getFullYear()+"'")+">"+(K&&!_?"&#xa0;":R?"<span class='ui-state-default'>"+F.getDate()+"</span>":"<a class='ui-state-default"+(F.getTime()===W.getTime()?" ui-state-highlight":"")+(F.getTime()===V.getTime()?" ui-state-active":"")+(K?" ui-priority-secondary":"")+"' href='#'>"+F.getDate()+"</a>")+"</td>",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);I+=O+"</tr>"}Z++,Z>11&&(Z=0,et++),I+="</tbody></table>"+(Q?"</div>"+(q[0]>0&&M===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),w+=I}y+=w}return y+=c,e._keyEvent=!1,y},_generateMonthYearHeader:function(e,t,i,a,s,n,r,o){var u,c,h,l,d,p,g,m,f=this._get(e,"changeMonth"),_=this._get(e,"changeYear"),v=this._get(e,"showMonthAfterYear"),k="<div class='ui-datepicker-title'>",y="";if(n||!f)y+="<span class='ui-datepicker-month'>"+r[t]+"</span>";else{for(u=a&&a.getFullYear()===i,c=s&&s.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!u||h>=a.getMonth())&&(!c||s.getMonth()>=h)&&(y+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"</option>");y+="</select>"}if(v||(k+=y+(!n&&f&&_?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",n||!_)k+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(l=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);
return isNaN(t)?d:t},g=p(l[0]),m=Math.max(g,p(l[1]||"")),g=a?Math.max(g,a.getFullYear()):g,m=s?Math.min(m,s.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=g;g++)e.yearshtml+="<option value='"+g+"'"+(g===i?" selected='selected'":"")+">"+g+"</option>";e.yearshtml+="</select>",k+=e.yearshtml,e.yearshtml=null}return k+=this._get(e,"yearSuffix"),v&&(k+=(!n&&f&&_?"":"&#xa0;")+y),k+="</div>"},_adjustInstDate:function(e,t,i){var a=e.drawYear+("Y"===i?t:0),s=e.drawMonth+("M"===i?t:0),n=Math.min(e.selectedDay,this._getDaysInMonth(a,s))+("D"===i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(a,s,n)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),s=i&&i>t?i:t;return a&&s>a?a:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,a){var s=this._getNumberOfMonths(e),n=this._daylightSavingAdjust(new Date(i,a+(0>t?t:s[0]*s[1]),1));return 0>t&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(e,n)},_isInRange:function(e,t){var i,a,s=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),r=null,o=null,u=this._get(e,"yearRange");return u&&(i=u.split(":"),a=(new Date).getFullYear(),r=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=a),i[1].match(/[+\-].*/)&&(o+=a)),(!s||t.getTime()>=s.getTime())&&(!n||t.getTime()<=n.getTime())&&(!r||t.getFullYear()>=r)&&(!o||o>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,a){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(a,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.4"})(jQuery);(function(e){var t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,a=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(s){}this._hide(this.uiDialog,this.options.hide,function(){a._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",e),i},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),undefined):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._trigger("open"),undefined)},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),undefined;if(t.keyCode===e.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),a=i.filter(":first"),s=i.filter(":last");t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==a[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(s.focus(1),t.preventDefault()):(a.focus(1),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),undefined):(e.each(i,function(i,a){var s,n;a=e.isFunction(a)?{click:a,text:i}:a,a=e.extend({type:"button"},a),s=a.click,a.click=function(){s.apply(t.element[0],arguments)},n={icons:a.icons,text:a.showText},delete a.icons,delete a.showText,e("<button></button>",a).button(n).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),undefined)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,a=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(a,s){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",a,t(s))},drag:function(e,a){i._trigger("drag",e,t(a))},stop:function(s,n){a.position=[n.position.left-i.document.scrollLeft(),n.position.top-i.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",s,t(n))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,a=this.options,s=a.resizable,n=this.uiDialog.css("position"),r="string"==typeof s?s:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:r,start:function(a,s){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",a,t(s))},resize:function(e,a){i._trigger("resize",e,t(a))},stop:function(s,n){a.height=e(this).height(),a.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",s,t(n))}}).css("position",n)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(a){var s=this,n=!1,r={};e.each(a,function(e,a){s._setOption(e,a),e in t&&(n=!0),e in i&&(r[e]=a)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,t){var i,a,s=this.uiDialog;"dialogClass"===e&&s.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=s.is(":data(ui-draggable)"),i&&!t&&s.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(a=s.is(":data(ui-resizable)"),a&&!t&&s.resizable("destroy"),a&&"string"==typeof t&&s.resizable("option","handles",t),a||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,a=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),a.minWidth>a.width&&(a.width=a.minWidth),e=this.uiDialog.css({height:"auto",width:a.width}).outerHeight(),t=Math.max(0,a.minHeight-e),i="number"==typeof a.maxHeight?Math.max(0,a.maxHeight-e):"none","auto"===a.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,a.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay(function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(a){t._allowInteraction(a)||(a.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,e.uiBackCompat!==!1&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t,i=this.options.position,a=[],s=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(a=i.split?i.split(" "):[i[0],i[1]],1===a.length&&(a[1]=a[0]),e.each(["left","top"],function(e,t){+a[e]===a[e]&&(s[e]=a[e],a[e]=t)}),i={my:a[0]+(0>s[0]?s[0]:"+"+s[0])+" "+a[1]+(0>s[1]?s[1]:"+"+s[1]),at:a.join(" ")}),i=e.extend({},e.ui.dialog.prototype.options.position,i)):i=e.ui.dialog.prototype.options.position,t=this.uiDialog.is(":visible"),t||this.uiDialog.show(),this.uiDialog.position(i),t||this.uiDialog.hide()}})})(jQuery);(function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;return n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):"document"===n.containment?(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):n.containment.constructor===Array?(this.containment=n.containment,undefined):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i),undefined):(this.containment=null,undefined)},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:n.scrollTop(),left:n.scrollLeft()}),{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s}},_generatePosition:function(e){var i,s,n,a,o=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,h=e.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var s=t(this).data("ui-draggable"),n=s.options,a=t.extend({},i,{item:s.element});s.sortables=[],t(n.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,a))})},stop:function(e,i){var s=t(this).data("ui-draggable"),n=t.extend({},i,{item:s.element});t.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,n))})},drag:function(e,i){var s=t(this).data("ui-draggable"),n=this;t.each(s.sortables,function(){var a=!1,o=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0,t.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(o.instance.element[0],this.instance.element[0])&&(a=!1),a})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",e),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",e),s.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("opacity")&&(n._opacity=s.css("opacity")),s.css("opacity",n.opacity)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._opacity&&t(i.helper).css("opacity",s._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),s=i.options,n=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(e.pageY-t(document).scrollTop()<s.scrollSensitivity?n=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(n=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(e.pageX-t(document).scrollLeft()<s.scrollSensitivity?n=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(n=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed)))),n!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),s=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})})},drag:function(e,i){var s,n,a,o,r,l,h,c,u,d,p=t(this).data("ui-draggable"),g=p.options,f=g.snapTolerance,m=i.offset.left,_=m+p.helperProportions.width,v=i.offset.top,b=v+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)r=p.snapElements[u].left,l=r+p.snapElements[u].width,h=p.snapElements[u].top,c=h+p.snapElements[u].height,r-f>_||m>l+f||h-f>b||v>c+f||!t.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):("inner"!==g.snapMode&&(s=f>=Math.abs(h-b),n=f>=Math.abs(c-v),a=f>=Math.abs(r-_),o=f>=Math.abs(l-m),s&&(i.position.top=p._convertPositionTo("relative",{top:h-p.helperProportions.height,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r-p.helperProportions.width}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=s||n||a||o,"outer"!==g.snapMode&&(s=f>=Math.abs(h-v),n=f>=Math.abs(c-b),a=f>=Math.abs(r-m),o=f>=Math.abs(l-_),s&&(i.position.top=p._convertPositionTo("relative",{top:h,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(s||n||a||o||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=s||n||a||o||d)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,s=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});s.length&&(e=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("zIndex")&&(n._zIndex=s.css("zIndex")),s.css("zIndex",n.zIndex)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._zIndex&&t(i.helper).css("zIndex",s._zIndex)}})})(jQuery);(function(t){function e(t,e,i){return t>e&&e+i>t}t.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?(e=arguments[0],undefined):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},t.ui.ddmanager.droppables[i.scope]=t.ui.ddmanager.droppables[i.scope]||[],t.ui.ddmanager.droppables[i.scope].push(this),i.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];i.length>e;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===s.options.scope&&e.accept.call(e.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(n=!0,!1):undefined}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,i,s){if(!i.offset)return!1;var n,a,o=(t.positionAbs||t.position.absolute).left,r=(t.positionAbs||t.position.absolute).top,l=o+t.helperProportions.width,h=r+t.helperProportions.height,c=i.offset.left,u=i.offset.top,d=c+i.proportions().width,p=u+i.proportions().height;switch(s){case"fit":return o>=c&&d>=l&&r>=u&&p>=h;case"intersect":return o+t.helperProportions.width/2>c&&d>l-t.helperProportions.width/2&&r+t.helperProportions.height/2>u&&p>h-t.helperProportions.height/2;case"pointer":return n=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,a=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(a,u,i.proportions().height)&&e(n,c,i.proportions().width);case"touch":return(r>=u&&p>=r||h>=u&&p>=h||u>r&&h>p)&&(o>=c&&d>=o||l>=c&&d>=l||c>o&&l>d);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,a=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||e&&!a[s].accept.call(a[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue t}a[s].visible="none"!==a[s].element.css("display"),a[s].visible&&("mousedown"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=t.ui.intersect(e,this,this.options.tolerance),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===n}),a.length&&(s=t.data(a[0],"ui-droppable"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}})(jQuery);(function(t,e){var i="ui-effects-";t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=h(),n=s._rgba=[];return i=i.toLowerCase(),f(l,function(t,a){var o,r=a.re.exec(i),l=r&&a.parse(r),h=a.space||"rgba";return l?(o=s[h](l),s[c[h].cache]=o[c[h].cache],n=s._rgba=o._rgba,!1):e}),n.length?("0,0,0,0"===n.join()&&t.extend(n,a.transparent),s):a[i]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],h=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=h.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),h.fn=t.extend(h.prototype,{parse:function(n,o,r,l){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(o),o=e);var u=this,d=t.type(n),p=this._rgba=[];return o!==e&&(n=[n,o,r,l],d="array"),"string"===d?this.parse(s(n)||a._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof h?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var a=s.cache;f(s.props,function(t,e){if(!u[a]&&s.to){if("alpha"===t||null==n[t])return;u[a]=s.to(u._rgba)}u[a][e.idx]=i(n[t],e,!0)}),u[a]&&0>t.inArray(null,u[a].slice(0,3))&&(u[a][3]=1,s.from&&(u._rgba=s.from(u[a])))}),this):e},is:function(t){var i=h(t),s=!0,n=this;return f(c,function(t,a){var o,r=i[a.cache];return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=h(t),n=s._space(),a=c[n],o=0===this.alpha()?h("transparent"):this,r=o[a.cache]||a.to(o._rgba),l=r.slice();return s=s[a.cache],f(a.props,function(t,n){var a=n.idx,o=r[a],h=s[a],c=u[n.type]||{};null!==h&&(null===o?l[a]=h:(c.mod&&(h-o>c.mod/2?o+=c.mod:o-h>c.mod/2&&(o-=c.mod)),l[a]=i((h-o)*e+o,n)))}),this[n](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=h(e)._rgba;return h(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,a=t[2]/255,o=t[3],r=Math.max(s,n,a),l=Math.min(s,n,a),h=r-l,c=r+l,u=.5*c;return e=l===r?0:s===r?60*(n-a)/h+360:n===r?60*(a-s)/h+120:60*(s-n)/h+240,i=0===h?0:.5>=u?h/c:h/(2-c),[Math.round(e)%360,i,u,null==o?1:o]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],a=t[3],o=.5>=s?s*(1+i):s+i-s*i,r=2*s-o;return[Math.round(255*n(r,o,e+1/3)),Math.round(255*n(r,o,e)),Math.round(255*n(r,o,e-1/3)),a]},f(c,function(s,n){var a=n.props,o=n.cache,l=n.to,c=n.from;h.fn[s]=function(s){if(l&&!this[o]&&(this[o]=l(this._rgba)),s===e)return this[o].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[o].slice();return f(a,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=h(c(d)),n[o]=d,n):h(d)},f(a,function(e,i){h.fn[e]||(h.fn[e]=function(n){var a,o=t.type(n),l="alpha"===e?this._hsla?"hsla":"rgba":s,h=this[l](),c=h[i.idx];return"undefined"===o?c:("function"===o&&(n=n.call(this,c),o=t.type(n)),null==n&&i.empty?this:("string"===o&&(a=r.exec(n),a&&(n=c+parseFloat(a[2])*("+"===a[1]?1:-1))),h[i.idx]=n,this[l](h)))})})}),h.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var a,o,r="";if("transparent"!==n&&("string"!==t.type(n)||(a=s(n)))){if(n=h(a||n),!d.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&o&&o.style;)try{r=t.css(o,"backgroundColor"),o=o.parentNode}catch(l){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=h(e.elem,i),e.end=h(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},h.hook(o),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},a=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(a[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(a[i]=n[i]);return a}function s(e,i){var s,n,o={};for(s in i)n=i[s],e[s]!==n&&(a[s]||(t.fx.step[s]||!isNaN(parseFloat(n)))&&(o[s]=n));return o}var n=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,a,o,r){var l=t.speed(a,o,r);return this.queue(function(){var a,o=t(this),r=o.attr("class")||"",h=l.children?o.find("*").addBack():o;h=h.map(function(){var e=t(this);return{el:e,start:i(this)}}),a=function(){t.each(n,function(t,i){e[i]&&o[i+"Class"](e[i])})},a(),h=h.map(function(){return this.end=i(this.el[0]),this.diff=s(this.start,this.end),this}),o.attr("class",r),h=h.map(function(){var e=this,i=t.Deferred(),s=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,h.get()).done(function(){a(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(o[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,a){return s?t.effects.animateClass.call(this,{add:i},s,n,a):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,a){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,a):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(i){return function(s,n,a,o,r){return"boolean"==typeof n||n===e?a?t.effects.animateClass.call(this,n?{add:s}:{remove:s},a,o,r):i.apply(this,arguments):t.effects.animateClass.call(this,{toggle:s},n,a,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,a){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,a)}})}(),function(){function s(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function n(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.10.4",save:function(t,e){for(var s=0;e.length>s;s++)null!==e[s]&&t.data(i+e[s],t[0].style[e[s]])},restore:function(t,s){var n,a;for(a=0;s.length>a;a++)null!==s[a]&&(n=t.data(i+s[a]),n===e&&(n=""),t.css(s[a],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return e.wrap(s),(e[0]===a||t.contains(e[0],a))&&t(a).focus(),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var a=e.cssUnit(i);a[0]>0&&(n[i]=a[0]*s+a[1])}),n}}),t.fn.extend({effect:function(){function e(e){function s(){t.isFunction(a)&&a.call(n[0]),t.isFunction(e)&&e()}var n=t(this),a=i.complete,r=i.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),s()):o.call(n[0],i,s)}var i=s.apply(this,arguments),n=i.mode,a=i.queue,o=t.effects.effect[i.effect];return t.fx.off||!o?n?this[n](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):a===!1?this.each(e):this.queue(a||"fx",e)},show:function(t){return function(e){if(n(e))return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(n(e))return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(n(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}()})(jQuery);(function(t){var e=/up|down|vertical/,i=/up|left|vertical|horizontal/;t.effects.effect.blind=function(s,n){var a,o,r,l=t(this),h=["position","top","bottom","left","right","height","width"],c=t.effects.setMode(l,s.mode||"hide"),u=s.direction||"up",d=e.test(u),p=d?"height":"width",f=d?"top":"left",g=i.test(u),m={},v="show"===c;l.parent().is(".ui-effects-wrapper")?t.effects.save(l.parent(),h):t.effects.save(l,h),l.show(),a=t.effects.createWrapper(l).css({overflow:"hidden"}),o=a[p](),r=parseFloat(a.css(f))||0,m[p]=v?o:0,g||(l.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),m[f]=v?r:o+r),v&&(a.css(p,0),g||a.css(f,r+o)),a.animate(m,{duration:s.duration,easing:s.easing,queue:!1,complete:function(){"hide"===c&&l.hide(),t.effects.restore(l,h),t.effects.removeWrapper(l),n()}})}})(jQuery);(function(t){t.effects.effect.bounce=function(e,i){var s,n,a,o=t(this),r=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(o,e.mode||"effect"),h="hide"===l,c="show"===l,u=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(c||h?1:0),g=e.duration/f,m=e.easing,v="up"===u||"down"===u?"top":"left",_="up"===u||"left"===u,b=o.queue(),y=b.length;for((c||h)&&r.push("opacity"),t.effects.save(o,r),o.show(),t.effects.createWrapper(o),d||(d=o["top"===v?"outerHeight":"outerWidth"]()/3),c&&(a={opacity:1},a[v]=0,o.css("opacity",0).css(v,_?2*-d:2*d).animate(a,g,m)),h&&(d/=Math.pow(2,p-1)),a={},a[v]=0,s=0;p>s;s++)n={},n[v]=(_?"-=":"+=")+d,o.animate(n,g,m).animate(a,g,m),d=h?2*d:d/2;h&&(n={opacity:0},n[v]=(_?"-=":"+=")+d,o.animate(n,g,m)),o.queue(function(){h&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}),y>1&&b.splice.apply(b,[1,0].concat(b.splice(y,f+1))),o.dequeue()}})(jQuery);(function(t){t.effects.effect.clip=function(e,i){var s,n,a,o=t(this),r=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(o,e.mode||"hide"),h="show"===l,c=e.direction||"vertical",u="vertical"===c,d=u?"height":"width",p=u?"top":"left",f={};t.effects.save(o,r),o.show(),s=t.effects.createWrapper(o).css({overflow:"hidden"}),n="IMG"===o[0].tagName?s:o,a=n[d](),h&&(n.css(d,0),n.css(p,a/2)),f[d]=h?a:0,f[p]=h?0:a/2,n.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){h||o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}})}})(jQuery);(function(t){t.effects.effect.drop=function(e,i){var s,n=t(this),a=["position","top","bottom","left","right","opacity","height","width"],o=t.effects.setMode(n,e.mode||"hide"),r="show"===o,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",u={opacity:r?1:0};t.effects.save(n,a),n.show(),t.effects.createWrapper(n),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(h,"pos"===c?-s:s),u[h]=(r?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+s,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),t.effects.restore(n,a),t.effects.removeWrapper(n),i()}})}})(jQuery);(function(t){t.effects.effect.explode=function(e,i){function s(){b.push(this),b.length===u*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),g||p.hide(),i()}var a,o,r,l,h,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),_=Math.ceil(p.outerHeight()/u),b=[];for(a=0;u>a;a++)for(l=m.top+a*_,c=a-(u-1)/2,o=0;d>o;o++)r=m.left+o*v,h=o-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-a*_}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:_,left:r+(g?h*v:0),top:l+(g?c*_:0),opacity:g?0:1}).animate({left:r+(g?0:h*v),top:l+(g?0:c*_),opacity:g?1:0},e.duration||500,e.easing,s)}})(jQuery);(function(t){t.effects.effect.fade=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}})(jQuery);(function(t){t.effects.effect.fold=function(e,i){var s,n,a=t(this),o=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(a,e.mode||"hide"),l="show"===r,h="hide"===r,c=e.size||15,u=/([0-9]+)%/.exec(c),d=!!e.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],g=e.duration/2,m={},v={};t.effects.save(a,o),a.show(),s=t.effects.createWrapper(a).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],u&&(c=parseInt(u[1],10)/100*n[h?0:1]),l&&s.css(d?{height:0,width:c}:{height:c,width:0}),m[f[0]]=l?n[0]:c,v[f[1]]=l?n[1]:0,s.animate(m,g,e.easing).animate(v,g,e.easing,function(){h&&a.hide(),t.effects.restore(a,o),t.effects.removeWrapper(a),i()})}})(jQuery);(function(t){t.effects.effect.highlight=function(e,i){var s=t(this),n=["backgroundImage","backgroundColor","opacity"],a=t.effects.setMode(s,e.mode||"show"),o={backgroundColor:s.css("backgroundColor")};"hide"===a&&(o.opacity=0),t.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(o,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&s.hide(),t.effects.restore(s,n),i()}})}})(jQuery);(function(t){t.effects.effect.pulsate=function(e,i){var s,n=t(this),a=t.effects.setMode(n,e.mode||"show"),o="show"===a,r="hide"===a,l=o||"hide"===a,h=2*(e.times||5)+(l?1:0),c=e.duration/h,u=0,d=n.queue(),p=d.length;for((o||!n.is(":visible"))&&(n.css("opacity",0).show(),u=1),s=1;h>s;s++)n.animate({opacity:u},c,e.easing),u=1-u;n.animate({opacity:u},c,e.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,h+1))),n.dequeue()}})(jQuery);(function(t){t.effects.effect.puff=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"hide"),a="hide"===n,o=parseInt(e.percent,10)||150,r=o/100,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:a?o:100,from:a?l:{height:l.height*r,width:l.width*r,outerHeight:l.outerHeight*r,outerWidth:l.outerWidth*r}}),s.effect(e)},t.effects.effect.scale=function(e,i){var s=t(this),n=t.extend(!0,{},e),a=t.effects.setMode(s,e.mode||"effect"),o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===a?0:100),r=e.direction||"both",l=e.origin,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},c={y:"horizontal"!==r?o/100:1,x:"vertical"!==r?o/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==a&&(n.origin=l||["middle","center"],n.restore=!0),n.from=e.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:h),n.to={height:h.height*c.y,width:h.width*c.x,outerHeight:h.outerHeight*c.y,outerWidth:h.outerWidth*c.x},n.fade&&("show"===a&&(n.from.opacity=0,n.to.opacity=1),"hide"===a&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},t.effects.effect.size=function(e,i){var s,n,a,o=t(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],h=["width","height","overflow"],c=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(o,e.mode||"effect"),f=e.restore||"effect"!==p,g=e.scale||"both",m=e.origin||["middle","center"],v=o.css("position"),_=f?r:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),s={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===e.mode&&"show"===p?(o.from=e.to||b,o.to=e.from||s):(o.from=e.from||("show"===p?b:s),o.to=e.to||("hide"===p?b:s)),a={from:{y:o.from.height/s.height,x:o.from.width/s.width},to:{y:o.to.height/s.height,x:o.to.width/s.width}},("box"===g||"both"===g)&&(a.from.y!==a.to.y&&(_=_.concat(u),o.from=t.effects.setTransition(o,u,a.from.y,o.from),o.to=t.effects.setTransition(o,u,a.to.y,o.to)),a.from.x!==a.to.x&&(_=_.concat(d),o.from=t.effects.setTransition(o,d,a.from.x,o.from),o.to=t.effects.setTransition(o,d,a.to.x,o.to))),("content"===g||"both"===g)&&a.from.y!==a.to.y&&(_=_.concat(c).concat(h),o.from=t.effects.setTransition(o,c,a.from.y,o.from),o.to=t.effects.setTransition(o,c,a.to.y,o.to)),t.effects.save(o,_),o.show(),t.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),m&&(n=t.effects.getBaseline(m,s),o.from.top=(s.outerHeight-o.outerHeight())*n.y,o.from.left=(s.outerWidth-o.outerWidth())*n.x,o.to.top=(s.outerHeight-o.to.outerHeight)*n.y,o.to.left=(s.outerWidth-o.to.outerWidth)*n.x),o.css(o.from),("content"===g||"both"===g)&&(u=u.concat(["marginTop","marginBottom"]).concat(c),d=d.concat(["marginLeft","marginRight"]),h=r.concat(u).concat(d),o.find("*[width]").each(function(){var i=t(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,h),i.from={height:s.height*a.from.y,width:s.width*a.from.x,outerHeight:s.outerHeight*a.from.y,outerWidth:s.outerWidth*a.from.x},i.to={height:s.height*a.to.y,width:s.width*a.to.x,outerHeight:s.height*a.to.y,outerWidth:s.width*a.to.x},a.from.y!==a.to.y&&(i.from=t.effects.setTransition(i,u,a.from.y,i.from),i.to=t.effects.setTransition(i,u,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=t.effects.setTransition(i,d,a.from.x,i.from),i.to=t.effects.setTransition(i,d,a.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,h)})})),o.animate(o.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),t.effects.restore(o,_),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):t.each(["top","left"],function(t,e){o.css(e,function(e,i){var s=parseInt(i,10),n=t?o.to.left:o.to.top;return"auto"===i?n+"px":s+n+"px"})})),t.effects.removeWrapper(o),i()}})}})(jQuery);(function(t){t.effects.effect.shake=function(e,i){var s,n=t(this),a=["position","top","bottom","left","right","height","width"],o=t.effects.setMode(n,e.mode||"effect"),r=e.direction||"left",l=e.distance||20,h=e.times||3,c=2*h+1,u=Math.round(e.duration/c),d="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},g={},m={},v=n.queue(),_=v.length;for(t.effects.save(n,a),n.show(),t.effects.createWrapper(n),f[d]=(p?"-=":"+=")+l,g[d]=(p?"+=":"-=")+2*l,m[d]=(p?"-=":"+=")+2*l,n.animate(f,u,e.easing),s=1;h>s;s++)n.animate(g,u,e.easing).animate(m,u,e.easing);n.animate(g,u,e.easing).animate(f,u/2,e.easing).queue(function(){"hide"===o&&n.hide(),t.effects.restore(n,a),t.effects.removeWrapper(n),i()}),_>1&&v.splice.apply(v,[1,0].concat(v.splice(_,c+1))),n.dequeue()}})(jQuery);(function(t){t.effects.effect.slide=function(e,i){var s,n=t(this),a=["position","top","bottom","left","right","width","height"],o=t.effects.setMode(n,e.mode||"show"),r="show"===o,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,u={};t.effects.save(n,a),n.show(),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(h,c?isNaN(s)?"-"+s:-s:s),u[h]=(r?c?"+=":"-=":c?"-=":"+=")+s,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),t.effects.restore(n,a),t.effects.removeWrapper(n),i()}})}})(jQuery);(function(t){t.effects.effect.transfer=function(e,i){var s=t(this),n=t(e.to),a="fixed"===n.css("position"),o=t("body"),r=a?o.scrollTop():0,l=a?o.scrollLeft():0,h=n.offset(),c={top:h.top-r,left:h.left-l,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:u.top-r,left:u.left-l,height:s.innerHeight(),width:s.innerWidth(),position:a?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),i()})}})(jQuery);(function(t){t.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var s,n,a,o,r,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,n=this.previousFilter||"",a=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),a===n?o=!0:a=n+a,r=RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())}),s=o&&-1!==s.index(this.active.next())?this.active.nextAll(".ui-menu-item"):s,s.length||(a=String.fromCharCode(e.keyCode),r=RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())})),s.length?(this.focus(e,s),s.length>1?(this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),s=e.prev("a"),n=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);s.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",s.attr("id"))}),e=s.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,s;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=e.height(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),undefined):(this.next(e),undefined)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first())),undefined):(this.next(e),undefined)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})})(jQuery);(function(t,e){t.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return t===e?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),e)},_constrainedValue:function(t){return t===e&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})})(jQuery);(function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;e.length>i;i++)s=t.trim(e[i]),a="ui-resizable-"+s,n=t("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,a;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=t(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,a),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(t(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(i){var s,n,a,o=this.options,r=this.element.position(),h=this.element;return this.resizing=!0,/absolute/.test(h.css("position"))?h.css({position:"absolute",top:h.css("top"),left:h.css("left")}):h.is(".ui-draggable")&&h.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy(),s=e(this.helper.css("left")),n=e(this.helper.css("top")),o.containment&&(s+=t(o.containment).scrollLeft()||0,n+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:h.width(),height:h.height()},this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalPosition={left:s,top:n},this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-h.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,a=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===a?this.axis+"-resize":a),h.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var i,s=this.helper,n={},a=this.originalMousePosition,o=this.axis,r=this.position.top,h=this.position.left,l=this.size.width,c=this.size.height,u=e.pageX-a.left||0,d=e.pageY-a.top||0,p=this._change[o];return p?(i=p.apply(this,[e,u,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==r&&(n.top=this.position.top+"px"),this.position.left!==h&&(n.left=this.position.left+"px"),this.size.width!==l&&(n.width=this.size.width+"px"),this.size.height!==c&&(n.height=this.size.height+"px"),s.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&t.ui.hasScroll(i[0],"left")?0:c.sizeDiff.height,a=s?0:c.sizeDiff.width,o={width:c.helper.width()-a,height:c.helper.height()-n},r=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,h=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(o,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,s,n,a,o,r=this.options;o={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:1/0,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,s=o.maxHeight*this.aspectRatio,a=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),n>o.minHeight&&(o.minHeight=n),o.maxWidth>s&&(o.maxWidth=s),o.maxHeight>a&&(o.maxHeight=a)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,s=this.size,n=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(s.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(s.height-t.height),t.left=e.left+(s.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,s=this.axis,n=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,a=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=i(t.width)&&e.minWidth&&e.minWidth>t.width,r=i(t.height)&&e.minHeight&&e.minHeight>t.height,h=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(s),u=/nw|ne|n/.test(s);return o&&(t.width=e.minWidth),r&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),a&&(t.height=e.maxHeight),o&&c&&(t.left=h-e.minWidth),n&&c&&(t.left=h-e.maxWidth),r&&u&&(t.top=l-e.minHeight),a&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,s,n,a=this.helper||this.element;for(t=0;this._proportionallyResizeElements.length>t;t++){if(n=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],s=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],e=0;i.length>e;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(s[e],10)||0);n.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&t.ui.hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,s,n,a,o,r,h,l=t(this).data("ui-resizable"),c=l.options,u=l.element,d=c.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(l.containerElement=t(p),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(p),s=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){s[t]=e(i.css("padding"+n))}),l.containerOffset=i.offset(),l.containerPosition=i.position(),l.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},n=l.containerOffset,a=l.containerSize.height,o=l.containerSize.width,r=t.ui.hasScroll(p,"left")?p.scrollWidth:o,h=t.ui.hasScroll(p)?p.scrollHeight:a,l.parentData={element:p,left:n.left,top:n.top,width:r,height:h}))},resize:function(e){var i,s,n,a,o=t(this).data("ui-resizable"),r=o.options,h=o.containerOffset,l=o.position,c=o._aspectRatio||e.shiftKey,u={top:0,left:0},d=o.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-u.left),c&&(o.size.height=o.size.width/o.aspectRatio),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio),o.position.top=o._helper?h.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,i=Math.abs((o._helper?o.offset.left-u.left:o.offset.left-u.left)+o.sizeDiff.width),s=Math.abs((o._helper?o.offset.top-u.top:o.offset.top-h.top)+o.sizeDiff.height),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a&&(i-=Math.abs(o.parentData.left)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,c&&(o.size.height=o.size.width/o.aspectRatio)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,c&&(o.size.width=o.size.height*o.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.containerOffset,n=e.containerPosition,a=e.containerElement,o=t(e.helper),r=o.offset(),h=o.outerWidth()-e.sizeDiff.width,l=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(a.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(a.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):t.each(i.alsoResize,function(t){s(t)})},resize:function(e,i){var s=t(this).data("ui-resizable"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0},h=function(e,s){t(e).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),a={},o=s&&s.length?s:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(n[e]||0)+(r[e]||0);i&&i>=0&&(a[e]=i||null)}),e.css(a)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?h(n.alsoResize):t.each(n.alsoResize,function(t,e){h(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size,n=e.originalSize,a=e.originalPosition,o=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,h=r[0]||1,l=r[1]||1,c=Math.round((s.width-n.width)/h)*h,u=Math.round((s.height-n.height)/l)*l,d=n.width+c,p=n.height+u,f=i.maxWidth&&d>i.maxWidth,g=i.maxHeight&&p>i.maxHeight,m=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=r,m&&(d+=h),v&&(p+=l),f&&(d-=h),g&&(p-=l),/^(se|s|e)$/.test(o)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.top=a.top-u):/^(sw)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.left=a.left-c):(p-l>0?(e.size.height=p,e.position.top=a.top-u):(e.size.height=l,e.position.top=a.top+n.height-l),d-h>0?(e.size.width=d,e.position.left=a.left-c):(e.size.width=h,e.position.left=a.left+n.width-h))}})})(jQuery);(function(t){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):undefined}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=e.pageX,l=e.pageY;return a>r&&(i=r,r=a,a=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:l-o}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),h=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?h=!(i.left>r||a>i.right||i.top>l||o>i.bottom):"fit"===n.tolerance&&(h=i.left>a&&r>i.right&&i.top>o&&l>i.bottom),h?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}})})(jQuery);(function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)o.push(a);this.handles=n.add(t(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,a,o,r,l,h,u=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-u.values(e));(n>i||n===i&&(e===u._lastChangedValue||u.values(e)===c.min))&&(n=i,a=t(this),o=e)}),r=this._start(e,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),l=a.offset(),h=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-l.left-a.width()/2,top:e.pageY-l.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,a;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>s||1===e&&s>i)&&(i=s),i!==this.values(e)&&(n=this.values(),n[e]=i,a=this._trigger("slide",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),a!==!1&&this.values(e,i))):i!==this.value()&&(a=this._trigger("slide",t,{handle:this.handles[e],value:i}),a!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(e,i){var s,n,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),undefined;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,s,n,a,o=this.options.range,r=this.options,l=this,h=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((l.values(s)-l._valueMin())/(l._valueMax()-l._valueMin())),u["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[h?"animate":"css"](u,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===s&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[h?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[h?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(i){var s,n,a,o,r=t(i.target).data("ui-slider-handle-index");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass("ui-state-active"),s=this._start(i,r),s===!1))return}switch(o=this.options.step,n=a=this.options.values&&this.options.values.length?this.values(r):this.value(),i.keyCode){case t.ui.keyCode.HOME:a=this._valueMin();break;case t.ui.keyCode.END:a=this._valueMax();break;case t.ui.keyCode.PAGE_UP:a=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;a=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;a=this._trimAlignValue(n-o)}this._slide(i,r,a)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})})(jQuery);(function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):undefined}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-t(document).scrollTop()<a.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed)),e.pageX-t(document).scrollLeft()<a.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=i&&s,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return n?this.floating?a&&"right"===a||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&s||"left"===o&&!s:n&&("down"===n&&i||"up"===n&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===s?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)}):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_contactContainers:function(s){var n,o,a,r,h,l,c,u,d,p,f=null,g=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],g=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",s,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",s,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(a=1e4,r=null,p=f.floating||i(this.currentItem),h=p?"left":"top",l=p?"width":"height",c=this.positionAbs[h]+this.offset.click[h],o=this.items.length-1;o>=0;o--)t.contains(this.containers[g].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(u=this.items[o].item.offset()[h],d=!1,Math.abs(u-c)>Math.abs(u+this.items[o][l]-c)&&(d=!0,u+=this.items[o][l]),a>Math.abs(u-c)&&(a=Math.abs(u-c),r=this.items[o],this.direction=d?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;r?this._rearrange(s,r,null,!0):this._rearrange(s,null,this.containers[g].element,!0),this._trigger("change",s,this._uiHash()),this.containers[g]._trigger("change",s,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",s,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})})(jQuery);(function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);void 0!==n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,this.element.val(this._format(i)),void 0}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(e(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})})(jQuery);(function(t,e){function i(){return++n}function s(t){return t=t.cloneNode(!1),t.hash.length>1&&decodeURIComponent(t.href.replace(a,""))===decodeURIComponent(location.href.replace(a,""))}var n=0,a=/#.*$/;t.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var i=this.options.active,s=this.options.collapsible,n=location.hash.substring(1);return null===i&&(n&&this.tabs.each(function(s,a){return t(a).attr("aria-controls")===n?(i=s,!1):e}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===i||-1===i)&&(i=this.tabs.length?0:!1)),i!==!1&&(i=this.tabs.index(this.tabs.eq(i)),-1===i&&(i=s?!1:0)),!s&&i===!1&&this.anchors.length&&(i=0),i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(i){var s=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(s),a=!0;if(!this._handlePageNav(i)){switch(i.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:a=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return i.preventDefault(),clearTimeout(this.activating),this._activate(n),e;case t.ui.keyCode.ENTER:return i.preventDefault(),clearTimeout(this.activating),this._activate(n===this.options.active?!1:n),e;default:return}i.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,a),i.ctrlKey||(s.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(i){return i.altKey&&i.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):i.altKey&&i.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):e},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,i){return"active"===t?(this._activate(i),e):"disabled"===t?(this._setupDisabled(i),e):(this._super(t,i),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",i),i||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(i),"heightStyle"===t&&this._setupHeightStyle(i),e)},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,n){var a,o,r,h=t(n).uniqueId().attr("id"),l=t(n).closest("li"),c=l.attr("aria-controls");s(n)?(a=n.hash,o=e.element.find(e._sanitizeSelector(a))):(r=e._tabId(l),a="#"+r,o=e.element.find(a),o.length||(o=e._createPanel(r),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":a.substring(1),"aria-labelledby":h}),o.attr("aria-labelledby",h)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,s=0;i=this.tabs[s];s++)e===!0||-1!==t.inArray(s,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={click:function(t){t.preventDefault()}};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),a=n.closest("li"),o=a[0]===s[0],r=o&&i.collapsible,h=r?t():this._getPanelForTab(a),l=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:l,newTab:r?t():a,newPanel:h};e.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?t():a,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(a),e),this._toggle(e,c))},_toggle:function(e,i){function s(){a.running=!1,a._trigger("activate",e,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,s):(o.show(),s())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var s=this.options.disabled;s!==!1&&(i===e?s=!1:(i=this._getIndex(i),s=t.isArray(s)?t.map(s,function(t){return t!==i?t:null}):t.map(this.tabs,function(t,e){return e!==i?e:null})),this._setupDisabled(s))},disable:function(i){var s=this.options.disabled;if(s!==!0){if(i===e)s=!0;else{if(i=this._getIndex(i),-1!==t.inArray(i,s))return;s=t.isArray(s)?t.merge([i],s).sort():[i]}this._setupDisabled(s)}},load:function(e,i){e=this._getIndex(e);var n=this,a=this.tabs.eq(e),o=a.find(".ui-tabs-anchor"),r=this._getPanelForTab(a),h={tab:a,panel:r};s(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,h)),this.xhr&&"canceled"!==this.xhr.statusText&&(a.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){r.html(t),n._trigger("load",i,h)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&n.panels.stop(!1,!0),a.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href"),beforeSend:function(e,a){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:a},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})})(jQuery);(function(t){function e(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))}function i(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")}var s=0;t.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(e,i){var s=this;return"disabled"===e?(this[i?"_disable":"_enable"](),this.options[e]=i,void 0):(this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e)}),void 0)},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s[0],e.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s?this._open(e,t,s):(i=s.call(t[0],function(i){t.data("ui-tooltip-open")&&n._delay(function(){e&&(e.type=o),this._open(e,t,i)})}),i&&this._open(e,t,i),void 0)},_open:function(i,s,n){function o(t){l.of=t,a.is(":hidden")||a.position(l)}var a,r,h,l=t.extend({},this.options.position);if(n){if(a=this._find(s),a.length)return a.find(".ui-tooltip-content").html(n),void 0;s.is("[title]")&&(i&&"mouseover"===i.type?s.attr("title",""):s.removeAttr("title")),a=this._tooltip(s),e(s,a.attr("id")),a.find(".ui-tooltip-content").html(n),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:o}),o(i)):a.position(t.extend({of:s},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){a.is(":visible")&&(o(l.of),clearInterval(h))},t.fx.interval)),this._trigger("open",i,{tooltip:a}),r={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=s[0],this.close(i,!0)}},remove:function(){this._removeTooltip(a)}},i&&"mouseover"!==i.type||(r.mouseleave="close"),i&&"focusin"!==i.type||(r.focusout="close"),this._on(!0,s,r)}},close:function(e){var s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);this.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&n.attr("title",n.data("ui-tooltip-title")),i(n),o.stop(!0),this._hide(o,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:o}),this.closing=!1)},_tooltip:function(e){var i="ui-tooltip-"+s++,n=t("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return t("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]=e,n},_find:function(e){var i=e.data("ui-tooltip-id");return i?t("#"+i):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s[0],e.close(n,!0),t("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))})}})})(jQuery);



/*
 * SPServices - Work with SharePoint's Web Services using jQuery
 * Version 2014.02
 * @requires jQuery v1.8 or greater - jQuery 1.10.x+ recommended
 *
 * Copyright (c) 2009-2014 Sympraxis Consulting LLC
 * Examples and docs at:
 * http://spservices.codeplex.com
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/mit-license.php
 */
/*
 * @description Work with SharePoint's Web Services using jQuery
 * @type jQuery
 * @name SPServices
 * @category Plugins/SPServices
 * @author Sympraxis Consulting LLC/marc.anderson@sympraxisconsulting.com
 */
(function (ao) { var ab = "2014.02"; var Q = "/"; var ah = ";#"; var al = "Column not found on page"; var ad = "http://schemas.microsoft.com/sharepoint"; var at = "MultiLookupPicker"; var g = "MultiLookup"; var Y = { simple: "S", complex: "C", multiSelect: "M" }; var ar = ["Integer", "Text", "Note", "DateTime", "Counter", "Choice", "Lookup", "Boolean", "Number", "Currency", "URL", "MultiChoice", "Calculated", "File", "Attachments", "User", "ModStat", "ContentTypeId", "WorkflowStatus", "UserMulti", "LookupMulti", "datetime", "float", "Calc"]; var B = {}; var b = "Alerts"; var v = "Authentication"; var aq = "Copy"; var G = "Forms"; var ay = "Lists"; var m = "Meetings"; var af = "OfficialFile"; var C = "People"; var f = "Permissions"; var h = "PublishedLinksService"; var am = "Search"; var ak = "SharePointDiagnostics"; var aa = "SiteData"; var aG = "Sites"; var J = "SocialDataService"; var ai = "SpellCheck"; var o = "TaxonomyClientService"; var l = "usergroup"; var K = "UserProfileService"; var E = "Versions"; var aF = "Views"; var e = "WebPartPages"; var aC = "Webs"; var F = "Workflow"; var ae = new av(); var O = 0; var y = ["listName", "description"]; var U = []; U.GetAlerts = [b, false]; U.DeleteAlerts = [b, true]; U.Mode = [v, false]; U.Login = [v, false]; U.CopyIntoItems = [aq, true]; U.CopyIntoItemsLocal = [aq, true]; U.GetItem = [aq, false]; U.GetForm = [G, false]; U.GetFormCollection = [G, false]; U.AddAttachment = [ay, true]; U.AddDiscussionBoardItem = [ay, true]; U.AddList = [ay, true]; U.AddListFromFeature = [ay, true]; U.ApplyContentTypeToList = [ay, true]; U.CheckInFile = [ay, true]; U.CheckOutFile = [ay, true]; U.CreateContentType = [ay, true]; U.DeleteAttachment = [ay, true]; U.DeleteContentType = [ay, true]; U.DeleteContentTypeXmlDocument = [ay, true]; U.DeleteList = [ay, true]; U.GetAttachmentCollection = [ay, false]; U.GetList = [ay, false]; U.GetListAndView = [ay, false]; U.GetListCollection = [ay, false]; U.GetListContentType = [ay, false]; U.GetListContentTypes = [ay, false]; U.GetListItemChanges = [ay, false]; U.GetListItemChangesSinceToken = [ay, false]; U.GetListItems = [ay, false]; U.GetVersionCollection = [ay, false]; U.UndoCheckOut = [ay, true]; U.UpdateContentType = [ay, true]; U.UpdateContentTypesXmlDocument = [ay, true]; U.UpdateContentTypeXmlDocument = [ay, true]; U.UpdateList = [ay, true]; U.UpdateListItems = [ay, true]; U.AddMeeting = [m, true]; U.CreateWorkspace = [m, true]; U.RemoveMeeting = [m, true]; U.SetWorkSpaceTitle = [m, true]; U.GetRecordRouting = [af, false]; U.GetRecordRoutingCollection = [af, false]; U.GetServerInfo = [af, false]; U.SubmitFile = [af, true]; U.ResolvePrincipals = [C, true]; U.SearchPrincipals = [C, false]; U.AddPermission = [f, true]; U.AddPermissionCollection = [f, true]; U.GetPermissionCollection = [f, true]; U.RemovePermission = [f, true]; U.RemovePermissionCollection = [f, true]; U.UpdatePermission = [f, true]; U.GetLinks = [h, true]; U.GetPortalSearchInfo = [am, false]; U.GetQuerySuggestions = [am, false]; U.GetSearchMetadata = [am, false]; U.Query = [am, false]; U.QueryEx = [am, false]; U.Registration = [am, false]; U.Status = [am, false]; U.SendClientScriptErrorReport = [ak, true]; U.GetAttachments = [aa, false]; U.EnumerateFolder = [aa, false]; U.SiteDataGetList = [aa, false]; U.SiteDataGetListCollection = [aa, false]; U.SiteDataGetSite = [aa, false]; U.SiteDataGetSiteUrl = [aa, false]; U.SiteDataGetWeb = [aa, false]; U.CreateWeb = [aG, true]; U.DeleteWeb = [aG, true]; U.GetSite = [aG, false]; U.GetSiteTemplates = [aG, false]; U.AddComment = [J, true]; U.AddTag = [J, true]; U.AddTagByKeyword = [J, true]; U.CountCommentsOfUser = [J, false]; U.CountCommentsOfUserOnUrl = [J, false]; U.CountCommentsOnUrl = [J, false]; U.CountRatingsOnUrl = [J, false]; U.CountTagsOfUser = [J, false]; U.DeleteComment = [J, true]; U.DeleteRating = [J, true]; U.DeleteTag = [J, true]; U.DeleteTagByKeyword = [J, true]; U.DeleteTags = [J, true]; U.GetAllTagTerms = [J, false]; U.GetAllTagTermsForUrlFolder = [J, false]; U.GetAllTagUrls = [J, false]; U.GetAllTagUrlsByKeyword = [J, false]; U.GetCommentsOfUser = [J, false]; U.GetCommentsOfUserOnUrl = [J, false]; U.GetCommentsOnUrl = [J, false]; U.GetRatingAverageOnUrl = [J, false]; U.GetRatingOfUserOnUrl = [J, false]; U.GetRatingOnUrl = [J, false]; U.GetRatingsOfUser = [J, false]; U.GetRatingsOnUrl = [J, false]; U.GetSocialDataForFullReplication = [J, false]; U.GetTags = [J, true]; U.GetTagsOfUser = [J, true]; U.GetTagTerms = [J, true]; U.GetTagTermsOfUser = [J, true]; U.GetTagTermsOnUrl = [J, true]; U.GetTagUrlsOfUser = [J, true]; U.GetTagUrlsOfUserByKeyword = [J, true]; U.GetTagUrls = [J, true]; U.GetTagUrlsByKeyword = [J, true]; U.SetRating = [J, true]; U.UpdateComment = [J, true]; U.SpellCheck = [ai, false]; U.AddTerms = [o, true]; U.GetChildTermsInTerm = [o, false]; U.GetChildTermsInTermSet = [o, false]; U.GetKeywordTermsByGuids = [o, false]; U.GetTermsByLabel = [o, false]; U.GetTermSets = [o, false]; U.AddGroup = [l, true]; U.AddGroupToRole = [l, true]; U.AddRole = [l, true]; U.AddRoleDef = [l, true]; U.AddUserCollectionToGroup = [l, true]; U.AddUserCollectionToRole = [l, true]; U.AddUserToGroup = [l, true]; U.AddUserToRole = [l, true]; U.GetAllUserCollectionFromWeb = [l, false]; U.GetGroupCollection = [l, false]; U.GetGroupCollectionFromRole = [l, false]; U.GetGroupCollectionFromSite = [l, false]; U.GetGroupCollectionFromUser = [l, false]; U.GetGroupCollectionFromWeb = [l, false]; U.GetGroupInfo = [l, false]; U.GetRoleCollection = [l, false]; U.GetRoleCollectionFromGroup = [l, false]; U.GetRoleCollectionFromUser = [l, false]; U.GetRoleCollectionFromWeb = [l, false]; U.GetRoleInfo = [l, false]; U.GetRolesAndPermissionsForCurrentUser = [l, false]; U.GetRolesAndPermissionsForSite = [l, false]; U.GetUserCollection = [l, false]; U.GetUserCollectionFromGroup = [l, false]; U.GetUserCollectionFromRole = [l, false]; U.GetUserCollectionFromSite = [l, false]; U.GetUserCollectionFromWeb = [l, false]; U.GetUserInfo = [l, false]; U.GetUserLoginFromEmail = [l, false]; U.RemoveGroup = [l, true]; U.RemoveGroupFromRole = [l, true]; U.RemoveRole = [l, true]; U.RemoveUserCollectionFromGroup = [l, true]; U.RemoveUserCollectionFromRole = [l, true]; U.RemoveUserCollectionFromSite = [l, true]; U.RemoveUserFromGroup = [l, true]; U.RemoveUserFromRole = [l, true]; U.RemoveUserFromSite = [l, true]; U.RemoveUserFromWeb = [l, true]; U.UpdateGroupInfo = [l, true]; U.UpdateRoleDefInfo = [l, true]; U.UpdateRoleInfo = [l, true]; U.UpdateUserInfo = [l, true]; U.AddColleague = [K, true]; U.AddLink = [K, true]; U.AddMembership = [K, true]; U.AddPinnedLink = [K, true]; U.CreateMemberGroup = [K, true]; U.CreateUserProfileByAccountName = [K, true]; U.GetCommonColleagues = [K, false]; U.GetCommonManager = [K, false]; U.GetCommonMemberships = [K, false]; U.GetInCommon = [K, false]; U.GetPropertyChoiceList = [K, false]; U.GetUserColleagues = [K, false]; U.GetUserLinks = [K, false]; U.GetUserMemberships = [K, false]; U.GetUserPinnedLinks = [K, false]; U.GetUserProfileByGuid = [K, false]; U.GetUserProfileByIndex = [K, false]; U.GetUserProfileByName = [K, false]; U.GetUserProfileCount = [K, false]; U.GetUserProfileSchema = [K, false]; U.GetUserPropertyByAccountName = [K, false]; U.ModifyUserPropertyByAccountName = [K, true]; U.RemoveAllColleagues = [K, true]; U.RemoveAllLinks = [K, true]; U.RemoveAllMemberships = [K, true]; U.RemoveAllPinnedLinks = [K, true]; U.RemoveColleague = [K, true]; U.RemoveLink = [K, true]; U.RemoveMembership = [K, true]; U.RemovePinnedLink = [K, true]; U.UpdateColleaguePrivacy = [K, true]; U.UpdateLink = [K, true]; U.UpdateMembershipPrivacy = [K, true]; U.UpdatePinnedLink = [K, true]; U.DeleteAllVersions = [E, true]; U.DeleteVersion = [E, true]; U.GetVersions = [E, false]; U.RestoreVersion = [E, true]; U.AddView = [aF, true]; U.DeleteView = [aF, true]; U.GetView = [aF, false]; U.GetViewHtml = [aF, false]; U.GetViewCollection = [aF, false]; U.UpdateView = [aF, true]; U.UpdateViewHtml = [aF, true]; U.AddWebPart = [e, true]; U.AddWebPartToZone = [e, true]; U.DeleteWebPart = [e, true]; U.GetWebPart2 = [e, false]; U.GetWebPartPage = [e, false]; U.GetWebPartProperties = [e, false]; U.GetWebPartProperties2 = [e, false]; U.SaveWebPart2 = [e, true]; U.CreateContentType = [aC, true]; U.GetColumns = [aC, false]; U.GetContentType = [aC, false]; U.GetContentTypes = [aC, false]; U.GetCustomizedPageStatus = [aC, false]; U.GetListTemplates = [aC, false]; U.GetObjectIdFromUrl = [aC, false]; U.GetWeb = [aC, false]; U.GetWebCollection = [aC, false]; U.GetAllSubWebCollection = [aC, false]; U.UpdateColumns = [aC, true]; U.UpdateContentType = [aC, true]; U.WebUrlFromPageUrl = [aC, false]; U.AlterToDo = [F, true]; U.ClaimReleaseTask = [F, true]; U.GetTemplatesForItem = [F, false]; U.GetToDosForItem = [F, false]; U.GetWorkflowDataForItem = [F, false]; U.GetWorkflowTaskData = [F, false]; U.StartWorkflow = [F, true]; var T = {}; T.header = "<soap:Envelope xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' xmlns:xsd='http://www.w3.org/2001/XMLSchema' xmlns:soap='http://schemas.xmlsoap.org/soap/envelope/'><soap:Body>"; T.footer = "</soap:Body></soap:Envelope>"; T.payload = ""; var ac; ao.fn.SPServices = function (aP) { var aJ = ao.extend({}, ao.fn.SPServices.defaults, aP); for (var aM = 0; aM < y.length; aM++) { if (typeof aJ[y[aM]] === "string") { aJ[y[aM]] = j(aJ[y[aM]]) } } T.opheader = "<" + aJ.operation + " "; switch (U[aJ.operation][0]) { case b: T.opheader += "xmlns='" + ad + "/soap/2002/1/alerts/' >"; ac = ad + "/soap/2002/1/alerts/"; break; case m: T.opheader += "xmlns='" + ad + "/soap/meetings/' >"; ac = ad + "/soap/meetings/"; break; case af: T.opheader += "xmlns='" + ad + "/soap/recordsrepository/' >"; ac = ad + "/soap/recordsrepository/"; break; case f: T.opheader += "xmlns='" + ad + "/soap/directory/' >"; ac = ad + "/soap/directory/"; break; case h: T.opheader += "xmlns='http://microsoft.com/webservices/SharePointPortalServer/PublishedLinksService/' >"; ac = "http://microsoft.com/webservices/SharePointPortalServer/PublishedLinksService/"; break; case am: T.opheader += "xmlns='urn:Microsoft.Search' >"; ac = "urn:Microsoft.Search/"; break; case ak: T.opheader += "xmlns='" + ad + "/diagnostics/' >"; ac = "http://schemas.microsoft.com/sharepoint/diagnostics/"; break; case J: T.opheader += "xmlns='http://microsoft.com/webservices/SharePointPortalServer/SocialDataService' >"; ac = "http://microsoft.com/webservices/SharePointPortalServer/SocialDataService/"; break; case ai: T.opheader += "xmlns='http://schemas.microsoft.com/sharepoint/publishing/spelling/' >"; ac = "http://schemas.microsoft.com/sharepoint/publishing/spelling/SpellCheck"; break; case o: T.opheader += "xmlns='" + ad + "/taxonomy/soap/' >"; ac = ad + "/taxonomy/soap/"; break; case l: T.opheader += "xmlns='" + ad + "/soap/directory/' >"; ac = ad + "/soap/directory/"; break; case K: T.opheader += "xmlns='http://microsoft.com/webservices/SharePointPortalServer/UserProfileService' >"; ac = "http://microsoft.com/webservices/SharePointPortalServer/UserProfileService/"; break; case e: T.opheader += "xmlns='http://microsoft.com/sharepoint/webpartpages' >"; ac = "http://microsoft.com/sharepoint/webpartpages/"; break; case F: T.opheader += "xmlns='" + ad + "/soap/workflow/' >"; ac = ad + "/soap/workflow/"; break; default: T.opheader += "xmlns='" + ad + "/soap/'>"; ac = ad + "/soap/"; break } ac += aJ.operation; T.opfooter = "</" + aJ.operation + ">"; var aH = "_vti_bin/" + U[aJ.operation][0] + ".asmx"; var aL = ao().SPServices.SPGetCurrentSite(); var aN = aJ.webURL !== undefined ? aJ.webURL : aJ.webUrl; if (aN.charAt(aN.length - 1) === Q) { aH = aN + aH } else { if (aN.length > 0) { aH = aN + Q + aH } else { aH = aL + ((aL.charAt(aL.length - 1) === Q) ? aH : (Q + aH)) } } T.payload = ""; switch (aJ.operation) { case "GetAlerts": break; case "DeleteAlerts": T.payload += "<IDs>"; for (aM = 0; aM < aJ.IDs.length; aM++) { T.payload += aB("string", aJ.IDs[aM]) } T.payload += "</IDs>"; break; case "Mode": break; case "Login": ax(aJ, ["username", "password"]); break; case "CopyIntoItems": ax(aJ, ["SourceUrl"]); T.payload += "<DestinationUrls>"; for (aM = 0; aM < aJ.DestinationUrls.length; aM++) { T.payload += aB("string", aJ.DestinationUrls[aM]) } T.payload += "</DestinationUrls>"; ax(aJ, ["Fields", "Stream", "Results"]); break; case "CopyIntoItemsLocal": ax(aJ, ["SourceUrl"]); T.payload += "<DestinationUrls>"; for (aM = 0; aM < aJ.DestinationUrls.length; aM++) { T.payload += aB("string", aJ.DestinationUrls[aM]) } T.payload += "</DestinationUrls>"; break; case "GetItem": ax(aJ, ["Url", "Fields", "Stream"]); break; case "GetForm": ax(aJ, ["listName", "formUrl"]); break; case "GetFormCollection": ax(aJ, ["listName"]); break; case "AddAttachment": ax(aJ, ["listName", "listItemID", "fileName", "attachment"]); break; case "AddDiscussionBoardItem": ax(aJ, ["listName", "message"]); break; case "AddList": ax(aJ, ["listName", "description", "templateID"]); break; case "AddListFromFeature": ax(aJ, ["listName", "description", "featureID", "templateID"]); break; case "ApplyContentTypeToList": ax(aJ, ["webUrl", "contentTypeId", "listName"]); break; case "CheckInFile": ax(aJ, ["pageUrl", "comment", "CheckinType"]); break; case "CheckOutFile": ax(aJ, ["pageUrl", "checkoutToLocal", "lastmodified"]); break; case "CreateContentType": ax(aJ, ["listName", "displayName", "parentType", "fields", "contentTypeProperties", "addToView"]); break; case "DeleteAttachment": ax(aJ, ["listName", "listItemID", "url"]); break; case "DeleteContentType": ax(aJ, ["listName", "contentTypeId"]); break; case "DeleteContentTypeXmlDocument": ax(aJ, ["listName", "contentTypeId", "documentUri"]); break; case "DeleteList": ax(aJ, ["listName"]); break; case "GetAttachmentCollection": ax(aJ, ["listName", ["listItemID", "ID"]]); break; case "GetList": ax(aJ, ["listName"]); break; case "GetListAndView": ax(aJ, ["listName", "viewName"]); break; case "GetListCollection": break; case "GetListContentType": ax(aJ, ["listName", "contentTypeId"]); break; case "GetListContentTypes": ax(aJ, ["listName"]); break; case "GetListItems": ax(aJ, ["listName", "viewName", ["query", "CAMLQuery"], ["viewFields", "CAMLViewFields"], ["rowLimit", "CAMLRowLimit"], ["queryOptions", "CAMLQueryOptions"]]); break; case "GetListItemChanges": ax(aJ, ["listName", "viewFields", "since", "contains"]); break; case "GetListItemChangesSinceToken": ax(aJ, ["listName", "viewName", ["query", "CAMLQuery"], ["viewFields", "CAMLViewFields"], ["rowLimit", "CAMLRowLimit"], ["queryOptions", "CAMLQueryOptions"], { name: "changeToken", sendNull: false }, { name: "contains", sendNull: false }]); break; case "GetVersionCollection": ax(aJ, ["strlistID", "strlistItemID", "strFieldName"]); break; case "UndoCheckOut": ax(aJ, ["pageUrl"]); break; case "UpdateContentType": ax(aJ, ["listName", "contentTypeId", "contentTypeProperties", "newFields", "updateFields", "deleteFields", "addToView"]); break; case "UpdateContentTypesXmlDocument": ax(aJ, ["listName", "newDocument"]); break; case "UpdateContentTypeXmlDocument": ax(aJ, ["listName", "contentTypeId", "newDocument"]); break; case "UpdateList": ax(aJ, ["listName", "listProperties", "newFields", "updateFields", "deleteFields", "listVersion"]); break; case "UpdateListItems": ax(aJ, ["listName"]); if (typeof aJ.updates !== "undefined" && aJ.updates.length > 0) { ax(aJ, ["updates"]) } else { T.payload += "<updates><Batch OnError='Continue'><Method ID='1' Cmd='" + aJ.batchCmd + "'>"; for (aM = 0; aM < aJ.valuepairs.length; aM++) { T.payload += "<Field Name='" + aJ.valuepairs[aM][0] + "'>" + L(aJ.valuepairs[aM][1]) + "</Field>" } if (aJ.batchCmd !== "New") { T.payload += "<Field Name='ID'>" + aJ.ID + "</Field>" } T.payload += "</Method></Batch></updates>" } break; case "AddMeeting": ax(aJ, ["organizerEmail", "uid", "sequence", "utcDateStamp", "title", "location", "utcDateStart", "utcDateEnd", "nonGregorian"]); break; case "CreateWorkspace": ax(aJ, ["title", "templateName", "lcid", "timeZoneInformation"]); break; case "RemoveMeeting": ax(aJ, ["recurrenceId", "uid", "sequence", "utcDateStamp", "cancelMeeting"]); break; case "SetWorkspaceTitle": ax(aJ, ["title"]); break; case "GetRecordRouting": ax(aJ, ["recordRouting"]); break; case "GetRecordRoutingCollection": break; case "GetServerInfo": break; case "SubmitFile": ax(aJ, ["fileToSubmit"], ["properties"], ["recordRouting"], ["sourceUrl"], ["userName"]); break; case "ResolvePrincipals": ax(aJ, ["principalKeys", "principalType", "addToUserInfoList"]); break; case "SearchPrincipals": ax(aJ, ["searchText", "maxResults", "principalType"]); break; case "AddPermission": ax(aJ, ["objectName", "objectType", "permissionIdentifier", "permissionType", "permissionMask"]); break; case "AddPermissionCollection": ax(aJ, ["objectName", "objectType", "permissionsInfoXml"]); break; case "GetPermissionCollection": ax(aJ, ["objectName", "objectType"]); break; case "RemovePermission": ax(aJ, ["objectName", "objectType", "permissionIdentifier", "permissionType"]); break; case "RemovePermissionCollection": ax(aJ, ["objectName", "objectType", "memberIdsXml"]); break; case "UpdatePermission": ax(aJ, ["objectName", "objectType", "permissionIdentifier", "permissionType", "permissionMask"]); break; case "GetLinks": break; case "GetPortalSearchInfo": T.opheader = "<" + aJ.operation + " xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>"; ac = "http://microsoft.com/webservices/OfficeServer/QueryService/" + aJ.operation; break; case "GetQuerySuggestions": T.opheader = "<" + aJ.operation + " xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>"; ac = "http://microsoft.com/webservices/OfficeServer/QueryService/" + aJ.operation; T.payload += aB("queryXml", j(aJ.queryXml)); break; case "GetSearchMetadata": T.opheader = "<" + aJ.operation + " xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>"; ac = "http://microsoft.com/webservices/OfficeServer/QueryService/" + aJ.operation; break; case "Query": T.payload += aB("queryXml", j(aJ.queryXml)); break; case "QueryEx": T.opheader = "<" + aJ.operation + " xmlns='http://microsoft.com/webservices/OfficeServer/QueryService'>"; ac = "http://microsoft.com/webservices/OfficeServer/QueryService/" + aJ.operation; T.payload += aB("queryXml", j(aJ.queryXml)); break; case "Registration": T.payload += aB("registrationXml", j(aJ.registrationXml)); break; case "Status": break; case "SendClientScriptErrorReport": ax(aJ, ["message", "file", "line", "client", "stack", "team", "originalFile"]); break; case "EnumerateFolder": ax(aJ, ["strFolderUrl"]); break; case "GetAttachments": ax(aJ, ["strListName", "strItemId"]); break; case "SiteDataGetList": ax(aJ, ["strListName"]); T = k(T, aJ.operation); break; case "SiteDataGetListCollection": T = k(T, aJ.operation); break; case "SiteDataGetSite": T = k(T, aJ.operation); break; case "SiteDataGetSiteUrl": ax(aJ, ["Url"]); T = k(T, aJ.operation); break; case "SiteDataGetWeb": T = k(T, aJ.operation); break; case "CreateWeb": ax(aJ, ["url", "title", "description", "templateName", "language", "languageSpecified", "locale", "localeSpecified", "collationLocale", "collationLocaleSpecified", "uniquePermissions", "uniquePermissionsSpecified", "anonymous", "anonymousSpecified", "presence", "presenceSpecified"]); break; case "DeleteWeb": ax(aJ, ["url"]); break; case "GetSite": ax(aJ, ["SiteUrl"]); break; case "GetSiteTemplates": ax(aJ, ["LCID", "TemplateList"]); break; case "AddComment": ax(aJ, ["url", "comment", "isHighPriority", "title"]); break; case "AddTag": ax(aJ, ["url", "termID", "title", "isPrivate"]); break; case "AddTagByKeyword": ax(aJ, ["url", "keyword", "title", "isPrivate"]); break; case "CountCommentsOfUser": ax(aJ, ["userAccountName"]); break; case "CountCommentsOfUserOnUrl": ax(aJ, ["userAccountName", "url"]); break; case "CountCommentsOnUrl": ax(aJ, ["url"]); break; case "CountRatingsOnUrl": ax(aJ, ["url"]); break; case "CountTagsOfUser": ax(aJ, ["userAccountName"]); break; case "DeleteComment": ax(aJ, ["url", "lastModifiedTime"]); break; case "DeleteRating": ax(aJ, ["url"]); break; case "DeleteTag": ax(aJ, ["url", "termID"]); break; case "DeleteTagByKeyword": ax(aJ, ["url", "keyword"]); break; case "DeleteTags": ax(aJ, ["url"]); break; case "GetAllTagTerms": ax(aJ, ["maximumItemsToReturn"]); break; case "GetAllTagTermsForUrlFolder": ax(aJ, ["urlFolder", "maximumItemsToReturn"]); break; case "GetAllTagUrls": ax(aJ, ["termID"]); break; case "GetAllTagUrlsByKeyword": ax(aJ, ["keyword"]); break; case "GetCommentsOfUser": ax(aJ, ["userAccountName", "maximumItemsToReturn", "startIndex"]); break; case "GetCommentsOfUserOnUrl": ax(aJ, ["userAccountName", "url"]); break; case "GetCommentsOnUrl": ax(aJ, ["url", "maximumItemsToReturn", "startIndex"]); if (typeof aJ.excludeItemsTime !== "undefined" && aJ.excludeItemsTime.length > 0) { T.payload += aB("excludeItemsTime", aJ.excludeItemsTime) } break; case "GetRatingAverageOnUrl": ax(aJ, ["url"]); break; case "GetRatingOfUserOnUrl": ax(aJ, ["userAccountName", "url"]); break; case "GetRatingOnUrl": ax(aJ, ["url"]); break; case "GetRatingsOfUser": ax(aJ, ["userAccountName"]); break; case "GetRatingsOnUrl": ax(aJ, ["url"]); break; case "GetSocialDataForFullReplication": ax(aJ, ["userAccountName"]); break; case "GetTags": ax(aJ, ["url"]); break; case "GetTagsOfUser": ax(aJ, ["userAccountName", "maximumItemsToReturn", "startIndex"]); break; case "GetTagTerms": ax(aJ, ["maximumItemsToReturn"]); break; case "GetTagTermsOfUser": ax(aJ, ["userAccountName", "maximumItemsToReturn"]); break; case "GetTagTermsOnUrl": ax(aJ, ["url", "maximumItemsToReturn"]); break; case "GetTagUrls": ax(aJ, ["termID"]); break; case "GetTagUrlsByKeyword": ax(aJ, ["keyword"]); break; case "GetTagUrlsOfUser": ax(aJ, ["termID", "userAccountName"]); break; case "GetTagUrlsOfUserByKeyword": ax(aJ, ["keyword", "userAccountName"]); break; case "SetRating": ax(aJ, ["url", "rating", "title", "analysisDataEntry"]); break; case "UpdateComment": ax(aJ, ["url", "lastModifiedTime", "comment", "isHighPriority"]); break; case "SpellCheck": ax(aJ, ["chunksToSpell", "declaredLanguage", "useLad"]); break; case "AddTerms": ax(aJ, ["sharedServiceId", "termSetId", "lcid", "newTerms"]); break; case "GetChildTermsInTerm": ax(aJ, ["sspId", "lcid", "termId", "termSetId"]); break; case "GetChildTermsInTermSet": ax(aJ, ["sspId", "lcid", "termSetId"]); break; case "GetKeywordTermsByGuids": ax(aJ, ["termIds", "lcid"]); break; case "GetTermsByLabel": ax(aJ, ["label", "lcid", "matchOption", "resultCollectionSize", "termIds", "addIfNotFound"]); break; case "GetTermSets": ax(aJ, ["sharedServiceIds", "termSetIds", "lcid", "clientTimeStamps", "clientVersions"]); break; case "AddGroup": ax(aJ, ["groupName", "ownerIdentifier", "ownerType", "defaultUserLoginName", "description"]); break; case "AddGroupToRole": ax(aJ, ["groupName", "roleName"]); break; case "AddRole": ax(aJ, ["roleName", "description", "permissionMask"]); break; case "AddRoleDef": ax(aJ, ["roleName", "description", "permissionMask"]); break; case "AddUserCollectionToGroup": ax(aJ, ["groupName", "usersInfoXml"]); break; case "AddUserCollectionToRole": ax(aJ, ["roleName", "usersInfoXml"]); break; case "AddUserToGroup": ax(aJ, ["groupName", "userName", "userLoginName", "userEmail", "userNotes"]); break; case "AddUserToRole": ax(aJ, ["roleName", "userName", "userLoginName", "userEmail", "userNotes"]); break; case "GetAllUserCollectionFromWeb": break; case "GetGroupCollection": ax(aJ, ["groupNamesXml"]); break; case "GetGroupCollectionFromRole": ax(aJ, ["roleName"]); break; case "GetGroupCollectionFromSite": break; case "GetGroupCollectionFromUser": ax(aJ, ["userLoginName"]); break; case "GetGroupCollectionFromWeb": break; case "GetGroupInfo": ax(aJ, ["groupName"]); break; case "GetRoleCollection": ax(aJ, ["roleNamesXml"]); break; case "GetRoleCollectionFromGroup": ax(aJ, ["groupName"]); break; case "GetRoleCollectionFromUser": ax(aJ, ["userLoginName"]); break; case "GetRoleCollectionFromWeb": break; case "GetRoleInfo": ax(aJ, ["roleName"]); break; case "GetRolesAndPermissionsForCurrentUser": break; case "GetRolesAndPermissionsForSite": break; case "GetUserCollection": ax(aJ, ["userLoginNamesXml"]); break; case "GetUserCollectionFromGroup": ax(aJ, ["groupName"]); break; case "GetUserCollectionFromRole": ax(aJ, ["roleName"]); break; case "GetUserCollectionFromSite": break; case "GetUserCollectionFromWeb": break; case "GetUserInfo": ax(aJ, ["userLoginName"]); break; case "GetUserLoginFromEmail": ax(aJ, ["emailXml"]); break; case "RemoveGroup": ax(aJ, ["groupName"]); break; case "RemoveGroupFromRole": ax(aJ, ["roleName", "groupName"]); break; case "RemoveRole": ax(aJ, ["roleName"]); break; case "RemoveUserCollectionFromGroup": ax(aJ, ["groupName", "userLoginNamesXml"]); break; case "RemoveUserCollectionFromRole": ax(aJ, ["roleName", "userLoginNamesXml"]); break; case "RemoveUserCollectionFromSite": ax(aJ, ["userLoginNamesXml"]); break; case "RemoveUserFromGroup": ax(aJ, ["groupName", "userLoginName"]); break; case "RemoveUserFromRole": ax(aJ, ["roleName", "userLoginName"]); break; case "RemoveUserFromSite": ax(aJ, ["userLoginName"]); break; case "RemoveUserFromWeb": ax(aJ, ["userLoginName"]); break; case "UpdateGroupInfo": ax(aJ, ["oldGroupName", "groupName", "ownerIdentifier", "ownerType", "description"]); break; case "UpdateRoleDefInfo": ax(aJ, ["oldRoleName", "roleName", "description", "permissionMask"]); break; case "UpdateRoleInfo": ax(aJ, ["oldRoleName", "roleName", "description", "permissionMask"]); break; case "UpdateUserInfo": ax(aJ, ["userLoginName", "userName", "userEmail", "userNotes"]); break; case "AddColleague": ax(aJ, ["accountName", "colleagueAccountName", "group", "privacy", "isInWorkGroup"]); break; case "AddLink": ax(aJ, ["accountName", "name", "url", "group", "privacy"]); break; case "AddMembership": ax(aJ, ["accountName", "membershipInfo", "group", "privacy"]); break; case "AddPinnedLink": ax(aJ, ["accountName", "name", "url"]); break; case "CreateMemberGroup": ax(aJ, ["membershipInfo"]); break; case "CreateUserProfileByAccountName": ax(aJ, ["accountName"]); break; case "GetCommonColleagues": ax(aJ, ["accountName"]); break; case "GetCommonManager": ax(aJ, ["accountName"]); break; case "GetCommonMemberships": ax(aJ, ["accountName"]); break; case "GetInCommon": ax(aJ, ["accountName"]); break; case "GetPropertyChoiceList": ax(aJ, ["propertyName"]); break; case "GetUserColleagues": ax(aJ, ["accountName"]); break; case "GetUserLinks": ax(aJ, ["accountName"]); break; case "GetUserMemberships": ax(aJ, ["accountName"]); break; case "GetUserPinnedLinks": ax(aJ, ["accountName"]); break; case "GetUserProfileByGuid": ax(aJ, ["guid"]); break; case "GetUserProfileByIndex": ax(aJ, ["index"]); break; case "GetUserProfileByName": if (typeof aJ.accountName !== "undefined" && aJ.accountName.length > 0) { ax(aJ, [["AccountName", "accountName"]]) } else { ax(aJ, ["AccountName"]) } break; case "GetUserProfileCount": break; case "GetUserProfileSchema": break; case "GetUserPropertyByAccountName": ax(aJ, ["accountName", "propertyName"]); break; case "ModifyUserPropertyByAccountName": ax(aJ, ["accountName", "newData"]); break; case "RemoveAllColleagues": ax(aJ, ["accountName"]); break; case "RemoveAllLinks": ax(aJ, ["accountName"]); break; case "RemoveAllMemberships": ax(aJ, ["accountName"]); break; case "RemoveAllPinnedLinks": ax(aJ, ["accountName"]); break; case "RemoveColleague": ax(aJ, ["accountName", "colleagueAccountName"]); break; case "RemoveLink": ax(aJ, ["accountName", "id"]); break; case "RemoveMembership": ax(aJ, ["accountName", "sourceInternal", "sourceReference"]); break; case "RemovePinnedLink": ax(aJ, ["accountName", "id"]); break; case "UpdateColleaguePrivacy": ax(aJ, ["accountName", "colleagueAccountName", "newPrivacy"]); break; case "UpdateLink": ax(aJ, ["accountName", "data"]); break; case "UpdateMembershipPrivacy": ax(aJ, ["accountName", "sourceInternal", "sourceReference", "newPrivacy"]); break; case "UpdatePinnedLink ": ax(aJ, ["accountName", "data"]); break; case "DeleteAllVersions": ax(aJ, ["fileName"]); break; case "DeleteVersion": ax(aJ, ["fileName", "fileVersion"]); break; case "GetVersions": ax(aJ, ["fileName"]); break; case "RestoreVersion": ax(aJ, ["fileName", "fileVersion"]); break; case "AddView": ax(aJ, ["listName", "viewName", "viewFields", "query", "rowLimit", "rowLimit", "type", "makeViewDefault"]); break; case "DeleteView": ax(aJ, ["listName", "viewName"]); break; case "GetView": ax(aJ, ["listName", "viewName"]); break; case "GetViewCollection": ax(aJ, ["listName"]); break; case "GetViewHtml": ax(aJ, ["listName", "viewName"]); break; case "UpdateView": ax(aJ, ["listName", "viewName", "viewProperties", "query", "viewFields", "aggregations", "formats", "rowLimit"]); break; case "UpdateViewHtml": ax(aJ, ["listName", "viewName", "viewProperties", "toolbar", "viewHeader", "viewBody", "viewFooter", "viewEmpty", "rowLimitExceeded", "query", "viewFields", "aggregations", "formats", "rowLimit"]); break; case "AddWebPart": ax(aJ, ["pageUrl", "webPartXml", "storage"]); break; case "AddWebPartToZone": ax(aJ, ["pageUrl", "webPartXml", "storage", "zoneId", "zoneIndex"]); break; case "DeleteWebPart": ax(aJ, ["pageUrl", "storageKey", "storage"]); break; case "GetWebPart2": ax(aJ, ["pageUrl", "storageKey", "storage", "behavior"]); break; case "GetWebPartPage": ax(aJ, ["documentName", "behavior"]); break; case "GetWebPartProperties": ax(aJ, ["pageUrl", "storage"]); break; case "GetWebPartProperties2": ax(aJ, ["pageUrl", "storage", "behavior"]); break; case "SaveWebPart2": ax(aJ, ["pageUrl", "storageKey", "webPartXml", "storage", "allowTypeChange"]); break; case "Webs.CreateContentType": ax(aJ, ["displayName", "parentType", "newFields", "contentTypeProperties"]); break; case "GetColumns": ax(aJ, ["webUrl"]); break; case "GetContentType": ax(aJ, ["contentTypeId"]); break; case "GetContentTypes": break; case "GetCustomizedPageStatus": ax(aJ, ["fileUrl"]); break; case "GetListTemplates": break; case "GetObjectIdFromUrl": ax(aJ, ["objectUrl"]); break; case "GetWeb": ax(aJ, [["webUrl", "webURL"]]); break; case "GetWebCollection": break; case "GetAllSubWebCollection": break; case "UpdateColumns": ax(aJ, ["newFields", "updateFields", "deleteFields"]); break; case "Webs.UpdateContentType": ax(aJ, ["contentTypeId", "contentTypeProperties", "newFields", "updateFields", "deleteFields"]); break; case "WebUrlFromPageUrl": ax(aJ, [["pageUrl", "pageURL"]]); break; case "AlterToDo": ax(aJ, ["item", "todoId", "todoListId", "taskData"]); break; case "ClaimReleaseTask": ax(aJ, ["item", "taskId", "listId", "fClaim"]); break; case "GetTemplatesForItem": ax(aJ, ["item"]); break; case "GetToDosForItem": ax(aJ, ["item"]); break; case "GetWorkflowDataForItem": ax(aJ, ["item"]); break; case "GetWorkflowTaskData": ax(aJ, ["item", "listId", "taskId"]); break; case "StartWorkflow": ax(aJ, ["item", "templateId", "workflowParameters"]); break; default: break } var aK = T.header + T.opheader + T.payload + T.opfooter + T.footer; var aO; if (aJ.cacheXML) { aO = B[aK] } if (typeof aO === "undefined") { var aI = ao.ajax({ url: aH, async: aJ.async, beforeSend: function (i) { if (U[aJ.operation][1]) { i.setRequestHeader("SOAPAction", ac) } }, type: "POST", data: aK, dataType: "xml", contentType: "text/xml;charset='utf-8'", complete: function (aQ, i) { if (ao.isFunction(aJ.completefunc)) { aJ.completefunc(aQ, i) } } }); if (aJ.cacheXML) { B[aK] = aI } return aI } else { if (ao.isFunction(aJ.completefunc)) { aO.done(function (aR, i, aQ) { aJ.completefunc(aQ, i) }) } return aO } }; ao.fn.SPServices.defaults = { cacheXML: false, operation: "", webURL: "", makeViewDefault: false, viewName: "", CAMLQuery: "", CAMLViewFields: "", CAMLRowLimit: 0, CAMLQueryOptions: "<QueryOptions></QueryOptions>", batchCmd: "Update", valuepairs: [], DestinationUrls: [], behavior: "Version3", storage: "Shared", objectType: "List", cancelMeeting: true, nonGregorian: false, fClaim: false, recurrenceId: 0, sequence: 0, maximumItemsToReturn: 0, startIndex: 0, isHighPriority: false, isPrivate: false, rating: 1, maxResults: 10, principalType: "User", async: true, completefunc: null }; ao.fn.SPServices.SPGetCurrentSite = function () { if (ae.thisSite.length > 0) { return ae.thisSite } var i = T.header + "<WebUrlFromPageUrl xmlns='" + ad + "/soap/' ><pageUrl>" + ((location.href.indexOf("?") > 0) ? location.href.substr(0, location.href.indexOf("?")) : location.href) + "</pageUrl></WebUrlFromPageUrl>" + T.footer; ao.ajax({ async: false, url: "/_vti_bin/Webs.asmx", type: "POST", data: i, dataType: "xml", contentType: 'text/xml;charset="utf-8"', complete: function (aH) { ae.thisSite = ao(aH.responseXML).find("WebUrlFromPageUrlResult").text() } }); return ae.thisSite }; ao.fn.SPServices.SPCascadeDropdowns = function (aP) { var aH = ao.extend({}, { relationshipWebURL: "", relationshipList: "", relationshipListParentColumn: "", relationshipListChildColumn: "", relationshipListSortColumn: "", parentColumn: "", childColumn: "", listName: ao().SPServices.SPListNameFromUrl(), CAMLQuery: "", CAMLQueryOptions: "<QueryOptions><IncludeMandatoryColumns>FALSE</IncludeMandatoryColumns></QueryOptions>", promptText: "", noneText: "(None)", simpleChild: false, selectSingleOption: false, matchOnId: false, completefunc: null, debug: false }, aP); var aJ = false; var aN = "SPServices.SPCascadeDropdowns"; var aK = ao().SPServices.SPDropdownCtl({ displayName: aH.parentColumn }); if (aK.Obj.html() === null && aH.debug) { X(aN, "parentColumn: " + aH.parentColumn, al); return } var i = ao().SPServices.SPDropdownCtl({ displayName: aH.childColumn }); if (i.Obj.html() === null && aH.debug) { X(aN, "childColumn: " + aH.childColumn, al); return } if (aH.simpleChild === true && i.Type === Y.complex) { ao().SPServices.SPComplexToSimpleDropdown({ listName: aH.listName, columnName: aH.childColumn }); i = ao().SPServices.SPDropdownCtl({ displayName: aH.childColumn }) } var aO, aM; ao().SPServices({ operation: "GetList", async: false, cacheXML: true, listName: aH.listName, completefunc: function (aQ) { ao(aQ.responseXML).find("Fields").each(function () { ao(this).find("Field[DisplayName='" + aH.childColumn + "']").each(function () { aO = (ao(this).attr("Required") === "TRUE"); aM = ao(this).attr("StaticName"); return false }) }) } }); var aL = { opt: aH, childSelect: i, childColumnStatic: aM, childColumnRequired: aO }; var aI = aK.Obj.data("SPCascadeDropdownsChildColumns"); if (typeof aI === "undefined") { aK.Obj.data("SPCascadeDropdownsChildColumns", [aL]) } else { aI.push(aL); aK.Obj.data("SPCascadeDropdownsChildColumns", aI); aJ = true } if (!aJ) { switch (aK.Type) { case Y.simple: aK.Obj.bind("change", function () { aE(aK) }); break; case Y.complex: aK.optHid.bind("propertychange", function () { aE(aK) }); break; case Y.multiSelect: ao(aK.master.candidateControl).bind("dblclick", function () { aE(aK) }); ao(aK.master.resultControl).bind("dblclick", function () { aE(aK) }); ao(aK.master.addControl).bind("click", function () { aE(aK) }); ao(aK.master.removeControl).bind("click", function () { aE(aK) }); break; default: break } } aE(aK) }; function aE(aJ) { var aO = ""; var aI; var aL = null; var aN; var aK; var aM; var aH; var i = aJ.Obj.data("SPCascadeDropdownsChildColumns"); ao(i).each(function () { var aT = this.opt; var aR = this.childSelect; var aW = this.childColumnStatic; var aS = this.childColumnRequired; aI = c(aJ, aT.matchOnId); var aQ = aI.join(ah); if (aJ.Obj.data("SPCascadeDropdown_Selected_" + aW) === aQ) { return } aJ.Obj.data("SPCascadeDropdown_Selected_" + aW, aQ); aL = c(aR, true); var aV = (aT.relationshipListSortColumn.length > 0) ? aT.relationshipListSortColumn : aT.relationshipListChildColumn; var aP = "<Query><OrderBy><FieldRef Name='" + aV + "'/></OrderBy><Where><And>"; if (aT.CAMLQuery.length > 0) { aP += "<And>" } if (aI.length === 0) { aP += "<Eq><FieldRef Name='" + aT.relationshipListParentColumn + "'/><Value Type='Text'></Value></Eq>" } else { if (aI.length === 1) { aP += "<Eq><FieldRef Name='" + aT.relationshipListParentColumn + (aT.matchOnId ? "' LookupId='True'/><Value Type='Integer'>" : "'/><Value Type='Text'>") + L(aI[0]) + "</Value></Eq>" } else { var aU = (aI.length > 2); for (O = 0; O < (aI.length - 1) ; O++) { aP += "<Or>" } for (O = 0; O < aI.length; O++) { aP += "<Eq><FieldRef Name='" + aT.relationshipListParentColumn + (aT.matchOnId ? "' LookupId='True'/><Value Type='Integer'>" : "'/><Value Type='Text'>") + L(aI[O]) + "</Value></Eq>"; if (O > 0 && (O < (aI.length - 1)) && aU) { aP += "</Or>" } } aP += "</Or>" } } if (aT.CAMLQuery.length > 0) { aP += aT.CAMLQuery + "</And>" } aP += "<IsNotNull><FieldRef Name='" + aT.relationshipListChildColumn + "' /></IsNotNull>"; aP += "</And></Where></Query>"; ao().SPServices({ operation: "GetListItems", async: false, webURL: aT.relationshipWebURL, listName: aT.relationshipList, CAMLQuery: aP, CAMLViewFields: "<ViewFields><FieldRef Name='" + aT.relationshipListParentColumn + "' /><FieldRef Name='" + aT.relationshipListChildColumn + "' /></ViewFields>", CAMLRowLimit: 0, CAMLQueryOptions: aT.CAMLQueryOptions, completefunc: function (aX) { ao(aX.responseXML).find("errorstring").each(function () { var aZ = "SPServices.SPCascadeDropdowns"; var aY = ao(this).text(); if (aT.debug && aY === "One or more field types are not installed properly. Go to the list settings page to delete these fields.") { X(aZ, "relationshipListParentColumn: " + aT.relationshipListParentColumn + " or relationshipListChildColumn: " + aT.relationshipListChildColumn, "Not found in relationshipList " + aT.relationshipList) } else { if (aT.debug && aY === "Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).") { X(aZ, "relationshipList: " + aT.relationshipList, "List not found") } } }); switch (aR.Type) { case Y.simple: ao(aR.Obj).find("option").remove(); if (!aS && (aT.promptText.length > 0)) { aR.Obj.append("<option value='0'>" + aT.promptText.replace(/\{0\}/g, aT.childColumn) + "</option>") } else { if (!aS) { aR.Obj.append("<option value='0'>" + aT.noneText + "</option>") } } break; case Y.complex: aO = aS ? "" : aT.noneText + "|0"; aR.Obj.val(""); break; case Y.multiSelect: ao(aR.master.candidateControl).find("option").remove(); aN = ""; break; default: break } aK = parseFloat(ao(aX.responseXML).SPFilterNode("rs:data").attr("ItemCount")); ao(aX.responseXML).SPFilterNode("z:row").each(function () { var aZ = {}; var aY = ao(this).attr("ows_" + aT.relationshipListChildColumn); if (typeof aY !== "undefined" && aY.indexOf(ah) > 0) { aZ = new n(aY) } else { aZ.id = ao(this).attr("ows_ID"); aZ.value = aY } if (isNaN(aZ.id)) { aZ.id = ao(this).attr("ows_ID") } aM = aZ.id; aH = aZ.value; switch (aR.Type) { case Y.simple: var a0 = (ao(this).attr("ows_ID") === aL[0]) ? " selected='selected'" : ""; aR.Obj.append("<option" + a0 + " value='" + aZ.id + "'>" + aZ.value + "</option>"); break; case Y.complex: if (aZ.id === aL[0]) { aR.Obj.val(aZ.value) } aO = aO + ((aO.length > 0) ? "|" : "") + aZ.value + "|" + aZ.id; break; case Y.multiSelect: ao(aR.master.candidateControl).append("<option value='" + aZ.id + "'>" + aZ.value + "</option>"); aN += aZ.id + "|t" + aZ.value + "|t |t |t"; break; default: break } }); switch (aR.Type) { case Y.simple: aR.Obj.trigger("change"); if (aK === 1 && aT.selectSingleOption === true) { ao(aR.Obj).find("option[value!='0']:first").attr("selected", "selected") } break; case Y.complex: aR.Obj.attr("choices", aO); if (aK === 1 && aT.selectSingleOption === true) { ao(aR.Obj).val(aH); aR.optHid.val(aM) } if (aR.Obj.val() === "") { aR.optHid.val("") } break; case Y.multiSelect: aR.master.data = ""; aR.MultiLookupPickerdata.val(aN); ao(aR.master.resultControl).find("option").each(function () { var aY = ao(this); aY.prop("selected", true); ao(aR.master.candidateControl).find("option[value='" + aY.val() + "']").each(function () { aY.prop("selected", false) }) }); GipRemoveSelectedItems(aR.master); ao(aR.master.candidateControl).find("option").each(function () { var aY = ao(this); ao(aR.master.resultControl).find("option[value='" + aY.val() + "']").each(function () { aY.remove() }) }); GipAddSelectedItems(aR.master); aR.master.data = GipGetGroupData(aN); ao(aR.master.candidateControl).trigger("dblclick"); break; default: break } } }); if (aT.completefunc !== null) { aT.completefunc() } }) } ao.fn.SPServices.SPComplexToSimpleDropdown = function (aO) { var i = ao.extend({}, { listName: ao().SPServices.SPListNameFromUrl(), columnName: "", completefunc: null, debug: false }, aO); var aJ = ao().SPServices.SPDropdownCtl({ displayName: i.columnName }); if (aJ.Obj.html() === null && i.debug) { X("SPServices.SPComplexToSimpleDropdown", "columnName: " + i.columnName, al); return } if (aJ.Type !== Y.complex) { return } var aN = ao(aJ.Obj).attr("choices").split("|"); var aI = aJ.optHid.val(); var aK = ag("SPComplexToSimpleDropdown", aJ.Obj.attr("title"), i.listName); var aM = "<select id='" + aK + "' title='" + i.columnName + "'>"; for (O = 0; O < aN.length; O = O + 2) { var aL = (aN[O + 1] === aI) ? " selected='selected' " : " "; aM += "<option" + aL + "value='" + aN[O + 1] + "'>" + aN[O] + "</option>" } aM += "</select>"; aJ.Obj.closest("td").prepend(aM); var aH = ao("#" + aK); aJ.Obj.closest("span").find("img").remove(); aJ.Obj.closest("span").find("input").hide(); aH.change(function () { var aP = ao(this).val(); aJ.optHid.val(aP); ao(aJ.Obj).val(ao(this).find("option[value='" + (aP !== "0" ? aP : "") + "']").html()) }); aH.trigger("change"); if (i.completefunc !== null) { i.completefunc() } }; ao.fn.SPServices.SPDisplayRelatedInfo = function (aH) { var aJ = ao.extend({}, { listName: ao().SPServices.SPListNameFromUrl(), columnName: "", relatedWebURL: "", relatedList: "", relatedListColumn: "", relatedColumns: [], displayFormat: "table", headerCSSClass: "ms-vh2", rowCSSClass: "ms-vb", CAMLQuery: "", numChars: 0, matchType: "Eq", matchOnId: false, completefunc: null, debug: false }, aH); var i; var aI = []; var aM; var aL = "SPServices.SPDisplayRelatedInfo"; var aK = ao().SPServices.SPDropdownCtl({ displayName: aJ.columnName }); if (aK.Obj.html() === null && aJ.debug) { X(aL, "columnName: " + aJ.columnName, al); return } i = ag("SPDisplayRelatedInfo", aJ.columnName, aJ.listName); ao().SPServices({ operation: "GetList", async: false, cacheXML: true, webURL: aJ.relatedWebURL, listName: aJ.relatedList, completefunc: function (aN) { ao(aN.responseXML).find("faultcode").each(function () { if (aJ.debug) { X(aL, "relatedList: " + aJ.relatedList, "List not found") } }); aM = ao(aN.responseXML).find("List"); for (O = 0; O < aJ.relatedColumns.length; O++) { aI[aJ.relatedColumns[O]] = ao(aN.responseXML).find("Fields > Field[Name='" + aJ.relatedColumns[O] + "']") } aI[aJ.relatedListColumn] = ao(aN.responseXML).find("Fields > Field[Name='" + aJ.relatedListColumn + "']") } }); switch (aK.Type) { case Y.simple: aK.Obj.bind("change", function () { aj(aJ, i, aM, aI) }); break; case Y.complex: aK.optHid.bind("propertychange", function () { aj(aJ, i, aM, aI) }); break; case Y.multiSelect: if (aJ.debug) { X(aL, "columnName: " + aJ.columnName, "Multi-select columns not supported by this function") } break; default: break } aj(aJ, i, aM, aI) }; function aj(aI, aM, aO, aJ) { var aP; var aL = "SPServices.SPDisplayRelatedInfo"; var aK = ao().SPServices.SPDropdownCtl({ displayName: aI.columnName }); aP = c(aK, aI.matchOnId); if (aK.Type === Y.complex && aI.numChars > 0 && aP[0].length < aI.numChars) { return } if (aK.Obj.attr("showRelatedSelected") === aP[0]) { return } aK.Obj.attr("showRelatedSelected", aP[0]); ao("#" + aM).remove(); aK.Obj.parent().append("<div id=" + aM + "></div>"); var i = "<Query><Where>"; if (aI.CAMLQuery.length > 0) { i += "<And>" } var aH = aJ[aI.relatedListColumn].attr("Type"); if (aH === "Lookup") { i += "<Eq><FieldRef Name='" + aI.relatedListColumn + (aI.matchOnId ? "' LookupId='True'/><Value Type='Integer'>" : "'/><Value Type='Text'>") + L(aP[0]) + "</Value></Eq>" } else { i += "<Eq><FieldRef Name='" + (aI.matchOnId ? "ID' /><Value Type='Counter'>" : aI.relatedListColumn + "'/><Value Type='Text'>") + L(aP[0]) + "</Value></Eq>" } if (aI.CAMLQuery.length > 0) { i += aI.CAMLQuery + "</And>" } i += "</Where></Query>"; var aN = " "; for (O = 0; O < aI.relatedColumns.length; O++) { aN += "<FieldRef Name='" + aI.relatedColumns[O] + "' />" } ao().SPServices({ operation: "GetListItems", async: false, webURL: aI.relatedWebURL, listName: aI.relatedList, CAMLQuery: i, CAMLViewFields: "<ViewFields>" + aN + "</ViewFields>", CAMLRowLimit: 0, completefunc: function (aR) { ao(aR.responseXML).find("errorstring").each(function () { var aS = ao(this).text(); if (aI.debug && aS === "One or more field types are not installed properly. Go to the list settings page to delete these fields.") { X(aL, "relatedListColumn: " + aI.relatedListColumn, "Column not found in relatedList " + aI.relatedList) } else { if (aI.debug && aS === "Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).") { X(aL, "relatedList: " + aI.relatedList, "List not found") } } }); var aQ; switch (aI.displayFormat) { case "table": aQ = "<table>"; aQ += "<tr>"; for (O = 0; O < aI.relatedColumns.length; O++) { if (typeof aJ[aI.relatedColumns[O]] === "undefined" && aI.debug) { X(aL, "columnName: " + aI.relatedColumns[O], "Column not found in relatedList"); return } aQ += "<th class='" + aI.headerCSSClass + "'>" + aJ[aI.relatedColumns[O]].attr("DisplayName") + "</th>" } aQ += "</tr>"; ao(aR.responseXML).SPFilterNode("z:row").each(function () { aQ += "<tr>"; for (O = 0; O < aI.relatedColumns.length; O++) { aQ += "<td class='" + aI.rowCSSClass + "'>" + W(aO, aJ[aI.relatedColumns[O]], ao(this).attr("ows_" + aI.relatedColumns[O]), aI) + "</td>" } aQ += "</tr>" }); aQ += "</table>"; break; case "list": aQ = "<table>"; ao(aR.responseXML).SPFilterNode("z:row").each(function () { for (O = 0; O < aI.relatedColumns.length; O++) { if (typeof aJ[aI.relatedColumns[O]] === "undefined" && aI.debug) { X(aL, "columnName: " + aI.relatedColumns[O], "Column not found in relatedList"); return } aQ += "<tr>"; aQ += "<th class='" + aI.headerCSSClass + "'>" + aJ[aI.relatedColumns[O]].attr("DisplayName") + "</th>"; aQ += "<td class='" + aI.rowCSSClass + "'>" + W(aO, aJ[aI.relatedColumns[O]], ao(this).attr("ows_" + aI.relatedColumns[O]), aI) + "</td>"; aQ += "</tr>" } }); aQ += "</table>"; break; default: break } ao("#" + aM).html(aQ) } }); if (aI.completefunc !== null) { aI.completefunc() } } ao.fn.SPServices.SPFilterDropdown = function (aQ) { var aH = ao.extend({}, { relationshipWebURL: "", relationshipList: "", relationshipListColumn: "", relationshipListSortColumn: "", relationshipListSortAscending: true, columnName: "", listName: ao().SPServices.SPListNameFromUrl(), promptText: "", noneText: "(None)", CAMLQuery: "", CAMLQueryOptions: "<QueryOptions><IncludeMandatoryColumns>FALSE</IncludeMandatoryColumns><ViewAttributes Scope='RecursiveAll'/></QueryOptions>", completefunc: null, debug: false }, aQ); var aP = ""; var aO = null; var aN; var aM; var aL = "SPServices.SPFilterDropdown"; var aK = ao().SPServices.SPDropdownCtl({ displayName: aH.columnName }); if (aK.Obj.html() === null && aH.debug) { X(aL, "columnName: " + aH.columnName, al); return } aO = c(aK, true); var aJ = (aH.relationshipListSortColumn.length > 0) ? aH.relationshipListSortColumn : aH.relationshipListColumn; var aI = (aH.relationshipListSortAscending === true) ? "" : "Ascending='FALSE'"; var i = "<Query><OrderBy><FieldRef Name='" + aJ + "' " + aI + "/></OrderBy><Where>"; if (aH.CAMLQuery.length > 0) { i += aH.CAMLQuery } i += "</Where></Query>"; ao().SPServices({ operation: "GetList", async: false, cacheXML: true, listName: aH.listName, completefunc: function (aR) { ao(aR.responseXML).find("Fields").each(function () { ao(this).find("Field[DisplayName='" + aH.columnName + "']").each(function () { aM = (ao(this).attr("Required") === "TRUE"); return false }) }) } }); ao().SPServices({ operation: "GetListItems", async: false, webURL: aH.relationshipWebURL, listName: aH.relationshipList, CAMLQuery: i, CAMLViewFields: "<ViewFields><FieldRef Name='" + aH.relationshipListColumn + "' /></ViewFields>", CAMLRowLimit: 0, CAMLQueryOptions: aH.CAMLQueryOptions, completefunc: function (aR) { ao(aR.responseXML).find("errorstring").each(function () { var aS = ao(this).text(); if (aH.debug && aS === "One or more field types are not installed properly. Go to the list settings page to delete these fields.") { X(aL, "relationshipListColumn: " + aH.relationshipListColumn, "Not found in relationshipList " + aH.relationshipList) } else { if (aH.debug && aS === "Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).") { X(aL, "relationshipList: " + aH.relationshipList, "List not found") } } }); switch (aK.Type) { case Y.simple: ao(aK.Obj).find("option").remove(); if (!aM && (aH.promptText.length > 0)) { aK.Obj.append("<option value='0'>" + aH.promptText.replace(/\{0\}/g, aH.columnName) + "</option>") } else { if (!aM) { aK.Obj.append("<option value='0'>" + aH.noneText + "</option>") } } break; case Y.complex: aP = aM ? "" : aH.noneText + "|0"; aK.Obj.val(""); break; case Y.multiSelect: ao(aK.master.candidateControl).find("option").remove(); aN = ""; break; default: break } ao(aR.responseXML).SPFilterNode("z:row").each(function () { var aT = {}; var aS = ao(this).attr("ows_" + aH.relationshipListColumn); if (typeof aS !== "undefined" && aS.indexOf(ah) > 0) { aT = new n(aS) } else { aT.id = ao(this).attr("ows_ID"); aT.value = aS } if (isNaN(aT.id)) { aT.id = ao(this).attr("ows_ID") } switch (aK.Type) { case Y.simple: var aU = (ao(this).attr("ows_ID") === aO[0]) ? " selected='selected'" : ""; aK.Obj.append("<option" + aU + " value='" + aT.id + "'>" + aT.value + "</option>"); break; case Y.complex: if (aT.id === aO[0]) { aK.Obj.val(aT.value) } aP = aP + ((aP.length > 0) ? "|" : "") + aT.value + "|" + aT.id; break; case Y.multiSelect: ao(aK.master.candidateControl).append("<option value='" + aT.id + "'>" + aT.value + "</option>"); aN += aT.id + "|t" + aT.value + "|t |t |t"; break; default: break } }); switch (aK.Type) { case Y.simple: aK.Obj.trigger("change"); break; case Y.complex: aK.Obj.attr("choices", aP); aK.Obj.trigger("propertychange"); break; case Y.multiSelect: aK.master.data = ""; aK.MultiLookupPickerdata.val(aN); ao(aK.master.resultControl).find("option").each(function () { var aS = ao(this); ao(this).attr("selected", "selected"); ao(aK.master.candidateControl).find("option").each(function () { if (ao(this).html() === aS.html()) { aS.removeAttr("selected") } }) }); GipRemoveSelectedItems(aK.master); ao(aK.master.candidateControl).find("option").each(function () { var aS = ao(this); ao(aK.master.resultControl).find("option").each(function () { if (ao(this).html() === aS.html()) { aS.remove() } }) }); GipAddSelectedItems(aK.master); aK.master.data = GipGetGroupData(aN); ao(aK.master.candidateControl).trigger("dblclick"); break; default: break } } }); if (aH.completefunc !== null) { aH.completefunc() } }; ao.fn.SPServices.SPDebugXMLHttpResult = function (aI) { var aK = ao.extend({}, { node: null, indent: 0 }, aI); var aJ; var aM = 3; var aL = 4; var aH = ""; aH += "<table class='ms-vb' style='margin-left:" + aK.indent * 3 + "px;' width='100%'>"; if (aK.node.nodeName === "DisplayPattern") { aH += "<tr><td width='100px' style='font-weight:bold;'>" + aK.node.nodeName + "</td><td><textarea readonly='readonly' rows='5' cols='50'>" + aK.node.xml + "</textarea></td></tr>" } else { if (!aK.node.hasChildNodes()) { aH += "<tr><td width='100px' style='font-weight:bold;'>" + aK.node.nodeName + "</td><td>" + ((aK.node.nodeValue !== null) ? M(aK.node.nodeValue) : "&nbsp;") + "</td></tr>"; if (aK.node.attributes) { aH += "<tr><td colspan='99'>" + s(aK.node) + "</td></tr>" } } else { if (aK.node.hasChildNodes() && aK.node.firstChild.nodeType === aL) { aH += "<tr><td width='100px' style='font-weight:bold;'>" + aK.node.nodeName + "</td><td><textarea readonly='readonly' rows='5' cols='50'>" + aK.node.parentNode.text + "</textarea></td></tr>" } else { if (aK.node.hasChildNodes() && aK.node.firstChild.nodeType === aM) { aH += "<tr><td width='100px' style='font-weight:bold;'>" + aK.node.nodeName + "</td><td>" + M(aK.node.firstChild.nodeValue) + "</td></tr>" } else { aH += "<tr><td width='100px' style='font-weight:bold;' colspan='99'>" + aK.node.nodeName + "</td></tr>"; if (aK.node.attributes) { aH += "<tr><td colspan='99'>" + s(aK.node) + "</td></tr>" } aH += "<tr><td>"; for (aJ = 0; aJ < aK.node.childNodes.length; aJ++) { aH += ao().SPServices.SPDebugXMLHttpResult({ node: aK.node.childNodes.item(aJ), indent: aK.indent + 1 }) } aH += "</td></tr>" } } } } aH += "</table>"; return aH }; ao.fn.SPServices.SPGetCurrentUser = function (aK) { var aM = ao.extend({}, { webURL: "", fieldName: "Name", fieldNames: {}, debug: false }, aK); if (aM.fieldName === "ID" && typeof ae.thisUserId !== "undefined") { return ae.thisUserId } var aI = ""; var aL = {}; var aN = aM.fieldNames.length > 0 ? aM.fieldNames.length : 1; var aJ; var aH = aM.webURL.length > 0 ? aM.webURL : ao().SPServices.SPGetCurrentSite(); ao.ajax({ async: false, url: ((aH === "/") ? "" : aH) + "/_layouts/userdisp.aspx?Force=True&" + new Date().getTime(), complete: function (aO) { aJ = aO } }); for (O = 0; O < aN; O++) { if (aM.fieldNames[O] === "ID") { aI = ae.thisUserId } else { var i; if (aN > 1) { i = RegExp('FieldInternalName="' + aM.fieldNames[O] + '"', "gi") } else { i = RegExp('FieldInternalName="' + aM.fieldName + '"', "gi") } ao(aJ.responseText).find("table.ms-formtable td[id^='SPField']").each(function () { if (i.test(ao(this).html())) { switch (ao(this).attr("id")) { case "SPFieldText": aI = ao(this).text(); break; case "SPFieldNote": aI = ao(this).find("div").html(); break; case "SPFieldURL": aI = ao(this).find("img").attr("src"); break; default: aI = ao(this).text(); break } return false } }) } if (aM.fieldNames[O] !== "ID") { aI = (typeof aI !== "undefined") ? aI.replace(/(^[\s\xA0]+|[\s\xA0]+$)/g, "") : null } if (aN > 1) { aL[aM.fieldNames[O]] = aI } } return (aN > 1) ? aL : aI }; ao.fn.SPServices.SPLookupAddNew = function (aO) { var aJ = ao.extend({}, { lookupColumn: "", promptText: "Add new {0}", newWindow: false, ContentTypeID: "", completefunc: null, debug: false }, aO); var aL = "SPServices.SPLookupAddNew"; var aI = ao().SPServices.SPDropdownCtl({ displayName: aJ.lookupColumn }); if (aI.Obj.html() === null && aJ.debug) { X(aL, "lookupColumn: " + aJ.lookupColumn, al); return } var i = ""; var aN = ""; var aH = ""; ao().SPServices({ operation: "GetList", async: false, cacheXML: true, listName: ao().SPServices.SPListNameFromUrl(), completefunc: function (aP) { ao(aP.responseXML).find("Field[DisplayName='" + aJ.lookupColumn + "']").each(function () { aH = ao(this).attr("StaticName"); ao().SPServices({ operation: "GetList", async: false, cacheXML: true, listName: ao(this).attr("List"), completefunc: function (aQ) { ao(aQ.responseXML).find("List").each(function () { aN = ao(this).attr("WebFullUrl"); aN = aN !== Q ? aN + Q : aN }) } }); i = D(ao(this).attr("List"), "NewForm"); return false }) } }); if (aN.length === 0 && aJ.debug) { X(aL, "lookupColumn: " + aJ.lookupColumn, "This column does not appear to be a lookup column"); return } if (i.length > 0) { var aM = aN + i; aM += aJ.newWindow ? ((aJ.ContentTypeID.length > 0) ? "?ContentTypeID=" + aJ.ContentTypeID : "") + "' target='_blank'" : "?" + ((aJ.ContentTypeID.length > 0) ? "ContentTypeID=" + aJ.ContentTypeID + "&" : "") + "Source=" + A(location.href) + "'"; var aK = "<div id='SPLookupAddNew_" + aH + "'><a href='" + aM + ">" + aJ.promptText.replace(/\{0\}/g, aJ.lookupColumn) + "</a></div>"; ao(aI.Obj).parents("td.ms-formbody").append(aK) } else { if (aJ.debug) { X(aL, "lookupColumn: " + aJ.lookupColumn, "NewForm cannot be found"); return } } if (aJ.completefunc !== null) { aJ.completefunc() } }; ao.fn.SPServices.SPGetLastItemId = function (aH) { var aJ = ao.extend({}, { webURL: "", listName: "", userAccount: "", CAMLQuery: "" }, aH); var aI; var aK = 0; ao().SPServices({ operation: "GetUserInfo", webURL: aJ.webURL, async: false, userLoginName: (aJ.userAccount !== "") ? aJ.userAccount : ao().SPServices.SPGetCurrentUser(), completefunc: function (aL) { ao(aL.responseXML).find("User").each(function () { aI = ao(this).attr("ID") }) } }); var i = "<Query><Where>"; if (aJ.CAMLQuery.length > 0) { i += "<And>" } i += "<Eq><FieldRef Name='Author' LookupId='TRUE'/><Value Type='Integer'>" + aI + "</Value></Eq>"; if (aJ.CAMLQuery.length > 0) { i += aJ.CAMLQuery + "</And>" } i += "</Where><OrderBy><FieldRef Name='Created_x0020_Date' Ascending='FALSE'/></OrderBy></Query>"; ao().SPServices({ operation: "GetListItems", async: false, webURL: aJ.webURL, listName: aJ.listName, CAMLQuery: i, CAMLViewFields: "<ViewFields><FieldRef Name='ID'/></ViewFields>", CAMLRowLimit: 1, CAMLQueryOptions: "<QueryOptions><ViewAttributes Scope='Recursive' /></QueryOptions>", completefunc: function (aL) { ao(aL.responseXML).SPFilterNode("z:row").each(function () { aK = ao(this).attr("ows_ID") }) } }); return aK }; ao.fn.SPServices.SPRequireUnique = function (aH) { var aI = ao.extend({}, { columnStaticName: "Title", duplicateAction: 0, ignoreCase: false, initMsg: "This value must be unique.", initMsgCSSClass: "ms-vb", errMsg: "This value is not unique.", errMsgCSSClass: "ms-formvalidation", showDupes: false, completefunc: null }, aH); var aM = ao().SPServices.SPGetQueryString(); var aN = aM.ID; ae.thisList = ao().SPServices.SPListNameFromUrl(); var aL = "<span id='SPRequireUnique" + aI.columnStaticName + "' class='{0}'>{1}</span><br/>"; var aK = aL.replace(/\{0\}/g, aI.initMsgCSSClass).replace(/\{1\}/g, aI.initMsg); var aJ = ao().SPServices.SPGetDisplayFromStatic({ listName: ae.thisList, columnStaticName: aI.columnStaticName }); var i = z(aJ).find("input[Title^='" + aJ + "']"); i.parent().append(aK); i.blur(function () { var aR = []; var aS = ao(this).val(); if (aS.length === 0) { return false } ao().SPServices({ operation: "GetListItems", async: false, listName: ae.thisList, CAMLQuery: "<Query><Where><IsNotNull><FieldRef Name='" + aI.columnStaticName + "'/></IsNotNull></Where></Query>", CAMLViewFields: "<ViewFields><FieldRef Name='ID' /><FieldRef Name='" + aI.columnStaticName + "' /></ViewFields>", CAMLRowLimit: 0, completefunc: function (aU) { var aT = aI.ignoreCase ? aS.toUpperCase() : aS; ao(aU.responseXML).SPFilterNode("z:row").each(function () { var aV = aI.ignoreCase ? ao(this).attr("ows_" + aI.columnStaticName).toUpperCase() : ao(this).attr("ows_" + aI.columnStaticName); if ((aT === aV) && (ao(this).attr("ows_ID") !== aN)) { aR.push([ao(this).attr("ows_ID"), ao(this).attr("ows_" + aI.columnStaticName)]) } }) } }); var aP = aI.initMsg; var aQ = ao("#SPRequireUnique" + aI.columnStaticName); aQ.html(aP).attr("class", aI.initMsgCSSClass); ao("input[value='OK']:disabled, input[value='Save']:disabled").removeAttr("disabled"); if (aR.length > 0) { aP = aI.errMsg; aQ.html(aP).attr("class", aI.errMsgCSSClass); if (aI.duplicateAction === 1) { i.focus(); ao("input[value='OK'], input[value='Save']").attr("disabled", "disabled") } if (aI.showDupes) { var aO = " " + aR.length + " duplicate item" + (aR.length > 1 ? "s" : "") + ": "; for (O = 0; O < aR.length; O++) { aO += "<a href='DispForm.aspx?ID=" + aR[O][0] + "&Source=" + location.href + "'>" + aR[O][1] + "</a> " } ao("span#SPRequireUnique" + aI.columnStaticName).append(aO) } } }); if (aI.completefunc !== null) { aI.completefunc() } }; ao.fn.SPServices.SPGetDisplayFromStatic = function (aH) { var aI = ao.extend({}, { webURL: "", listName: "", columnStaticName: "", columnStaticNames: {} }, aH); var i = ""; var aJ = {}; var aK = aI.columnStaticNames.length > 0 ? aI.columnStaticNames.length : 1; ao().SPServices({ operation: "GetList", async: false, cacheXML: true, webURL: aI.webURL, listName: aI.listName, completefunc: function (aL) { if (aK > 1) { for (O = 0; O < aK; O++) { aJ[aI.columnStaticNames[O]] = ao(aL.responseXML).find("Field[StaticName='" + aI.columnStaticNames[O] + "']").attr("DisplayName") } } else { i = ao(aL.responseXML).find("Field[StaticName='" + aI.columnStaticName + "']").attr("DisplayName") } } }); return (aK > 1) ? aJ : i }; ao.fn.SPServices.SPGetStaticFromDisplay = function (i) { var aI = ao.extend({}, { webURL: "", listName: "", columnDisplayName: "", columnDisplayNames: {} }, i); var aH = ""; var aJ = {}; var aK = aI.columnDisplayNames.length > 0 ? aI.columnDisplayNames.length : 1; ao().SPServices({ operation: "GetList", async: false, cacheXML: true, webURL: aI.webURL, listName: aI.listName, completefunc: function (aL) { if (aK > 1) { for (O = 0; O < aK; O++) { aJ[aI.columnDisplayNames[O]] = ao(aL.responseXML).find("Field[DisplayName='" + aI.columnDisplayNames[O] + "']").attr("StaticName") } } else { aH = ao(aL.responseXML).find("Field[DisplayName='" + aI.columnDisplayName + "']").attr("StaticName") } } }); return (aK > 1) ? aJ : aH }; ao.fn.SPServices.SPRedirectWithID = function (aI) { var aJ = ao.extend({}, { redirectUrl: "", qsParamName: "ID" }, aI); ae.thisList = ao().SPServices.SPListNameFromUrl(); var aN = ao().SPServices.SPGetQueryString(); var aM = aN.ID; var aL = aN.List; var aH = aN.RootFolder; var aK = aN.ContentTypeId; if (typeof aN.ID === "undefined") { aM = ao().SPServices.SPGetLastItemId({ listName: ae.thisList }); ao("form[id='aspnetForm']").each(function () { var aP = (location.href.indexOf("?") > 0) ? location.href.substring(0, location.href.indexOf("?")) : location.href; var aQ = (typeof aN.Source === "string") ? "Source=" + aN.Source.replace(/\//g, "%2f").replace(/:/g, "%3a") : ""; var aO = []; if (typeof aL !== "undefined") { aO.push("List=" + aL) } if (typeof aH !== "undefined") { aO.push("RootFolder=" + aH) } if (typeof aK !== "undefined") { aO.push("ContentTypeId=" + aK) } var aR = aP + ((aO.length > 0) ? ("?" + aO.join("&") + "&") : "?") + "Source=" + aP + "?ID=" + aM + ((aQ.length > 0) ? ("%26RealSource=" + aN.Source) : "") + ((typeof aN.RedirectURL === "string") ? ("%26RedirectURL=" + aN.RedirectURL) : ""); setTimeout(function () { document.forms.aspnetForm.action = aR }, 0) }) } else { while (aN.ID === aM) { aM = ao().SPServices.SPGetLastItemId({ listName: ae.thisList }) } var i = (typeof aN.RedirectURL === "string") ? aN.RedirectURL : aJ.redirectUrl; location.href = i + "?" + aJ.qsParamName + "=" + aM + ((typeof aN.RealSource === "string") ? ("&Source=" + aN.RealSource) : "") } }; ao.fn.SPServices.SPSetMultiSelectSizes = function (aO) { var i = ao.extend({}, { listName: ao().SPServices.SPListNameFromUrl(), multiSelectColumn: "", minWidth: 0, maxWidth: 0, debug: false }, aO); var aL = "SPServices.SPSetMultiSelectSizes"; var aK = ao().SPServices.SPDropdownCtl({ displayName: i.multiSelectColumn }); if (aK.Obj.html() === null && i.debug) { X(aL, "multiSelectColumn: " + i.multiSelectColumn, al); return } if (aK.Type !== Y.multiSelect && i.debug) { X(aL, "multiSelectColumn: " + i.multiSelectColumn, "Column is not multi-select."); return } var aM = ag("SPSetMultiSelectSizes", i.multiSelectColumn, i.listName); var aJ = ao("<select id='" + aM + "' ></select>").appendTo(aK.container); aJ.css({ width: "auto", height: 0, visibility: "hidden" }); ao(aK.master.candidateControl).find("option").each(function () { aJ.append("<option value='" + ao(this).html() + "'>" + ao(this).html() + "</option>") }); ao(aK.master.resultControl).find("option").each(function () { aJ.append("<option value='" + ao(this).val() + "'>" + ao(this).html() + "</option>") }); var aH = aJ.width() + 5; var aN = aH; if (i.minWidth > 0 || i.maxWidth > 0) { if (aH < i.minWidth) { aH = i.minWidth } if (aN < i.minWidth) { aN = i.minWidth } if (aN > i.maxWidth) { aN = i.maxWidth } } var aI = aH; ao(aK.master.candidateControl).css("width", aI + "px").parent().css("width", aN + "px"); ao(aK.master.resultControl).css("width", aI + "px").parent().css("width", aN + "px"); aJ.remove() }; ao.fn.SPServices.SPScriptAudit = function (aI) { var aJ = ao.extend({}, { webURL: "", listName: "", outputId: "", auditForms: true, auditViews: true, auditPages: true, auditPagesListName: "Pages", showHiddenLists: false, showNoScript: false, showSrc: true }, aI); var aH = [["New", "NewForm.aspx", false], ["Display", "DispForm.aspx", false], ["Edit", "EditForm.aspx", false]]; var aL; ao("#" + aJ.outputId).append("<table id='SPScriptAudit' width='100%' style='border-collapse: collapse;' border=0 cellSpacing=0 cellPadding=1><tr><th></th><th>List</th><th>Page Class</th><th>Page Type</th><th>Page</th>" + (aJ.showSrc ? "<th>Script References</th>" : "") + "</tr></table>"); var aK = ao("#SPScriptAudit"); aK.find("th").attr("class", "ms-vh2-nofilter"); if (aJ.auditForms || aJ.auditViews) { ao().SPServices({ operation: "GetListCollection", webURL: aJ.webURL, async: false, completefunc: function (aN) { ao(aN.responseXML).find("List").each(function () { aL = ao(this); if ((aJ.listName.length === 0) || (aL.attr("Title") === aJ.listName)) { if ((aJ.showHiddenLists && aL.attr("Hidden") === "False") || !aJ.showHiddenLists) { if (aJ.auditForms) { ao().SPServices({ operation: "GetListContentTypes", webURL: aJ.webURL, listName: aL.attr("ID"), async: false, completefunc: function (aO) { ao(aO.responseXML).find("ContentType").each(function () { if (ao(this).attr("ID").substring(0, 6) !== "0x0120") { var aQ = ao(this).find("FormUrls"); for (O = 0; O < aH.length; O++) { ao(aQ).find(aH[O][0]).each(function () { aD(aJ, aL, "Form", this.nodeName, ((aJ.webURL.length > 0) ? aJ.webURL : ao().SPServices.SPGetCurrentSite()) + Q + ao(this).text()); aH[O][2] = true }); if (!aH[O][2]) { var aP = aL.attr("DefaultViewUrl"); aD(aJ, aL, "Form", aH[O][0], aP.substring(0, aP.lastIndexOf(Q) + 1) + aH[O][1]) } } for (O = 0; O < aH.length; O++) { aH[O][2] = false } } }) } }) } if (aJ.auditViews) { ao().SPServices({ operation: "GetViewCollection", webURL: aJ.webURL, listName: aL.attr("ID"), async: false, completefunc: function (aO) { ao(aO.responseXML).find("View").each(function () { aD(aJ, aL, "View", ao(this).attr("DisplayName"), ao(this).attr("Url")) }) } }) } } } }) } }) } var i = 0; var aM = []; if (typeof aJ.auditPagesListName === "string") { i = 1; aM.push(aJ.auditPagesListName) } else { i = aJ.auditPagesListName.length; aM = aJ.auditPagesListName } if (aJ.auditPages) { for (O = 0; O < i; O++) { ao().SPServices({ operation: "GetList", async: false, cacheXML: true, webURL: aJ.webURL, listName: aM[O], completefunc: function (aN) { ao(aN.responseXML).find("List").each(function () { aL = ao(this) }) } }); ao().SPServices({ operation: "GetListItems", async: false, webURL: aJ.webURL, listName: aM[O], CAMLQuery: "<Query><Where><Neq><FieldRef Name='ContentType'/><Value Type='Text'>Folder</Value></Neq></Where></Query>", CAMLViewFields: "<ViewFields><FieldRef Name='Title'/><FieldRef Name='FileRef'/></ViewFields>", CAMLRowLimit: 0, completefunc: function (aN) { ao(aN.responseXML).SPFilterNode("z:row").each(function () { var aQ = ao(this).attr("ows_FileRef").split(ah)[1]; var aO = ao(this).attr("ows_Title"); var aP = (typeof aO !== "undefined") ? aO : ""; if (aQ.indexOf(".aspx") > 0) { aD(aJ, aL, "Page", aP, Q + aQ) } }) } }) } } aK.find("tr[class='ms-alternating']:even").removeAttr("class") }; function aD(aH, aI, aP, aL, aJ) { var aM = 0; var aO = 0; var aK = {}; aK.type = []; aK.src = []; aK.script = []; var aN = RegExp("<script[\\s\\S]*?/script>", "gi"); ao.ajax({ type: "GET", url: aJ, dataType: "text", async: false, success: function (aV) { var aU; while (aU = aN.exec(aV)) { var aQ = an(aU, "language"); var aW = an(aU, "type"); var aS = an(aU, "src"); if (aS !== null && aS.length > 0 && !ap(aS)) { aK.type.push((aQ !== null && aQ.length > 0) ? aQ : aW); aK.src.push(aS); aO++ } } if ((!aH.showNoScript && (aK.type.length > 0)) || aH.showNoScript) { var aT = aJ.substring(0, aJ.lastIndexOf(Q) + 1); var aR = "<tr class=ms-alternating><td class=ms-vb-icon><a href='" + aI.attr("DefaultViewUrl") + "'><IMG border=0 src='" + aI.attr("ImageUrl") + "'width=16 height=16></A></TD><td class=ms-vb2><a href='" + aI.attr("DefaultViewUrl") + "'>" + aI.attr("Title") + ((aI.attr("Hidden") === "True") ? "(Hidden)" : "") + "</td><td class=ms-vb2>" + aP + "</td><td class=ms-vb2>" + aL + "</td><td class=ms-vb2><a href='" + aJ + "'>" + R(aJ) + "</td>"; if (aH.showSrc) { var i; aR += "<td valign='top'><table width='100%' style='border-collapse: collapse;' border=0 cellSpacing=0 cellPadding=1>"; for (aM = 0; aM < aK.type.length; aM++) { i = (aK.src[aM].substr(0, 1) !== Q) ? aT + aK.src[aM] : aK.src[aM]; aR += "<tr><td class=ms-vb2 width='30%'>" + aK.type[aM] + "</td>"; aR += "<td class=ms-vb2 width='70%'><a href='" + i + "'>" + R(aK.src[aM]) + "</td></tr>" } aR += "</table></td>" } ao("#SPScriptAudit").append(aR) } } }) } function an(aJ, aH) { var aI; var i = RegExp(aH + "=(\"([^\"]*)\")|('([^']*)')", "gi"); if (aI = i.exec(aJ)) { return aI[2] } return null } function ap(aJ) { var aI; var aH = ["WebResource.axd", "_layouts"]; for (aI = 0; aI < aH.length; aI++) { if (aJ.indexOf(aH[aI]) > -1) { return true } } return false } ao.fn.SPServices.SPArrangeChoices = function (aH) { var aI = ao.extend({}, { listName: ao().SPServices.SPListNameFromUrl(), columnName: "", perRow: 99, randomize: false }, aH); var aK = false; var aJ = []; var i = ao().SPServices({ operation: "GetList", async: false, cacheXML: true, listName: aI.listName }); i.done(function () { ao(i.responseXML).find("Field[DisplayName='" + aI.columnName + "']").each(function () { aK = (ao(this).attr("FillInChoice") === "TRUE"); return false }); var aR = z(aI.columnName); var aO = ao(aR).find("tr").length; var aQ; var aL; ao(aR).find("tr").each(function (aS) { if (aK && aS === (aO - 2)) { aQ = ao(this).find("td") } else { if (aK && aS === (aO - 1)) { aL = ao(this).find("td") } else { aJ.push(ao(this).find("td")) } } }); if (aI.randomize) { aJ.sort(q) } var aN = ao("<table cellpadding='0' cellspacing='1'></table>"); for (O = 0; O < aJ.length; O++) { if ((O + 1) % aI.perRow === 0) { aN.append("<tr></tr>") } aN.find("tr:last").append(aJ[O]) } if (aK) { var aM = ao("<tr><td colspan='99'><table cellpadding='0' cellspacing='1'><tr></tr></table></td></tr>"); aM.find("tr").append(aQ); aM.find("tr").append(aL); aN.append(aM) } var aP = ao(aR).find("table:first"); aP.before(aN); aP.hide() }) }; ao.fn.SPServices.SPAutocomplete = function (aI) { var aJ = ao.extend({}, { webURL: "", sourceList: "", sourceColumn: "", columnName: "", listName: ao().SPServices.SPListNameFromUrl(), CAMLQuery: "", CAMLQueryOptions: "<QueryOptions></QueryOptions>", CAMLRowLimit: 0, filterType: "BeginsWith", numChars: 0, ignoreCase: false, highlightClass: "", uniqueVals: false, maxHeight: 99999, slideDownSpeed: "fast", processingIndicator: "_layouts/images/REFRESH.GIF", debug: false }, aI); var aL; var aH = z(aJ.columnName).find("input[Title^='" + aJ.columnName + "']"); aH.css("position", ""); var aK = aH.css("color"); var aN = aH.css("width"); if (aH.html() === null && aJ.debug) { X("SPServices.SPAutocomplete", "columnName: " + aJ.columnName, "Column is not an input control or is not found on page"); return } aH.closest("span").find("br").remove(); aH.wrap("<div>"); var i = ag("SPAutocomplete", aJ.columnName, aJ.listName); aH.after("<div><ul id='" + i + "' style='width:" + aN + ";display:none;padding:2px;border:1px solid #2A1FAA;background-color:#FFF;position:absolute;z-index:40;margin:0'></div>"); var aM = ao("#" + i); aM.css("width", aN); ao(aH).keyup(function () { var aW = ao(this).val(); aM.hide(); if (aW.length < aJ.numChars) { return false } aH.css({ "background-image": "url(" + aJ.processingIndicator + ")", "background-position": "right", "background-repeat": "no-repeat" }); var aV = []; var aO = "<Query><OrderBy><FieldRef Name='" + aJ.sourceColumn + "'/></OrderBy><Where>"; if (aJ.CAMLQuery.length > 0) { aO += "<And>" } aO += "<" + aJ.filterType + "><FieldRef Name='" + aJ.sourceColumn + "'/><Value Type='Text'>" + aW + "</Value></" + aJ.filterType + ">"; if (aJ.CAMLQuery.length > 0) { aO += aJ.CAMLQuery + "</And>" } aO += "</Where></Query>"; ao().SPServices({ operation: "GetListItems", async: false, webURL: aJ.WebURL, listName: aJ.sourceList, CAMLQuery: aO, CAMLQueryOptions: aJ.CAMLQueryOptions, CAMLViewFields: "<ViewFields><FieldRef Name='" + aJ.sourceColumn + "' /></ViewFields>", CAMLRowLimit: aJ.CAMLRowLimit, completefunc: function (aZ) { var aY = aJ.ignoreCase ? aW.toUpperCase() : aW; ao(aZ.responseXML).SPFilterNode("z:row").each(function () { var a1 = ao(this).attr("ows_" + aJ.sourceColumn); var a2 = aJ.ignoreCase ? ao(this).attr("ows_" + aJ.sourceColumn).toUpperCase() : ao(this).attr("ows_" + aJ.sourceColumn); if (aJ.filterType === "Contains") { var a0 = a2.indexOf(aY); if ((a0 >= 0) && (!aJ.uniqueVals || (ao.inArray(a1, aV) === -1))) { aV.push(ao(this).attr("ows_" + aJ.sourceColumn)) } } else { if (aY === a2.substr(0, aY.length) && (!aJ.uniqueVals || (ao.inArray(a1, aV) === -1))) { aV.push(ao(this).attr("ows_" + aJ.sourceColumn)) } } }) } }); var aR = ""; for (O = 0; O < aV.length; O++) { if (aJ.highlightClass.length > 0) { var aQ = new RegExp(aW, aJ.ignoreCase ? "gi" : "g"); var aT = aV[O].match(aQ); var aS = 0; for (aL = 0; aL < aT.length; aL++) { var aU = aV[O].indexOf(aT[aL], aS); var aP = aU + aT[aL].length; var aX = "<span class='" + aJ.highlightClass + "'>" + aT[aL] + "</span>"; aV[O] = aV[O].substr(0, aU) + aX + aV[O].substr(aP); aS = aU + aX.length } } aR += "<li style='display: block;position: relative;cursor: pointer;'>" + aV[O] + "</li>" } aM.html(aR); ao("#" + i + " li").click(function () { ao("#" + i).fadeOut(aJ.slideUpSpeed); aH.val(ao(this).text()) }).mouseover(function () { var aY = { cursor: "hand", color: "#ffffff", background: "#3399ff" }; ao(this).css(aY) }).mouseout(function () { var aY = { cursor: "inherit", color: aK, background: "transparent" }; ao(this).css(aY) }); if (aV.length > 0) { ao("#" + i).slideDown(aJ.slideDownSpeed) } aH.css("background-image", "") }) }; ao.fn.SPServices.SPGetQueryString = function (aI) { var aK = ao.extend({}, { lowercase: false }, aI); var aN = {}; var aH = location.search.slice(1).split("&"); for (var aJ = 0; aJ < aH.length; aJ++) { var aM = aH[aJ].split("="); var aL = aK.lowercase ? aM[0].toLowerCase() : aM[0]; aN[aL] = decodeURIComponent(aM[1] || "") } return aN }; ao.fn.SPServices.SPListNameFromUrl = function (i) { var aH = ao.extend({}, { listName: "" }, i); if (aH.listName.length > 0) { ae.thisList = aH.listName; return ae.thisList } else { if (ae.thisList !== undefined && ae.thisList.length > 0) { return ae.thisList } } var aJ = location.href; var aI = aJ.substring(0, aJ.indexOf(".aspx")); var aK = decodeURIComponent(aI.substring(0, aI.lastIndexOf(Q) + 1)).toUpperCase(); ao().SPServices({ operation: "GetListCollection", async: false, completefunc: function (aL) { ao(aL.responseXML).find("List").each(function () { var aM = ao(this).attr("DefaultViewUrl"); var aN = aM.substring(0, aM.lastIndexOf(Q) + 1).toUpperCase(); if (aK.indexOf(aN) > 0) { ae.thisList = ao(this).attr("ID"); return false } }) } }); return ae.thisList }; ao.fn.SPServices.SPUpdateMultipleListItems = function (aJ) { var aL = ao.extend({}, { webURL: "", listName: "", CAMLQuery: "", batchCmd: "Update", valuepairs: [], completefunc: null, debug: false }, aJ); var aK; var aN = []; var aM = []; ao().SPServices({ operation: "GetListItems", async: false, webURL: aL.webURL, listName: aL.listName, CAMLQuery: aL.CAMLQuery, CAMLQueryOptions: "<QueryOptions><ViewAttributes Scope='Recursive' /></QueryOptions>", completefunc: function (i) { ao(i.responseXML).SPFilterNode("z:row").each(function () { aN.push(ao(this).attr("ows_ID")); var aO = ao(this).attr("ows_FileRef"); aO = "/" + aO.substring(aO.indexOf(ah) + 2); aM.push(aO) }) } }); var aH; var aI = "<Batch OnError='Continue'>"; for (aK = 0; aK < aN.length; aK++) { aI += "<Method ID='" + aK + "' Cmd='" + aL.batchCmd + "'>"; for (aH = 0; aH < aL.valuepairs.length; aH++) { aI += "<Field Name='" + aL.valuepairs[aH][0] + "'>" + L(aL.valuepairs[aH][1]) + "</Field>" } aI += "<Field Name='ID'>" + aN[aK] + "</Field>"; if (aM[aK].length > 0) { aI += "<Field Name='FileRef'>" + aM[aK] + "</Field>" } aI += "</Method>" } aI += "</Batch>"; ao().SPServices({ operation: "UpdateListItems", async: false, webURL: aL.webURL, listName: aL.listName, updates: aI, completefunc: function (i) { if (aL.completefunc !== null) { aL.completefunc(i) } } }) }; ao.fn.SPServices.SPGetListItemsJson = function (aJ) { var aK = ao.extend({}, { webURL: "", listName: "", viewName: "", CAMLQuery: "", CAMLViewFields: "", CAMLRowLimit: "", CAMLQueryOptions: "", changeToken: "", contains: "", mapping: null, mappingOverrides: null, debug: false }, ao().SPServices.defaults, aJ); var aI; var aH = {}; var aM = []; var i = ao.Deferred(); var aL = ao().SPServices({ operation: "GetListItemChangesSinceToken", webURL: aK.webURL, listName: aK.listName, viewName: aK.viewName, CAMLQuery: aK.CAMLQuery, CAMLViewFields: aK.CAMLViewFields, CAMLRowLimit: aK.CAMLRowLimit, CAMLQueryOptions: aK.CAMLQueryOptions, changeToken: aK.changeToken, contains: aK.contains }); aL.done(function () { var aP = "SPGetListItemsJson" + aK.webURL + aK.listName; var aQ = ao(aL.responseXML); aI = aQ.find("Changes").attr("LastChangeToken"); aQ.find("listitems Changes Id[ChangeType='Delete']").each(function () { aM.push(ao(this).text()) }); if (aK.mapping === null) { aQ.find("List > Fields > Field").each(function () { var aS = ao(this); var aT = aS.attr("Type"); if (ao.inArray(aT, ar) >= 0) { aH["ows_" + aS.attr("Name")] = { mappedName: aS.attr("Name"), objectType: aS.attr("Type") } } }) } else { aH = aK.mapping } if (aK.mappingOverrides !== null) { for (var aN in aK.mappingOverrides) { aH[aN] = aK.mappingOverrides[aN] } } if (ao.isEmptyObject(aH)) { aH = ao(document).data(aP) } else { ao(document).data(aP, aH) } var aO = aQ.SPFilterNode("z:row").SPXmlToJson({ mapping: aH, sparse: true }); var aR = { changeToken: aI, mapping: aH, data: aO, deletedIds: aM }; i.resolveWith(aR) }); return i.promise() }; ao.fn.SPServices.SPConvertDateToISO = function (i) { var aH = ao.extend({}, { dateToConvert: new Date(), dateOffset: "-05:00" }, i); var aI = ""; var aJ = aH.dateToConvert; aI += aJ.getFullYear() + "-"; aI += u(aJ.getMonth() + 1) + "-"; aI += u(aJ.getDate()); aI += "T" + u(aJ.getHours()) + ":"; aI += u(aJ.getMinutes()) + ":"; aI += u(aJ.getSeconds()) + "Z" + aH.dateOffset; return aI }; ao.fn.SPFilterNode = function (i) { return this.find("*").filter(function () { return this.nodeName === i }) }; ao.fn.SPXmlToJson = function (i) { var aI = ao.extend({}, { mapping: {}, includeAllAttrs: false, removeOws: true, sparse: false }, i); var aJ; var aH = []; this.each(function () { var aN = {}; var aP = this.attributes; if (!aI.sparse) { ao.each(aI.mapping, function () { aN[this.mappedName] = "" }) } for (aJ = 0; aJ < aP.length; aJ++) { var aO = aP[aJ].name; var aM = aI.mapping[aO]; var aK = typeof aM !== "undefined" ? aM.mappedName : aI.removeOws ? aO.split("ows_")[1] : aO; var aL = typeof aM !== "undefined" ? aM.objectType : undefined; if (aI.includeAllAttrs || aM !== undefined) { aN[aK] = N(aP[aJ].value, aL) } } aH.push(aN) }); return aH }; function N(aH, i) { var aI; switch (i) { case "Text": aI = aH; break; case "DateTime": case "datetime": aI = d(aH); break; case "User": aI = S(aH); break; case "UserMulti": aI = x(aH); break; case "Lookup": aI = az(aH); break; case "LookupMulti": aI = p(aH); break; case "Boolean": aI = r(aH); break; case "Integer": aI = a(aH); break; case "Counter": aI = a(aH); break; case "MultiChoice": aI = w(aH); break; case "Number": case "Currency": case "float": aI = P(aH); break; case "Calculated": aI = au(aH); break; case "Attachments": aI = aA(aH); break; case "URL": aI = t(aH); break; case "JSON": aI = aw(aH); break; default: aI = aH; break } return aI } function a(i) { return parseInt(i, 10) } function P(i) { return parseFloat(i) } function r(i) { return i !== "0" } function d(aI) { var aJ = aI.split("T")[0] !== aI ? aI.split("T") : aI.split(" "); var aK = aJ[0].split("-"); var aH = aJ[1].split(":"); var i = aH[2].split("Z"); return new Date(aK[0], (aK[1] - 1), aK[2], aH[0], aH[1], i[0]) } function S(aI) { if (aI.length === 0) { return null } else { var i = new n(aI); var aH = i.value.split(",#"); if (aH.length === 1) { return { userId: i.id, userName: i.value } } else { return { userId: i.id, userName: aH[0].replace(/(,,)/g, ","), loginName: aH[1].replace(/(,,)/g, ","), email: aH[2].replace(/(,,)/g, ","), sipAddress: aH[3].replace(/(,,)/g, ","), title: aH[4].replace(/(,,)/g, ",") } } } } function x(aI) { if (aI.length === 0) { return null } else { var aJ = []; var aH = aI.split(ah); for (O = 0; O < aH.length; O = O + 2) { var i = S(aH[O] + ah + aH[O + 1]); aJ.push(i) } return aJ } } function az(i) { if (i.length === 0) { return null } else { var aH = i.split(ah); return { lookupId: aH[0], lookupValue: aH[1] } } } function p(aH) { if (aH.length === 0) { return null } else { var aJ = []; var i = aH.split(ah); for (O = 0; O < i.length; O = O + 2) { var aI = az(i[O] + ah + i[O + 1]); aJ.push(aI) } return aJ } } function w(aI) { if (aI.length === 0) { return null } else { var i = []; var aH = aI.split(ah); for (O = 0; O < aH.length; O++) { if (aH[O].length !== 0) { i.push(aH[O]) } } return i } } function aA(aI) { if (aI.length === 0) { return null } else { if (aI === "0" || aI === "1") { return aI } else { var aH = []; var i = aI.split(ah); for (O = 0; O < i.length; O++) { if (i[O].length !== 0) { var aK = i[O]; if (i[O].lastIndexOf("/") !== -1) { var aJ = i[O].split("/"); aK = aJ[aJ.length - 1] } aH.push({ attachment: i[O], fileName: aK }) } } return aH } } } function t(aH) { if (aH.length === 0) { return null } else { var i = aH.split(", "); return { Url: i[0], Description: i[1] } } } function au(aH) { if (aH.length === 0) { return null } else { var i = aH.split(ah); return N(i[1], i[0]) } } function aw(i) { if (i.length === 0) { return null } else { return ao.parseJSON(i) } } ao.fn.SPServices.SPFindPeoplePicker = function (aI) { var aJ = ao.extend({}, { peoplePickerDisplayName: "", valueToSet: "", checkNames: true }, aI); var aM = ao("nobr").filter(function () { return ao(this).contents().eq(0).text() === aJ.peoplePickerDisplayName }).closest("tr"); var aH = aM.find("div[name='upLevelDiv']"); var i = aM.find("img[Title='Check Names']:first"); if (aJ.valueToSet.length > 0) { aH.html(aJ.valueToSet) } if (aJ.checkNames) { i.click() } var aL = ao.trim(aH.text()); var aK = []; aH.children("span").each(function () { var aP = ao(this).find("div[data]").attr("data"); var aN = {}; if (typeof aP !== "undefined") { var aQ = ao.parseXML(aP); var aO = ao(aQ); aO.find("DictionaryEntry").each(function () { var aR = ao(this).find("Key").text(); aN[aR] = ao(this).find("Value").text() }); aK.push(aN) } else { ao().SPServices({ operation: "GetUserInfo", async: false, cacheXML: true, userLoginName: ao(this).attr("title"), completefunc: function (aR) { ao(aR.responseXML).find("User").each(function () { ao.each(this.attributes, function (aS, aT) { aN[aT.name] = aT.value }); aK.push(aN) }) } }) } }); return { row: aM, contents: aH, currentValue: aL, checkNames: i, dictionaryEntries: aK } }; ao.fn.SPFindPeoplePicker = function (i) { return ao().SPServices.SPFindPeoplePicker(i) }; ao.fn.SPServices.SPFindMMSPicker = function (aJ) { var aL = ao.extend({}, { MMSDisplayName: "" }, aJ); var aI = []; var aH = ao("div[title='" + aL.MMSDisplayName + "']"); var aO = aH.closest("td").find("input[type='hidden']"); var aN = aO.val().split(";"); for (var aK = 0; aK < aN.length; aK++) { var aM = aN[aK].split("|"); aI.push({ value: aM[0], guid: aM[1] }) } return { terms: aI } }; ao.fn.SPServices.Version = function () { return ab }; ao.fn.SPServices.SPDropdownCtl = function (aJ) { var aK = ao.extend({}, { displayName: "" }, aJ); var aI = {}; var aM = ao().SPServices.SPGetStaticFromDisplay({ listName: ao().SPServices.SPListNameFromUrl(), columnDisplayName: aK.displayName }); if ((aI.Obj = ao("select[Title='" + aK.displayName + "']")).length === 1) { aI.Type = Y.simple } else { if ((aI.Obj = ao("input[Title='" + aK.displayName + "']")).length === 1) { aI.Type = Y.complex } else { if ((aI.Obj = ao("select:regex(id, (" + aM + ")(_)[0-9a-fA-F]{8}(-))")).length === 1) { aI.Type = Y.simple } else { if ((aI.Obj = ao("select[ID$='SelectCandidate'][Title^='" + aK.displayName + " ']")).length === 1) { aI.Type = Y.multiSelect } else { if ((aI.Obj = ao("select[ID$='SelectCandidate'][Title$=': " + aK.displayName + "']")).length === 1) { aI.Type = Y.multiSelect } else { if ((aI.Obj = ao("select[ID$='SelectCandidate'][Title$='\"" + aK.displayName + "\".']")).length === 1) { aI.Type = Y.multiSelect } else { if ((aI.Obj = ao("select[ID$='SelectCandidate'][Title$=' " + aK.displayName + "']")).length === 1) { aI.Type = Y.multiSelect } else { aI.Type = null } } } } } } } if (aI.Type === null) { var aL = z(aK.displayName); if (aL !== undefined) { var aH = aL.find("select[title^='" + aK.displayName + " '][id$='_Lookup']"); if (aH && aH.length === 1) { aI.Type = Y.simple; aI.Obj = aH } } } if (aI.Type === Y.complex) { aI.optHid = ao("input[id='" + aI.Obj.attr("optHid") + "']") } else { if (aI.Type === Y.multiSelect) { aI.container = aI.Obj.closest("span"); aI.MultiLookupPickerdata = aI.container.find("input[id$='" + at + "_data'], input[id$='" + g + "_data']"); var i = aI.container.find("[id$='AddButton']").attr("id"); aI.master = window[i.replace(/AddButton/, at + "_m")] || window[i.replace(/AddButton/, g + "_m")] } } return aI }; function av() { var i = location.protocol + "//" + location.host + (location.port !== "" ? location.port : ""); if (typeof _spPageContextInfo !== "undefined") { this.thisSite = i + _spPageContextInfo.webServerRelativeUrl; this.thisList = _spPageContextInfo.pageListId; this.thisUserId = _spPageContextInfo.userId } else { this.thisSite = (typeof L_Menu_BaseUrl !== "undefined") ? i + L_Menu_BaseUrl : ""; this.thisList = ""; this.thisUserId = (typeof _spUserId !== "undefined") ? _spUserId : undefined } } function W(aS, aO, aT, aJ) { if (typeof aT === "undefined") { return "" } var aP; var aQ = ""; var aN; var aL; var aR = []; var aK = aJ.relatedWebURL.length > 0 ? aJ.relatedWebURL : ao().SPServices.SPGetCurrentSite(); switch (aO.attr("Type")) { case "Text": aQ = aT; break; case "URL": switch (aO.attr("Format")) { case "Hyperlink": aQ = "<a href='" + aT.substring(0, aT.search(",")) + "'>" + aT.substring(aT.search(",") + 1) + "</a>"; break; case "Image": aQ = "<img alt='" + aT.substring(aT.search(",") + 1) + "' src='" + aT.substring(0, aT.search(",")) + "'/>"; break; default: aQ = aT; break } break; case "User": case "UserMulti": var aH = aT.split(ah); for (aP = 0; aP < aH.length; aP = aP + 2) { aR.push("<a href='/_layouts/userdisp.aspx?ID=" + aH[aP] + "&Source=" + A(location.href) + "'>" + aH[aP + 1] + "</a>") } aQ = aR.join(", "); break; case "Calculated": var aM = aT.split(ah); aQ = aM[1]; break; case "Number": aL = aO.attr("Decimals"); aQ = typeof aL === "undefined" ? parseFloat(aT).toString() : parseFloat(aT).toFixed(aL).toString(); break; case "Currency": aL = aO.attr("Decimals"); aQ = typeof aL === "undefined" ? parseFloat(aT).toFixed(2).toString() : parseFloat(aT).toFixed(aL).toString(); break; case "Lookup": switch (aO.attr("Name")) { case "FileRef": aN = aS.attr("BaseType") === "1" ? aS.attr("RootFolder") + Q + "Forms/DispForm.aspx" : aS.attr("RootFolder") + Q + "DispForm.aspx"; aQ = "<a href='" + aN + "?ID=" + aT.substring(0, aT.search(ah)) + "&RootFolder=*&Source=" + A(location.href) + "'>" + aT.substring(aT.search(ah) + 2) + "</a>"; break; case "FileDirRef": aN = Q + aT.substring(aT.search(ah) + 2); aQ = "<a href='" + aN + "'>" + aT.substring(aT.search(ah) + 2) + "</a>"; break; default: aN = D(aO.attr("List"), "DisplayForm"); aQ = "<a href='" + aJ.relatedWebURL + Q + aN + "?ID=" + aT.substring(0, aT.search(ah)) + "&RootFolder=*&Source=" + A(location.href) + "'>" + aT.substring(aT.search(ah) + 2) + "</a>"; break } break; case "LookupMulti": aN = D(aO.attr("List"), "DisplayForm"); aQ = ""; if (aT.length > 0) { var aI = aT.split(ah); for (aP = 0; aP < aI.length / 2; aP++) { aR.push("<a href='" + aK + Q + aN + "?ID=" + aI[aP * 2] + "&RootFolder=*&Source=" + A(location.href) + "'>" + aI[(aP * 2) + 1] + "</a>") } } aQ = aR.join(", "); break; case "File": R = aT.substring(aT.search(ah) + 2); aQ = "<a href='" + aS.attr("RootFolder") + Q + R + "'>" + R + "</a>"; break; case "Counter": aQ = aT; break; case "DateTime": aQ = aT; break; default: aQ = aT; break } return aQ } function s(aJ) { var aI; var aH = "<table class='ms-vb' width='100%'>"; for (aI = 0; aI < aJ.attributes.length; aI++) { aH += "<tr><td width='10px' style='font-weight:bold;'>" + aI + "</td><td width='100px'>" + aJ.attributes.item(aI).nodeName + "</td><td>" + M(aJ.attributes.item(aI).nodeValue) + "</td></tr>" } aH += "</table>"; return aH } function c(aI, aH) { var i = []; switch (aI.Type) { case Y.simple: if (aH) { i.push(aI.Obj.find("option:selected").val() || []) } else { i.push(aI.Obj.find("option:selected").text() || []) } break; case Y.complex: if (aH) { i.push(aI.optHid.val() || []) } else { i.push(aI.Obj.val() || []) } break; case Y.multiSelect: ao(aI.master.resultControl).find("option").each(function () { if (aH) { i.push(ao(this).val()) } else { i.push(ao(this).html()) } }); break; default: break } return i } function X(aH, aJ, aI) { var i = "<b>Error in function</b><br/>" + aH + "<br/><b>Parameter</b><br/>" + aJ + "<br/><b>Message</b><br/>" + aI + "<br/><br/><span onmouseover='this.style.cursor=\"hand\";' onmouseout='this.style.cursor=\"inherit\";' style='width=100%;text-align:right;'>Click to continue</span></div>"; V(i) } function V(aM) { var aJ = "position:absolute;width:300px;height:150px;padding:10px;background-color:#000000;color:#ffffff;z-index:30;font-family:'Arial';font-size:12px;display:none;"; ao("#aspnetForm").parent().append("<div id='SPServices_msgBox' style=" + aJ + ">" + aM); var aI = ao("#SPServices_msgBox"); var i = aI.height(); var aL = aI.width(); var aK = (ao(window).width() / 2) - (aL / 2) + "px"; var aH = (ao(window).height() / 2) - (i / 2) - 100 + "px"; aI.css({ border: "5px #C02000 solid", left: aK, top: aH }).show().fadeTo("slow", 0.75).click(function () { ao(this).fadeOut("3000", function () { ao(this).remove() }) }) } function ag(i, aI, aJ) { var aH = aJ !== undefined ? aJ : ao().SPServices.SPListNameFromUrl(); return i + "_" + ao().SPServices.SPGetStaticFromDisplay({ listName: aH, columnDisplayName: aI }) } function D(i, aI) { var aH; ao().SPServices({ operation: "GetFormCollection", async: false, listName: i, completefunc: function (aJ) { aH = ao(aJ.responseXML).find("Form[Type='" + aI + "']").attr("Url") } }); return aH } function ax(aJ, aH) { var aI; for (aI = 0; aI < aH.length; aI++) { if (typeof aH[aI] === "string") { T.payload += aB(aH[aI], aJ[aH[aI]]) } else { if (ao.isArray(aH[aI]) && aH[aI].length === 2) { T.payload += aB(aH[aI][0], aJ[aH[aI][1]]) } else { if ((typeof aH[aI] === "object") && (aH[aI].sendNull !== undefined)) { T.payload += ((aJ[aH[aI].name] === undefined) || (aJ[aH[aI].name].length === 0)) ? "" : aB(aH[aI].name, aJ[aH[aI].name]) } else { X(aJ.operation, "paramArray[" + aI + "]: " + aH[aI], "Invalid paramArray element passed to addToPayload()") } } } } } function z(i) { var aI; var aH = RegExp('FieldName="' + i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&") + '"', "gi"); ao("td.ms-formbody, td.ms-formbodysurvey").each(function () { if (aH.test(ao(this).html())) { aI = ao(this); return false } }); return aI } function k(i, aI) { var aH = aI.substring(8); i.opheader = i.opheader.replace(aI, aH); i.opfooter = i.opfooter.replace(aI, aH); return i } function aB(aI, aH) { var i = typeof aH !== "undefined" ? aH : ""; return "<" + aI + ">" + i + "</" + aI + ">" } function q() { return (Math.round(Math.random()) - 0.5) } function M(i) { return ((i.indexOf("http") === 0) || (i.indexOf(Q) === 0)) ? "<a href='" + i + "'>" + i + "</a>" : i } function R(i) { return i.substring(i.lastIndexOf(Q) + 1, i.length) } var Z = { "&": "&amp;", '"': "&quot;", "<": "&lt;", ">": "&gt;" }; var H = { "&amp;": "&", "&quot;": '"', "&lt;": "<", "&gt;": ">" }; function j(i) { return i.replace(/([\&"<>])/g, function (aI, aH) { return Z[aH] }) } function I(i) { return i.replace(/(&quot;|&lt;|&gt;|&amp;)/g, function (aI, aH) { return H[aH] }) } function L(i) { if (typeof i === "string") { return i.replace(/&(?![a-zA-Z]{1,8};)/g, "&amp;") } else { return i } } function A(i) { return i.replace(/&/g, "%26") } function n(i) { var aH = i.split(ah); this.id = aH[0]; this.value = aH[1] } function u(i) { return i < 10 ? "0" + i : i } ao.expr[":"].regex = function (aM, aJ, aI) { var aN = aI[3].split(","), aH = /^(data|css):/, i = { method: aN[0].match(aH) ? aN[0].split(":")[0] : "attr", property: aN.shift().replace(aH, "") }, aL = "ig", aK = new RegExp(aN.join("").replace(/^\s+|\s+$/g, ""), aL); return aK.test(ao(aM)[i.method](i.property)) } })(jQuery);



/*
 *  jQuery Section Scroll v2
 *  Contributor: https://github.com/sylvainbaronnet
 *
 *  Copyright (c) 2016 Danish Iqbal
 *  http://plugins.imdanishiqbal.com/section-scroll
 *
 *  Licensed under MIT
 *
 */
(function ($) {
    'use strict';

    $.fn.sectionScroll = function (options) {
        var $container = this,
            $window = $(window),
            $section_number = 1,
            lastId,
            settings = $.extend({
                bulletsClass: 'section-bullets',
                sectionsClass: 'scrollable-section',
                scrollDuration: 1000,
                titles: true,
                topOffset: 0,
                easing: ''
            }, options);

        var $sections = $('.' + settings.sectionsClass);
        var $bullets = $('<div class="bullets-container"><ul class="' + settings.bulletsClass + '"></ul></div>')
                        .prependTo($container)
                        .find('ul');

        /* Build navigation */
        var bullets_html = '';
        var slideItem;
        $sections.each(function () {

            var $this = $(this);
            var title = $this.data('section-title') || '';
            title = title.replace(/\"/g, "'");

            $this.attr('id', 'scrollto-section-' + $section_number);

            //    var bullet_title = settings.titles ? '<span>' + title + '</span>' : '';


            //data-placement="top" data-container="#s4-workspace" data-toggle="tooltip"
            if (window.location.href.indexOf("/en/") > -1 || window.location.href.indexOf("/ru/") > -1 || window.location.href.indexOf("/ar/") > -1)
            {
                // in medTour we should display this Bullet - number 4 
                if (window.location.pathname.indexOf("/ichilov") > -1)
                {
                    bullets_html += '<li><a title="' + title + '" data-toggle="tooltip" data-placement="right" href="#scrollto-section-' + $section_number + '"> </a></li>';
                }
                else
                {
                    if ($this.attr("id") != "scrollto-section-5") { // we dont render beWell Section in En homePage 
                        bullets_html += '<li><a title="' + title + '" data-toggle="tooltip" data-placement="right" href="#scrollto-section-' + $section_number + '"> </a></li>';
                    }
                }
            }
            else
            {
                bullets_html += '<li><a title="' + title + '" data-toggle="tooltip" data-placement="left" href="#scrollto-section-' + $section_number + '"> </a></li>';
            }

            $section_number++;
        });

        var $bullets_items = $(bullets_html).appendTo($bullets);

        var scrollItems = $bullets_items.map(function () {
            var item = $($(this).find('a').attr('href'));
            if (item[0]) {
                return item;
            }

        });

        jQuery(".section-bullets li").first().addClass("active");
        var hrefForLoad = document.location.href.substring(document.location.href.indexOf("#"));
        jQuery(".section-bullets li a[href$='" + hrefForLoad + "']").parent().addClass("active");

        var NewOffset = -80;
        if (jQuery(".section-bullets li").first().hasClass("active")) {
            NewOffset = -170;
            jQuery(".section-bullets li").first().removeClass("active");
        }

        $bullets_items.on('click', function (e) {
            var $currentLink = $(this);

            e.preventDefault();

            if (jQuery(".section-bullets li").first().hasClass("active")) {
                NewOffset = -170;
            }

            $bullets_items.removeClass('active');
            $(this).addClass('active');

            var target = jQuery(this).find('a').attr("href");



            $("html,body,#s4-workspace").scrollTo(jQuery(target), 800, { offset: NewOffset });
            NewOffset = -80;

            if (target == "#scrollto-section-2")
            {
                eWave.HomePage.HomePageBI(1, 2, 4, 3, 6, 7, 8,5);  // turn on homePageBi Plugin when you get its spicific section
            }
            if (window.location.pathname.includes("/ichilov") == true)
            {
                if (target == "#scrollto-section-4")
                {
                    eWave.HomePage.HomePageBI(1, 2, 4, 3, 6, 7, 8);
                }
            }
            //-----------save the current href and add it to the url in order to get the same section and bullet on explorer back and next button------------------------
           var currentHref = $(this).children('a').attr('href');
            var myURL = document.location.hash.substring(document.location.href.indexOf("#"));

            setTimeout(function () {
                document.location = myURL + currentHref;
            }, 0); // update url after the scrollTo End 
            //-------------------------------------------------------------------------------------
        });

        
        



        var slideItem;

        $window.bind('mousewheel DOMMouseScroll MozMousePixelScroll', function (e) {
            var fromTop = $window.scrollTop() + ($window.height() / 2.5);

            var cur = scrollItems.map(function () {

                if ($(this).offset().top < fromTop) {
                    return this;
                }
            });
            cur = cur.length > 0 ? cur[cur.length - 1] : [];
            var id = cur[0] ? cur[0].id : '';

            if (lastId !== id) {
                $sections.removeClass('active-section');

                var $activeLink = $bullets_items.find('a[href="#' + id + '"]');


                $(cur).addClass('active-section');
                $bullets_items
                    .removeClass('active')
                    .find('a[href="#' + id + '"]')
                    .parent()
                    .addClass('active');

                lastId = id;
                $.fn.sectionScroll.activeSection = cur;
                $container.trigger('section-reached');

                $activeLink.focus();

                if(cur.selector=="#scrollto-section-2")
                {
                    eWave.HomePage.HomePageBI(1, 2, 4, 3, 6, 7, 8,5);  // turn on homePageBi Plugin when you get its spicific section
                }
                if (window.location.pathname.includes("/ichilov") == true) {
                    if (cur.selector == "#scrollto-section-4") {
                        eWave.HomePage.HomePageBI(1, 2, 4, 3, 6, 7, 8);
                    }
                }

            }
        });

        $(function () {
            $window.scroll();
        });

        return $container;
    };
}(jQuery));

/**
* NG Responsive Tables v1.0
*/
; (function ($) {
    $.fn.ngResponsiveTables = function (options) {
        var defaults = {
            smallPaddingCharNo: 5,
            mediumPaddingCharNo: 10,
            largePaddingCharNo: 15
        },
              $selElement = this,
              ngResponsiveTables = {
                  opt: '',
                  dataContent: '',
                  globalWidth: 0,
                  init: function () {
                      this.opt = $.extend(defaults, options);
                      ngResponsiveTables.targetTable();
                  },
                  targetTable: function () {
                      var that = this;
                      $selElement.find('tr').each(function () {
                          $(this).find('td').each(function (i, v) {
                              that.checkForTableHead($(this), i);
                              $(this).addClass('tdno' + i);
                          });
                      });
                  },
                  checkForTableHead: function (element, index) {
                      if ($selElement.find('th').length > index) {
                          this.dataContent = $selElement.find('th')[index].textContent;
                      }
                      else {
                          this.dataContent = $selElement.find('tr:first td')[index].textContent;
                      }
                      // This padding is for large texts inside header of table
                      // Use small, medium and large paddingMax values from defaults to set-up offsets for each class
                      if (this.opt.smallPaddingCharNo > $.trim(this.dataContent).length) {
                          element.addClass('small-padding');
                      } else if (this.opt.mediumPaddingCharNo > $.trim(this.dataContent).length) {
                          element.addClass('medium-padding');
                      } else {
                          element.addClass('large-padding');
                      }
                      if (element[0].innerText == "")
                          element[0].innerText = "-";
                      element.wrapInner("<div class='tableTRText'></div>");
                      element.prepend("<div class='tableTRHeader'>" + this.dataContent + "</div>");
                  }
              };

        $(function () {
            ngResponsiveTables.init();
        });
        return this;
    };

}(jQuery));

/**
 * Copyright (c) 2007-2015 Ariel Flesler - aflesler ○ gmail • com | http://flesler.blogspot.com
 * Licensed under MIT
 * @author Ariel Flesler
 * @version 2.1.3
 */
; (function (f) { "use strict"; "function" === typeof define && define.amd ? define(["jquery"], f) : "undefined" !== typeof module && module.exports ? module.exports = f(require("jquery")) : f(jQuery) })(function ($) { "use strict"; function n(a) { return !a.nodeName || -1 !== $.inArray(a.nodeName.toLowerCase(), ["iframe", "#document", "html", "body"]) } function h(a) { return $.isFunction(a) || $.isPlainObject(a) ? a : { top: a, left: a } } var p = $.scrollTo = function (a, d, b) { return $(window).scrollTo(a, d, b) }; p.defaults = { axis: "xy", duration: 0, limit: !0 }; $.fn.scrollTo = function (a, d, b) { "object" === typeof d && (b = d, d = 0); "function" === typeof b && (b = { onAfter: b }); "max" === a && (a = 9E9); b = $.extend({}, p.defaults, b); d = d || b.duration; var u = b.queue && 1 < b.axis.length; u && (d /= 2); b.offset = h(b.offset); b.over = h(b.over); return this.each(function () { function k(a) { var k = $.extend({}, b, { queue: !0, duration: d, complete: a && function () { a.call(q, e, b) } }); r.animate(f, k) } if (null !== a) { var l = n(this), q = l ? this.contentWindow || window : this, r = $(q), e = a, f = {}, t; switch (typeof e) { case "number": case "string": if (/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(e)) { e = h(e); break } e = l ? $(e) : $(e, q); case "object": if (e.length === 0) return; if (e.is || e.style) t = (e = $(e)).offset() } var v = $.isFunction(b.offset) && b.offset(q, e) || b.offset; $.each(b.axis.split(""), function (a, c) { var d = "x" === c ? "Left" : "Top", m = d.toLowerCase(), g = "scroll" + d, h = r[g](), n = p.max(q, c); t ? (f[g] = t[m] + (l ? 0 : h - r.offset()[m]), b.margin && (f[g] -= parseInt(e.css("margin" + d), 10) || 0, f[g] -= parseInt(e.css("border" + d + "Width"), 10) || 0), f[g] += v[m] || 0, b.over[m] && (f[g] += e["x" === c ? "width" : "height"]() * b.over[m])) : (d = e[m], f[g] = d.slice && "%" === d.slice(-1) ? parseFloat(d) / 100 * n : d); b.limit && /^\d+$/.test(f[g]) && (f[g] = 0 >= f[g] ? 0 : Math.min(f[g], n)); !a && 1 < b.axis.length && (h === f[g] ? f = {} : u && (k(b.onAfterFirst), f = {})) }); k(b.onAfter) } }) }; p.max = function (a, d) { var b = "x" === d ? "Width" : "Height", h = "scroll" + b; if (!n(a)) return a[h] - $(a)[b.toLowerCase()](); var b = "client" + b, k = a.ownerDocument || a.document, l = k.documentElement, k = k.body; return Math.max(l[h], k[h]) - Math.min(l[b], k[b]) }; $.Tween.propHooks.scrollLeft = $.Tween.propHooks.scrollTop = { get: function (a) { return $(a.elem)[a.prop]() }, set: function (a) { var d = this.get(a); if (a.options.interrupt && a._last && a._last !== d) return $(a.elem).stop(); var b = Math.round(a.now); d !== b && ($(a.elem)[a.prop](b), a._last = this.get(a)) } }; return p });

/*! Select2 4.0.0 | https://github.com/select2/select2/blob/master/LICENSE.md */!function (a) { "function" == typeof define && define.amd ? define(["jquery"], a) : a("object" == typeof exports ? require("jquery") : jQuery) }(function (a) {
    var b = function () {
        if (a && a.fn && a.fn.select2 && a.fn.select2.amd) var b = a.fn.select2.amd; var b; return function () { if (!b || !b.requirejs) { b ? c = b : b = {}; var a, c, d; !function (b) { function e(a, b) { return u.call(a, b) } function f(a, b) { var c, d, e, f, g, h, i, j, k, l, m, n = b && b.split("/"), o = s.map, p = o && o["*"] || {}; if (a && "." === a.charAt(0)) if (b) { for (n = n.slice(0, n.length - 1), a = a.split("/"), g = a.length - 1, s.nodeIdCompat && w.test(a[g]) && (a[g] = a[g].replace(w, "")), a = n.concat(a), k = 0; k < a.length; k += 1) if (m = a[k], "." === m) a.splice(k, 1), k -= 1; else if (".." === m) { if (1 === k && (".." === a[2] || ".." === a[0])) break; k > 0 && (a.splice(k - 1, 2), k -= 2) } a = a.join("/") } else 0 === a.indexOf("./") && (a = a.substring(2)); if ((n || p) && o) { for (c = a.split("/"), k = c.length; k > 0; k -= 1) { if (d = c.slice(0, k).join("/"), n) for (l = n.length; l > 0; l -= 1) if (e = o[n.slice(0, l).join("/")], e && (e = e[d])) { f = e, h = k; break } if (f) break; !i && p && p[d] && (i = p[d], j = k) } !f && i && (f = i, h = j), f && (c.splice(0, h, f), a = c.join("/")) } return a } function g(a, c) { return function () { return n.apply(b, v.call(arguments, 0).concat([a, c])) } } function h(a) { return function (b) { return f(b, a) } } function i(a) { return function (b) { q[a] = b } } function j(a) { if (e(r, a)) { var c = r[a]; delete r[a], t[a] = !0, m.apply(b, c) } if (!e(q, a) && !e(t, a)) throw new Error("No " + a); return q[a] } function k(a) { var b, c = a ? a.indexOf("!") : -1; return c > -1 && (b = a.substring(0, c), a = a.substring(c + 1, a.length)), [b, a] } function l(a) { return function () { return s && s.config && s.config[a] || {} } } var m, n, o, p, q = {}, r = {}, s = {}, t = {}, u = Object.prototype.hasOwnProperty, v = [].slice, w = /\.js$/; o = function (a, b) { var c, d = k(a), e = d[0]; return a = d[1], e && (e = f(e, b), c = j(e)), e ? a = c && c.normalize ? c.normalize(a, h(b)) : f(a, b) : (a = f(a, b), d = k(a), e = d[0], a = d[1], e && (c = j(e))), { f: e ? e + "!" + a : a, n: a, pr: e, p: c } }, p = { require: function (a) { return g(a) }, exports: function (a) { var b = q[a]; return "undefined" != typeof b ? b : q[a] = {} }, module: function (a) { return { id: a, uri: "", exports: q[a], config: l(a) } } }, m = function (a, c, d, f) { var h, k, l, m, n, s, u = [], v = typeof d; if (f = f || a, "undefined" === v || "function" === v) { for (c = !c.length && d.length ? ["require", "exports", "module"] : c, n = 0; n < c.length; n += 1) if (m = o(c[n], f), k = m.f, "require" === k) u[n] = p.require(a); else if ("exports" === k) u[n] = p.exports(a), s = !0; else if ("module" === k) h = u[n] = p.module(a); else if (e(q, k) || e(r, k) || e(t, k)) u[n] = j(k); else { if (!m.p) throw new Error(a + " missing " + k); m.p.load(m.n, g(f, !0), i(k), {}), u[n] = q[k] } l = d ? d.apply(q[a], u) : void 0, a && (h && h.exports !== b && h.exports !== q[a] ? q[a] = h.exports : l === b && s || (q[a] = l)) } else a && (q[a] = d) }, a = c = n = function (a, c, d, e, f) { if ("string" == typeof a) return p[a] ? p[a](c) : j(o(a, c).f); if (!a.splice) { if (s = a, s.deps && n(s.deps, s.callback), !c) return; c.splice ? (a = c, c = d, d = null) : a = b } return c = c || function () { }, "function" == typeof d && (d = e, e = f), e ? m(b, a, c, d) : setTimeout(function () { m(b, a, c, d) }, 4), n }, n.config = function (a) { return n(a) }, a._defined = q, d = function (a, b, c) { b.splice || (c = b, b = []), e(q, a) || e(r, a) || (r[a] = [a, b, c]) }, d.amd = { jQuery: !0 } }(), b.requirejs = a, b.require = c, b.define = d } }(), b.define("almond", function () { }), b.define("jquery", [], function () { var b = a || $; return null == b && console && console.error && console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."), b }), b.define("select2/utils", ["jquery"], function (a) { function b(a) { var b = a.prototype, c = []; for (var d in b) { var e = b[d]; "function" == typeof e && "constructor" !== d && c.push(d) } return c } var c = {}; c.Extend = function (a, b) { function c() { this.constructor = a } var d = {}.hasOwnProperty; for (var e in b) d.call(b, e) && (a[e] = b[e]); return c.prototype = b.prototype, a.prototype = new c, a.__super__ = b.prototype, a }, c.Decorate = function (a, c) { function d() { var b = Array.prototype.unshift, d = c.prototype.constructor.length, e = a.prototype.constructor; d > 0 && (b.call(arguments, a.prototype.constructor), e = c.prototype.constructor), e.apply(this, arguments) } function e() { this.constructor = d } var f = b(c), g = b(a); c.displayName = a.displayName, d.prototype = new e; for (var h = 0; h < g.length; h++) { var i = g[h]; d.prototype[i] = a.prototype[i] } for (var j = (function (a) { var b = function () { }; a in d.prototype && (b = d.prototype[a]); var e = c.prototype[a]; return function () { var a = Array.prototype.unshift; return a.call(arguments, b), e.apply(this, arguments) } }), k = 0; k < f.length; k++) { var l = f[k]; d.prototype[l] = j(l) } return d }; var d = function () { this.listeners = {} }; return d.prototype.on = function (a, b) { this.listeners = this.listeners || {}, a in this.listeners ? this.listeners[a].push(b) : this.listeners[a] = [b] }, d.prototype.trigger = function (a) { var b = Array.prototype.slice; this.listeners = this.listeners || {}, a in this.listeners && this.invoke(this.listeners[a], b.call(arguments, 1)), "*" in this.listeners && this.invoke(this.listeners["*"], arguments) }, d.prototype.invoke = function (a, b) { for (var c = 0, d = a.length; d > c; c++) a[c].apply(this, b) }, c.Observable = d, c.generateChars = function (a) { for (var b = "", c = 0; a > c; c++) { var d = Math.floor(36 * Math.random()); b += d.toString(36) } return b }, c.bind = function (a, b) { return function () { a.apply(b, arguments) } }, c._convertData = function (a) { for (var b in a) { var c = b.split("-"), d = a; if (1 !== c.length) { for (var e = 0; e < c.length; e++) { var f = c[e]; f = f.substring(0, 1).toLowerCase() + f.substring(1), f in d || (d[f] = {}), e == c.length - 1 && (d[f] = a[b]), d = d[f] } delete a[b] } } return a }, c.hasScroll = function (b, c) { var d = a(c), e = c.style.overflowX, f = c.style.overflowY; return e !== f || "hidden" !== f && "visible" !== f ? "scroll" === e || "scroll" === f ? !0 : d.innerHeight() < c.scrollHeight || d.innerWidth() < c.scrollWidth : !1 }, c.escapeMarkup = function (a) { var b = { "\\": "&#92;", "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;", "/": "&#47;" }; return "string" != typeof a ? a : String(a).replace(/[&<>"'\/\\]/g, function (a) { return b[a] }) }, c.appendMany = function (b, c) { if ("1.7" === a.fn.jquery.substr(0, 3)) { var d = a(); a.map(c, function (a) { d = d.add(a) }), c = d } b.append(c) }, c }), b.define("select2/results", ["jquery", "./utils"], function (a, b) { function c(a, b, d) { this.$element = a, this.data = d, this.options = b, c.__super__.constructor.call(this) } return b.Extend(c, b.Observable), c.prototype.render = function () { var b = a('<ul class="select2-results__options" role="tree"></ul>'); return this.options.get("multiple") && b.attr("aria-multiselectable", "true"), this.$results = b, b }, c.prototype.clear = function () { this.$results.empty() }, c.prototype.displayMessage = function (b) { var c = this.options.get("escapeMarkup"); this.clear(), this.hideLoading(); var d = a('<li role="treeitem" class="select2-results__option"></li>'), e = this.options.get("translations").get(b.message); d.append(c(e(b.args))), this.$results.append(d) }, c.prototype.append = function (a) { this.hideLoading(); var b = []; if (null == a.results || 0 === a.results.length) return void (0 === this.$results.children().length && this.trigger("results:message", { message: "noResults" })); a.results = this.sort(a.results); for (var c = 0; c < a.results.length; c++) { var d = a.results[c], e = this.option(d); b.push(e) } this.$results.append(b) }, c.prototype.position = function (a, b) { var c = b.find(".select2-results"); c.append(a) }, c.prototype.sort = function (a) { var b = this.options.get("sorter"); return b(a) }, c.prototype.setClasses = function () { var b = this; this.data.current(function (c) { var d = a.map(c, function (a) { return a.id.toString() }), e = b.$results.find(".select2-results__option[aria-selected]"); e.each(function () { var b = a(this), c = a.data(this, "data"), e = "" + c.id; null != c.element && c.element.selected || null == c.element && a.inArray(e, d) > -1 ? b.attr("aria-selected", "true") : b.attr("aria-selected", "false") }); var f = e.filter("[aria-selected=true]"); f.length > 0 ? f.first().trigger("mouseenter") : e.first().trigger("mouseenter") }) }, c.prototype.showLoading = function (a) { this.hideLoading(); var b = this.options.get("translations").get("searching"), c = { disabled: !0, loading: !0, text: b(a) }, d = this.option(c); d.className += " loading-results", this.$results.prepend(d) }, c.prototype.hideLoading = function () { this.$results.find(".loading-results").remove() }, c.prototype.option = function (b) { var c = document.createElement("li"); c.className = "select2-results__option"; var d = { role: "treeitem", "aria-selected": "false" }; b.disabled && (delete d["aria-selected"], d["aria-disabled"] = "true"), null == b.id && delete d["aria-selected"], null != b._resultId && (c.id = b._resultId), b.title && (c.title = b.title), b.children && (d.role = "group", d["aria-label"] = b.text, delete d["aria-selected"]); for (var e in d) { var f = d[e]; c.setAttribute(e, f) } if (b.children) { var g = a(c), h = document.createElement("strong"); h.className = "select2-results__group"; { a(h) } this.template(b, h); for (var i = [], j = 0; j < b.children.length; j++) { var k = b.children[j], l = this.option(k); i.push(l) } var m = a("<ul></ul>", { "class": "select2-results__options select2-results__options--nested" }); m.append(i), g.append(h), g.append(m) } else this.template(b, c); return a.data(c, "data", b), c }, c.prototype.bind = function (b) { var c = this, d = b.id + "-results"; this.$results.attr("id", d), b.on("results:all", function (a) { c.clear(), c.append(a.data), b.isOpen() && c.setClasses() }), b.on("results:append", function (a) { c.append(a.data), b.isOpen() && c.setClasses() }), b.on("query", function (a) { c.showLoading(a) }), b.on("select", function () { b.isOpen() && c.setClasses() }), b.on("unselect", function () { b.isOpen() && c.setClasses() }), b.on("open", function () { c.$results.attr("aria-expanded", "true"), c.$results.attr("aria-hidden", "false"), c.setClasses(), c.ensureHighlightVisible() }), b.on("close", function () { c.$results.attr("aria-expanded", "false"), c.$results.attr("aria-hidden", "true"), c.$results.removeAttr("aria-activedescendant") }), b.on("results:toggle", function () { var a = c.getHighlightedResults(); 0 !== a.length && a.trigger("mouseup") }), b.on("results:select", function () { var a = c.getHighlightedResults(); if (0 !== a.length) { var b = a.data("data"); "true" == a.attr("aria-selected") ? c.trigger("close") : c.trigger("select", { data: b }) } }), b.on("results:previous", function () { var a = c.getHighlightedResults(), b = c.$results.find("[aria-selected]"), d = b.index(a); if (0 !== d) { var e = d - 1; 0 === a.length && (e = 0); var f = b.eq(e); f.trigger("mouseenter"); var g = c.$results.offset().top, h = f.offset().top, i = c.$results.scrollTop() + (h - g); 0 === e ? c.$results.scrollTop(0) : 0 > h - g && c.$results.scrollTop(i) } }), b.on("results:next", function () { var a = c.getHighlightedResults(), b = c.$results.find("[aria-selected]"), d = b.index(a), e = d + 1; if (!(e >= b.length)) { var f = b.eq(e); f.trigger("mouseenter"); var g = c.$results.offset().top + c.$results.outerHeight(!1), h = f.offset().top + f.outerHeight(!1), i = c.$results.scrollTop() + h - g; 0 === e ? c.$results.scrollTop(0) : h > g && c.$results.scrollTop(i) } }), b.on("results:focus", function (a) { a.element.addClass("select2-results__option--highlighted") }), b.on("results:message", function (a) { c.displayMessage(a) }), a.fn.mousewheel && this.$results.on("mousewheel", function (a) { var b = c.$results.scrollTop(), d = c.$results.get(0).scrollHeight - c.$results.scrollTop() + a.deltaY, e = a.deltaY > 0 && b - a.deltaY <= 0, f = a.deltaY < 0 && d <= c.$results.height(); e ? (c.$results.scrollTop(0), a.preventDefault(), a.stopPropagation()) : f && (c.$results.scrollTop(c.$results.get(0).scrollHeight - c.$results.height()), a.preventDefault(), a.stopPropagation()) }), this.$results.on("mouseup", ".select2-results__option[aria-selected]", function (b) { var d = a(this), e = d.data("data"); return "true" === d.attr("aria-selected") ? void (c.options.get("multiple") ? c.trigger("unselect", { originalEvent: b, data: e }) : c.trigger("close")) : void c.trigger("select", { originalEvent: b, data: e }) }), this.$results.on("mouseenter", ".select2-results__option[aria-selected]", function () { var b = a(this).data("data"); c.getHighlightedResults().removeClass("select2-results__option--highlighted"), c.trigger("results:focus", { data: b, element: a(this) }) }) }, c.prototype.getHighlightedResults = function () { var a = this.$results.find(".select2-results__option--highlighted"); return a }, c.prototype.destroy = function () { this.$results.remove() }, c.prototype.ensureHighlightVisible = function () { var a = this.getHighlightedResults(); if (0 !== a.length) { var b = this.$results.find("[aria-selected]"), c = b.index(a), d = this.$results.offset().top, e = a.offset().top, f = this.$results.scrollTop() + (e - d), g = e - d; f -= 2 * a.outerHeight(!1), 2 >= c ? this.$results.scrollTop(0) : (g > this.$results.outerHeight() || 0 > g) && this.$results.scrollTop(f) } }, c.prototype.template = function (b, c) { var d = this.options.get("templateResult"), e = this.options.get("escapeMarkup"), f = d(b); null == f ? c.style.display = "none" : "string" == typeof f ? c.innerHTML = e(f) : a(c).append(f) }, c }), b.define("select2/keys", [], function () { var a = { BACKSPACE: 8, TAB: 9, ENTER: 13, SHIFT: 16, CTRL: 17, ALT: 18, ESC: 27, SPACE: 32, PAGE_UP: 33, PAGE_DOWN: 34, END: 35, HOME: 36, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, DELETE: 46 }; return a }), b.define("select2/selection/base", ["jquery", "../utils", "../keys"], function (a, b, c) { function d(a, b) { this.$element = a, this.options = b, d.__super__.constructor.call(this) } return b.Extend(d, b.Observable), d.prototype.render = function () { var b = a('<span class="select2-selection" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false"></span>'); return this._tabindex = 0, null != this.$element.data("old-tabindex") ? this._tabindex = this.$element.data("old-tabindex") : null != this.$element.attr("tabindex") && (this._tabindex = this.$element.attr("tabindex")), b.attr("title", this.$element.attr("title")), b.attr("tabindex", this._tabindex), this.$selection = b, b }, d.prototype.bind = function (a) { var b = this, d = (a.id + "-container", a.id + "-results"); this.container = a, this.$selection.on("focus", function (a) { b.trigger("focus", a) }), this.$selection.on("blur", function (a) { b.trigger("blur", a) }), this.$selection.on("keydown", function (a) { b.trigger("keypress", a), a.which === c.SPACE && a.preventDefault() }), a.on("results:focus", function (a) { b.$selection.attr("aria-activedescendant", a.data._resultId) }), a.on("selection:update", function (a) { b.update(a.data) }), a.on("open", function () { b.$selection.attr("aria-expanded", "true"), b.$selection.attr("aria-owns", d), b._attachCloseHandler(a) }), a.on("close", function () { b.$selection.attr("aria-expanded", "false"), b.$selection.removeAttr("aria-activedescendant"), b.$selection.removeAttr("aria-owns"), b.$selection.focus(), b._detachCloseHandler(a) }), a.on("enable", function () { b.$selection.attr("tabindex", b._tabindex) }), a.on("disable", function () { b.$selection.attr("tabindex", "-1") }) }, d.prototype._attachCloseHandler = function (b) { a(document.body).on("mousedown.select2." + b.id, function (b) { var c = a(b.target), d = c.closest(".select2"), e = a(".select2.select2-container--open"); e.each(function () { var b = a(this); if (this != d[0]) { var c = b.data("element"); c.select2("close") } }) }) }, d.prototype._detachCloseHandler = function (b) { a(document.body).off("mousedown.select2." + b.id) }, d.prototype.position = function (a, b) { var c = b.find(".selection"); c.append(a) }, d.prototype.destroy = function () { this._detachCloseHandler(this.container) }, d.prototype.update = function () { throw new Error("The `update` method must be defined in child classes.") }, d }), b.define("select2/selection/single", ["jquery", "./base", "../utils", "../keys"], function (a, b, c) { function d() { d.__super__.constructor.apply(this, arguments) } return c.Extend(d, b), d.prototype.render = function () { var a = d.__super__.render.call(this); return a.addClass("select2-selection--single"), a.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'), a }, d.prototype.bind = function (a) { var b = this; d.__super__.bind.apply(this, arguments); var c = a.id + "-container"; this.$selection.find(".select2-selection__rendered").attr("id", c), this.$selection.attr("aria-labelledby", c), this.$selection.on("mousedown", function (a) { 1 === a.which && b.trigger("toggle", { originalEvent: a }) }), this.$selection.on("focus", function () { }), this.$selection.on("blur", function () { }), a.on("selection:update", function (a) { b.update(a.data) }) }, d.prototype.clear = function () { this.$selection.find(".select2-selection__rendered").empty() }, d.prototype.display = function (a) { var b = this.options.get("templateSelection"), c = this.options.get("escapeMarkup"); return c(b(a)) }, d.prototype.selectionContainer = function () { return a("<span></span>") }, d.prototype.update = function (a) { if (0 === a.length) return void this.clear(); var b = a[0], c = this.display(b), d = this.$selection.find(".select2-selection__rendered"); d.empty().append(c), d.prop("title", b.title || b.text) }, d }), b.define("select2/selection/multiple", ["jquery", "./base", "../utils"], function (a, b, c) { function d() { d.__super__.constructor.apply(this, arguments) } return c.Extend(d, b), d.prototype.render = function () { var a = d.__super__.render.call(this); return a.addClass("select2-selection--multiple"), a.html('<ul class="select2-selection__rendered"></ul>'), a }, d.prototype.bind = function () { var b = this; d.__super__.bind.apply(this, arguments), this.$selection.on("click", function (a) { b.trigger("toggle", { originalEvent: a }) }), this.$selection.on("click", ".select2-selection__choice__remove", function (c) { var d = a(this), e = d.parent(), f = e.data("data"); b.trigger("unselect", { originalEvent: c, data: f }) }) }, d.prototype.clear = function () { this.$selection.find(".select2-selection__rendered").empty() }, d.prototype.display = function (a) { var b = this.options.get("templateSelection"), c = this.options.get("escapeMarkup"); return c(b(a)) }, d.prototype.selectionContainer = function () { var b = a('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>'); return b }, d.prototype.update = function (a) { if (this.clear(), 0 !== a.length) { for (var b = [], d = 0; d < a.length; d++) { var e = a[d], f = this.display(e), g = this.selectionContainer(); g.append(f), g.prop("title", e.title || e.text), g.data("data", e), b.push(g) } var h = this.$selection.find(".select2-selection__rendered"); c.appendMany(h, b) } }, d }), b.define("select2/selection/placeholder", ["../utils"], function () { function a(a, b, c) { this.placeholder = this.normalizePlaceholder(c.get("placeholder")), a.call(this, b, c) } return a.prototype.normalizePlaceholder = function (a, b) { return "string" == typeof b && (b = { id: "", text: b }), b }, a.prototype.createPlaceholder = function (a, b) { var c = this.selectionContainer(); return c.html(this.display(b)), c.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"), c }, a.prototype.update = function (a, b) { var c = 1 == b.length && b[0].id != this.placeholder.id, d = b.length > 1; if (d || c) return a.call(this, b); this.clear(); var e = this.createPlaceholder(this.placeholder); this.$selection.find(".select2-selection__rendered").append(e) }, a }), b.define("select2/selection/allowClear", ["jquery", "../keys"], function (a, b) { function c() { } return c.prototype.bind = function (a, b, c) { var d = this; a.call(this, b, c), null == this.placeholder && this.options.get("debug") && window.console && console.error && console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."), this.$selection.on("mousedown", ".select2-selection__clear", function (a) { d._handleClear(a) }), b.on("keypress", function (a) { d._handleKeyboardClear(a, b) }) }, c.prototype._handleClear = function (a, b) { if (!this.options.get("disabled")) { var c = this.$selection.find(".select2-selection__clear"); if (0 !== c.length) { b.stopPropagation(); for (var d = c.data("data"), e = 0; e < d.length; e++) { var f = { data: d[e] }; if (this.trigger("unselect", f), f.prevented) return } this.$element.val(this.placeholder.id).trigger("change"), this.trigger("toggle") } } }, c.prototype._handleKeyboardClear = function (a, c, d) { d.isOpen() || (c.which == b.DELETE || c.which == b.BACKSPACE) && this._handleClear(c) }, c.prototype.update = function (b, c) { if (b.call(this, c), !(this.$selection.find(".select2-selection__placeholder").length > 0 || 0 === c.length)) { var d = a('<span class="select2-selection__clear">&times;</span>'); d.data("data", c), this.$selection.find(".select2-selection__rendered").prepend(d) } }, c }), b.define("select2/selection/search", ["jquery", "../utils", "../keys"], function (a, b, c) { function d(a, b, c) { a.call(this, b, c) } return d.prototype.render = function (b) { var c = a('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></li>'); this.$searchContainer = c, this.$search = c.find("input"); var d = b.call(this); return d }, d.prototype.bind = function (a, b, d) { var e = this; a.call(this, b, d), b.on("open", function () { e.$search.attr("tabindex", 0), e.$search.focus() }), b.on("close", function () { e.$search.attr("tabindex", -1), e.$search.val(""), e.$search.focus() }), b.on("enable", function () { e.$search.prop("disabled", !1) }), b.on("disable", function () { e.$search.prop("disabled", !0) }), this.$selection.on("focusin", ".select2-search--inline", function (a) { e.trigger("focus", a) }), this.$selection.on("focusout", ".select2-search--inline", function (a) { e.trigger("blur", a) }), this.$selection.on("keydown", ".select2-search--inline", function (a) { a.stopPropagation(), e.trigger("keypress", a), e._keyUpPrevented = a.isDefaultPrevented(); var b = a.which; if (b === c.BACKSPACE && "" === e.$search.val()) { var d = e.$searchContainer.prev(".select2-selection__choice"); if (d.length > 0) { var f = d.data("data"); e.searchRemoveChoice(f), a.preventDefault() } } }), this.$selection.on("input", ".select2-search--inline", function () { e.$selection.off("keyup.search") }), this.$selection.on("keyup.search input", ".select2-search--inline", function (a) { e.handleSearch(a) }) }, d.prototype.createPlaceholder = function (a, b) { this.$search.attr("placeholder", b.text) }, d.prototype.update = function (a, b) { this.$search.attr("placeholder", ""), a.call(this, b), this.$selection.find(".select2-selection__rendered").append(this.$searchContainer), this.resizeSearch() }, d.prototype.handleSearch = function () { if (this.resizeSearch(), !this._keyUpPrevented) { var a = this.$search.val(); this.trigger("query", { term: a }) } this._keyUpPrevented = !1 }, d.prototype.searchRemoveChoice = function (a, b) { this.trigger("unselect", { data: b }), this.trigger("open"), this.$search.val(b.text + " ") }, d.prototype.resizeSearch = function () { this.$search.css("width", "25px"); var a = ""; if ("" !== this.$search.attr("placeholder")) a = this.$selection.find(".select2-selection__rendered").innerWidth(); else { var b = this.$search.val().length + 1; a = .75 * b + "em" } this.$search.css("width", a) }, d }), b.define("select2/selection/eventRelay", ["jquery"], function (a) { function b() { } return b.prototype.bind = function (b, c, d) { var e = this, f = ["open", "opening", "close", "closing", "select", "selecting", "unselect", "unselecting"], g = ["opening", "closing", "selecting", "unselecting"]; b.call(this, c, d), c.on("*", function (b, c) { if (-1 !== a.inArray(b, f)) { c = c || {}; var d = a.Event("select2:" + b, { params: c }); e.$element.trigger(d), -1 !== a.inArray(b, g) && (c.prevented = d.isDefaultPrevented()) } }) }, b }), b.define("select2/translation", ["jquery", "require"], function (a, b) { function c(a) { this.dict = a || {} } return c.prototype.all = function () { return this.dict }, c.prototype.get = function (a) { return this.dict[a] }, c.prototype.extend = function (b) { this.dict = a.extend({}, b.all(), this.dict) }, c._cache = {}, c.loadPath = function (a) { if (!(a in c._cache)) { var d = b(a); c._cache[a] = d } return new c(c._cache[a]) }, c }), b.define("select2/diacritics", [], function () { var a = { "Ⓐ": "A", "Ａ": "A", "À": "A", "Á": "A", "Â": "A", "Ầ": "A", "Ấ": "A", "Ẫ": "A", "Ẩ": "A", "Ã": "A", "Ā": "A", "Ă": "A", "Ằ": "A", "Ắ": "A", "Ẵ": "A", "Ẳ": "A", "Ȧ": "A", "Ǡ": "A", "Ä": "A", "Ǟ": "A", "Ả": "A", "Å": "A", "Ǻ": "A", "Ǎ": "A", "Ȁ": "A", "Ȃ": "A", "Ạ": "A", "Ậ": "A", "Ặ": "A", "Ḁ": "A", "Ą": "A", "Ⱥ": "A", "Ɐ": "A", "Ꜳ": "AA", "Æ": "AE", "Ǽ": "AE", "Ǣ": "AE", "Ꜵ": "AO", "Ꜷ": "AU", "Ꜹ": "AV", "Ꜻ": "AV", "Ꜽ": "AY", "Ⓑ": "B", "Ｂ": "B", "Ḃ": "B", "Ḅ": "B", "Ḇ": "B", "Ƀ": "B", "Ƃ": "B", "Ɓ": "B", "Ⓒ": "C", "Ｃ": "C", "Ć": "C", "Ĉ": "C", "Ċ": "C", "Č": "C", "Ç": "C", "Ḉ": "C", "Ƈ": "C", "Ȼ": "C", "Ꜿ": "C", "Ⓓ": "D", "Ｄ": "D", "Ḋ": "D", "Ď": "D", "Ḍ": "D", "Ḑ": "D", "Ḓ": "D", "Ḏ": "D", "Đ": "D", "Ƌ": "D", "Ɗ": "D", "Ɖ": "D", "Ꝺ": "D", "Ǳ": "DZ", "Ǆ": "DZ", "ǲ": "Dz", "ǅ": "Dz", "Ⓔ": "E", "Ｅ": "E", "È": "E", "É": "E", "Ê": "E", "Ề": "E", "Ế": "E", "Ễ": "E", "Ể": "E", "Ẽ": "E", "Ē": "E", "Ḕ": "E", "Ḗ": "E", "Ĕ": "E", "Ė": "E", "Ë": "E", "Ẻ": "E", "Ě": "E", "Ȅ": "E", "Ȇ": "E", "Ẹ": "E", "Ệ": "E", "Ȩ": "E", "Ḝ": "E", "Ę": "E", "Ḙ": "E", "Ḛ": "E", "Ɛ": "E", "Ǝ": "E", "Ⓕ": "F", "Ｆ": "F", "Ḟ": "F", "Ƒ": "F", "Ꝼ": "F", "Ⓖ": "G", "Ｇ": "G", "Ǵ": "G", "Ĝ": "G", "Ḡ": "G", "Ğ": "G", "Ġ": "G", "Ǧ": "G", "Ģ": "G", "Ǥ": "G", "Ɠ": "G", "Ꞡ": "G", "Ᵹ": "G", "Ꝿ": "G", "Ⓗ": "H", "Ｈ": "H", "Ĥ": "H", "Ḣ": "H", "Ḧ": "H", "Ȟ": "H", "Ḥ": "H", "Ḩ": "H", "Ḫ": "H", "Ħ": "H", "Ⱨ": "H", "Ⱶ": "H", "Ɥ": "H", "Ⓘ": "I", "Ｉ": "I", "Ì": "I", "Í": "I", "Î": "I", "Ĩ": "I", "Ī": "I", "Ĭ": "I", "İ": "I", "Ï": "I", "Ḯ": "I", "Ỉ": "I", "Ǐ": "I", "Ȉ": "I", "Ȋ": "I", "Ị": "I", "Į": "I", "Ḭ": "I", "Ɨ": "I", "Ⓙ": "J", "Ｊ": "J", "Ĵ": "J", "Ɉ": "J", "Ⓚ": "K", "Ｋ": "K", "Ḱ": "K", "Ǩ": "K", "Ḳ": "K", "Ķ": "K", "Ḵ": "K", "Ƙ": "K", "Ⱪ": "K", "Ꝁ": "K", "Ꝃ": "K", "Ꝅ": "K", "Ꞣ": "K", "Ⓛ": "L", "Ｌ": "L", "Ŀ": "L", "Ĺ": "L", "Ľ": "L", "Ḷ": "L", "Ḹ": "L", "Ļ": "L", "Ḽ": "L", "Ḻ": "L", "Ł": "L", "Ƚ": "L", "Ɫ": "L", "Ⱡ": "L", "Ꝉ": "L", "Ꝇ": "L", "Ꞁ": "L", "Ǉ": "LJ", "ǈ": "Lj", "Ⓜ": "M", "Ｍ": "M", "Ḿ": "M", "Ṁ": "M", "Ṃ": "M", "Ɱ": "M", "Ɯ": "M", "Ⓝ": "N", "Ｎ": "N", "Ǹ": "N", "Ń": "N", "Ñ": "N", "Ṅ": "N", "Ň": "N", "Ṇ": "N", "Ņ": "N", "Ṋ": "N", "Ṉ": "N", "Ƞ": "N", "Ɲ": "N", "Ꞑ": "N", "Ꞥ": "N", "Ǌ": "NJ", "ǋ": "Nj", "Ⓞ": "O", "Ｏ": "O", "Ò": "O", "Ó": "O", "Ô": "O", "Ồ": "O", "Ố": "O", "Ỗ": "O", "Ổ": "O", "Õ": "O", "Ṍ": "O", "Ȭ": "O", "Ṏ": "O", "Ō": "O", "Ṑ": "O", "Ṓ": "O", "Ŏ": "O", "Ȯ": "O", "Ȱ": "O", "Ö": "O", "Ȫ": "O", "Ỏ": "O", "Ő": "O", "Ǒ": "O", "Ȍ": "O", "Ȏ": "O", "Ơ": "O", "Ờ": "O", "Ớ": "O", "Ỡ": "O", "Ở": "O", "Ợ": "O", "Ọ": "O", "Ộ": "O", "Ǫ": "O", "Ǭ": "O", "Ø": "O", "Ǿ": "O", "Ɔ": "O", "Ɵ": "O", "Ꝋ": "O", "Ꝍ": "O", "Ƣ": "OI", "Ꝏ": "OO", "Ȣ": "OU", "Ⓟ": "P", "Ｐ": "P", "Ṕ": "P", "Ṗ": "P", "Ƥ": "P", "Ᵽ": "P", "Ꝑ": "P", "Ꝓ": "P", "Ꝕ": "P", "Ⓠ": "Q", "Ｑ": "Q", "Ꝗ": "Q", "Ꝙ": "Q", "Ɋ": "Q", "Ⓡ": "R", "Ｒ": "R", "Ŕ": "R", "Ṙ": "R", "Ř": "R", "Ȑ": "R", "Ȓ": "R", "Ṛ": "R", "Ṝ": "R", "Ŗ": "R", "Ṟ": "R", "Ɍ": "R", "Ɽ": "R", "Ꝛ": "R", "Ꞧ": "R", "Ꞃ": "R", "Ⓢ": "S", "Ｓ": "S", "ẞ": "S", "Ś": "S", "Ṥ": "S", "Ŝ": "S", "Ṡ": "S", "Š": "S", "Ṧ": "S", "Ṣ": "S", "Ṩ": "S", "Ș": "S", "Ş": "S", "Ȿ": "S", "Ꞩ": "S", "Ꞅ": "S", "Ⓣ": "T", "Ｔ": "T", "Ṫ": "T", "Ť": "T", "Ṭ": "T", "Ț": "T", "Ţ": "T", "Ṱ": "T", "Ṯ": "T", "Ŧ": "T", "Ƭ": "T", "Ʈ": "T", "Ⱦ": "T", "Ꞇ": "T", "Ꜩ": "TZ", "Ⓤ": "U", "Ｕ": "U", "Ù": "U", "Ú": "U", "Û": "U", "Ũ": "U", "Ṹ": "U", "Ū": "U", "Ṻ": "U", "Ŭ": "U", "Ü": "U", "Ǜ": "U", "Ǘ": "U", "Ǖ": "U", "Ǚ": "U", "Ủ": "U", "Ů": "U", "Ű": "U", "Ǔ": "U", "Ȕ": "U", "Ȗ": "U", "Ư": "U", "Ừ": "U", "Ứ": "U", "Ữ": "U", "Ử": "U", "Ự": "U", "Ụ": "U", "Ṳ": "U", "Ų": "U", "Ṷ": "U", "Ṵ": "U", "Ʉ": "U", "Ⓥ": "V", "Ｖ": "V", "Ṽ": "V", "Ṿ": "V", "Ʋ": "V", "Ꝟ": "V", "Ʌ": "V", "Ꝡ": "VY", "Ⓦ": "W", "Ｗ": "W", "Ẁ": "W", "Ẃ": "W", "Ŵ": "W", "Ẇ": "W", "Ẅ": "W", "Ẉ": "W", "Ⱳ": "W", "Ⓧ": "X", "Ｘ": "X", "Ẋ": "X", "Ẍ": "X", "Ⓨ": "Y", "Ｙ": "Y", "Ỳ": "Y", "Ý": "Y", "Ŷ": "Y", "Ỹ": "Y", "Ȳ": "Y", "Ẏ": "Y", "Ÿ": "Y", "Ỷ": "Y", "Ỵ": "Y", "Ƴ": "Y", "Ɏ": "Y", "Ỿ": "Y", "Ⓩ": "Z", "Ｚ": "Z", "Ź": "Z", "Ẑ": "Z", "Ż": "Z", "Ž": "Z", "Ẓ": "Z", "Ẕ": "Z", "Ƶ": "Z", "Ȥ": "Z", "Ɀ": "Z", "Ⱬ": "Z", "Ꝣ": "Z", "ⓐ": "a", "ａ": "a", "ẚ": "a", "à": "a", "á": "a", "â": "a", "ầ": "a", "ấ": "a", "ẫ": "a", "ẩ": "a", "ã": "a", "ā": "a", "ă": "a", "ằ": "a", "ắ": "a", "ẵ": "a", "ẳ": "a", "ȧ": "a", "ǡ": "a", "ä": "a", "ǟ": "a", "ả": "a", "å": "a", "ǻ": "a", "ǎ": "a", "ȁ": "a", "ȃ": "a", "ạ": "a", "ậ": "a", "ặ": "a", "ḁ": "a", "ą": "a", "ⱥ": "a", "ɐ": "a", "ꜳ": "aa", "æ": "ae", "ǽ": "ae", "ǣ": "ae", "ꜵ": "ao", "ꜷ": "au", "ꜹ": "av", "ꜻ": "av", "ꜽ": "ay", "ⓑ": "b", "ｂ": "b", "ḃ": "b", "ḅ": "b", "ḇ": "b", "ƀ": "b", "ƃ": "b", "ɓ": "b", "ⓒ": "c", "ｃ": "c", "ć": "c", "ĉ": "c", "ċ": "c", "č": "c", "ç": "c", "ḉ": "c", "ƈ": "c", "ȼ": "c", "ꜿ": "c", "ↄ": "c", "ⓓ": "d", "ｄ": "d", "ḋ": "d", "ď": "d", "ḍ": "d", "ḑ": "d", "ḓ": "d", "ḏ": "d", "đ": "d", "ƌ": "d", "ɖ": "d", "ɗ": "d", "ꝺ": "d", "ǳ": "dz", "ǆ": "dz", "ⓔ": "e", "ｅ": "e", "è": "e", "é": "e", "ê": "e", "ề": "e", "ế": "e", "ễ": "e", "ể": "e", "ẽ": "e", "ē": "e", "ḕ": "e", "ḗ": "e", "ĕ": "e", "ė": "e", "ë": "e", "ẻ": "e", "ě": "e", "ȅ": "e", "ȇ": "e", "ẹ": "e", "ệ": "e", "ȩ": "e", "ḝ": "e", "ę": "e", "ḙ": "e", "ḛ": "e", "ɇ": "e", "ɛ": "e", "ǝ": "e", "ⓕ": "f", "ｆ": "f", "ḟ": "f", "ƒ": "f", "ꝼ": "f", "ⓖ": "g", "ｇ": "g", "ǵ": "g", "ĝ": "g", "ḡ": "g", "ğ": "g", "ġ": "g", "ǧ": "g", "ģ": "g", "ǥ": "g", "ɠ": "g", "ꞡ": "g", "ᵹ": "g", "ꝿ": "g", "ⓗ": "h", "ｈ": "h", "ĥ": "h", "ḣ": "h", "ḧ": "h", "ȟ": "h", "ḥ": "h", "ḩ": "h", "ḫ": "h", "ẖ": "h", "ħ": "h", "ⱨ": "h", "ⱶ": "h", "ɥ": "h", "ƕ": "hv", "ⓘ": "i", "ｉ": "i", "ì": "i", "í": "i", "î": "i", "ĩ": "i", "ī": "i", "ĭ": "i", "ï": "i", "ḯ": "i", "ỉ": "i", "ǐ": "i", "ȉ": "i", "ȋ": "i", "ị": "i", "į": "i", "ḭ": "i", "ɨ": "i", "ı": "i", "ⓙ": "j", "ｊ": "j", "ĵ": "j", "ǰ": "j", "ɉ": "j", "ⓚ": "k", "ｋ": "k", "ḱ": "k", "ǩ": "k", "ḳ": "k", "ķ": "k", "ḵ": "k", "ƙ": "k", "ⱪ": "k", "ꝁ": "k", "ꝃ": "k", "ꝅ": "k", "ꞣ": "k", "ⓛ": "l", "ｌ": "l", "ŀ": "l", "ĺ": "l", "ľ": "l", "ḷ": "l", "ḹ": "l", "ļ": "l", "ḽ": "l", "ḻ": "l", "ſ": "l", "ł": "l", "ƚ": "l", "ɫ": "l", "ⱡ": "l", "ꝉ": "l", "ꞁ": "l", "ꝇ": "l", "ǉ": "lj", "ⓜ": "m", "ｍ": "m", "ḿ": "m", "ṁ": "m", "ṃ": "m", "ɱ": "m", "ɯ": "m", "ⓝ": "n", "ｎ": "n", "ǹ": "n", "ń": "n", "ñ": "n", "ṅ": "n", "ň": "n", "ṇ": "n", "ņ": "n", "ṋ": "n", "ṉ": "n", "ƞ": "n", "ɲ": "n", "ŉ": "n", "ꞑ": "n", "ꞥ": "n", "ǌ": "nj", "ⓞ": "o", "ｏ": "o", "ò": "o", "ó": "o", "ô": "o", "ồ": "o", "ố": "o", "ỗ": "o", "ổ": "o", "õ": "o", "ṍ": "o", "ȭ": "o", "ṏ": "o", "ō": "o", "ṑ": "o", "ṓ": "o", "ŏ": "o", "ȯ": "o", "ȱ": "o", "ö": "o", "ȫ": "o", "ỏ": "o", "ő": "o", "ǒ": "o", "ȍ": "o", "ȏ": "o", "ơ": "o", "ờ": "o", "ớ": "o", "ỡ": "o", "ở": "o", "ợ": "o", "ọ": "o", "ộ": "o", "ǫ": "o", "ǭ": "o", "ø": "o", "ǿ": "o", "ɔ": "o", "ꝋ": "o", "ꝍ": "o", "ɵ": "o", "ƣ": "oi", "ȣ": "ou", "ꝏ": "oo", "ⓟ": "p", "ｐ": "p", "ṕ": "p", "ṗ": "p", "ƥ": "p", "ᵽ": "p", "ꝑ": "p", "ꝓ": "p", "ꝕ": "p", "ⓠ": "q", "ｑ": "q", "ɋ": "q", "ꝗ": "q", "ꝙ": "q", "ⓡ": "r", "ｒ": "r", "ŕ": "r", "ṙ": "r", "ř": "r", "ȑ": "r", "ȓ": "r", "ṛ": "r", "ṝ": "r", "ŗ": "r", "ṟ": "r", "ɍ": "r", "ɽ": "r", "ꝛ": "r", "ꞧ": "r", "ꞃ": "r", "ⓢ": "s", "ｓ": "s", "ß": "s", "ś": "s", "ṥ": "s", "ŝ": "s", "ṡ": "s", "š": "s", "ṧ": "s", "ṣ": "s", "ṩ": "s", "ș": "s", "ş": "s", "ȿ": "s", "ꞩ": "s", "ꞅ": "s", "ẛ": "s", "ⓣ": "t", "ｔ": "t", "ṫ": "t", "ẗ": "t", "ť": "t", "ṭ": "t", "ț": "t", "ţ": "t", "ṱ": "t", "ṯ": "t", "ŧ": "t", "ƭ": "t", "ʈ": "t", "ⱦ": "t", "ꞇ": "t", "ꜩ": "tz", "ⓤ": "u", "ｕ": "u", "ù": "u", "ú": "u", "û": "u", "ũ": "u", "ṹ": "u", "ū": "u", "ṻ": "u", "ŭ": "u", "ü": "u", "ǜ": "u", "ǘ": "u", "ǖ": "u", "ǚ": "u", "ủ": "u", "ů": "u", "ű": "u", "ǔ": "u", "ȕ": "u", "ȗ": "u", "ư": "u", "ừ": "u", "ứ": "u", "ữ": "u", "ử": "u", "ự": "u", "ụ": "u", "ṳ": "u", "ų": "u", "ṷ": "u", "ṵ": "u", "ʉ": "u", "ⓥ": "v", "ｖ": "v", "ṽ": "v", "ṿ": "v", "ʋ": "v", "ꝟ": "v", "ʌ": "v", "ꝡ": "vy", "ⓦ": "w", "ｗ": "w", "ẁ": "w", "ẃ": "w", "ŵ": "w", "ẇ": "w", "ẅ": "w", "ẘ": "w", "ẉ": "w", "ⱳ": "w", "ⓧ": "x", "ｘ": "x", "ẋ": "x", "ẍ": "x", "ⓨ": "y", "ｙ": "y", "ỳ": "y", "ý": "y", "ŷ": "y", "ỹ": "y", "ȳ": "y", "ẏ": "y", "ÿ": "y", "ỷ": "y", "ẙ": "y", "ỵ": "y", "ƴ": "y", "ɏ": "y", "ỿ": "y", "ⓩ": "z", "ｚ": "z", "ź": "z", "ẑ": "z", "ż": "z", "ž": "z", "ẓ": "z", "ẕ": "z", "ƶ": "z", "ȥ": "z", "ɀ": "z", "ⱬ": "z", "ꝣ": "z", "Ά": "Α", "Έ": "Ε", "Ή": "Η", "Ί": "Ι", "Ϊ": "Ι", "Ό": "Ο", "Ύ": "Υ", "Ϋ": "Υ", "Ώ": "Ω", "ά": "α", "έ": "ε", "ή": "η", "ί": "ι", "ϊ": "ι", "ΐ": "ι", "ό": "ο", "ύ": "υ", "ϋ": "υ", "ΰ": "υ", "ω": "ω", "ς": "σ" }; return a }), b.define("select2/data/base", ["../utils"], function (a) { function b() { b.__super__.constructor.call(this) } return a.Extend(b, a.Observable), b.prototype.current = function () { throw new Error("The `current` method must be defined in child classes.") }, b.prototype.query = function () { throw new Error("The `query` method must be defined in child classes.") }, b.prototype.bind = function () { }, b.prototype.destroy = function () { }, b.prototype.generateResultId = function (b, c) { var d = b.id + "-result-"; return d += a.generateChars(4), d += null != c.id ? "-" + c.id.toString() : "-" + a.generateChars(4) }, b }), b.define("select2/data/select", ["./base", "../utils", "jquery"], function (a, b, c) {
            function d(a, b) { this.$element = a, this.options = b, d.__super__.constructor.call(this) } return b.Extend(d, a), d.prototype.current = function (a) { var b = [], d = this; this.$element.find(":selected").each(function () { var a = c(this), e = d.item(a); b.push(e) }), a(b) }, d.prototype.select = function (a) { var b = this; if (a.selected = !0, c(a.element).is("option")) return a.element.selected = !0, void this.$element.trigger("change"); if (this.$element.prop("multiple")) this.current(function (d) { var e = []; a = [a], a.push.apply(a, d); for (var f = 0; f < a.length; f++) { var g = a[f].id; -1 === c.inArray(g, e) && e.push(g) } b.$element.val(e), b.$element.trigger("change") }); else { var d = a.id; this.$element.val(d), this.$element.trigger("change") } }, d.prototype.unselect = function (a) { var b = this; if (this.$element.prop("multiple")) return a.selected = !1, c(a.element).is("option") ? (a.element.selected = !1, void this.$element.trigger("change")) : void this.current(function (d) { for (var e = [], f = 0; f < d.length; f++) { var g = d[f].id; g !== a.id && -1 === c.inArray(g, e) && e.push(g) } b.$element.val(e), b.$element.trigger("change") }) }, d.prototype.bind = function (a) { var b = this; this.container = a, a.on("select", function (a) { b.select(a.data) }), a.on("unselect", function (a) { b.unselect(a.data) }) }, d.prototype.destroy = function () { this.$element.find("*").each(function () { c.removeData(this, "data") }) }, d.prototype.query = function (a, b) { var d = [], e = this, f = this.$element.children(); f.each(function () { var b = c(this); if (b.is("option") || b.is("optgroup")) { var f = e.item(b), g = e.matches(a, f); null !== g && d.push(g) } }), b({ results: d }) }, d.prototype.addOptions = function (a) { b.appendMany(this.$element, a) }, d.prototype.option = function (a) { var b; a.children ? (b = document.createElement("optgroup"), b.label = a.text) : (b = document.createElement("option"), void 0 !== b.textContent ? b.textContent = a.text : b.innerText = a.text), a.id && (b.value = a.id), a.disabled && (b.disabled = !0), a.selected && (b.selected = !0), a.title && (b.title = a.title); var d = c(b), e = this._normalizeItem(a); return e.element = b, c.data(b, "data", e), d }, d.prototype.item = function (a) {
                var b = {};
                if (b = c.data(a[0], "data"), null != b) return b; if (a.is("option")) b = { id: a.val(), text: a.text(), disabled: a.prop("disabled"), selected: a.prop("selected"), title: a.prop("title") }; else if (a.is("optgroup")) { b = { text: a.prop("label"), children: [], title: a.prop("title") }; for (var d = a.children("option"), e = [], f = 0; f < d.length; f++) { var g = c(d[f]), h = this.item(g); e.push(h) } b.children = e } return b = this._normalizeItem(b), b.element = a[0], c.data(a[0], "data", b), b
            }, d.prototype._normalizeItem = function (a) { c.isPlainObject(a) || (a = { id: a, text: a }), a = c.extend({}, { text: "" }, a); var b = { selected: !1, disabled: !1 }; return null != a.id && (a.id = a.id.toString()), null != a.text && (a.text = a.text.toString()), null == a._resultId && a.id && null != this.container && (a._resultId = this.generateResultId(this.container, a)), c.extend({}, b, a) }, d.prototype.matches = function (a, b) { var c = this.options.get("matcher"); return c(a, b) }, d
        }), b.define("select2/data/array", ["./select", "../utils", "jquery"], function (a, b, c) { function d(a, b) { var c = b.get("data") || []; d.__super__.constructor.call(this, a, b), this.addOptions(this.convertToOptions(c)) } return b.Extend(d, a), d.prototype.select = function (a) { var b = this.$element.find("option").filter(function (b, c) { return c.value == a.id.toString() }); 0 === b.length && (b = this.option(a), this.addOptions(b)), d.__super__.select.call(this, a) }, d.prototype.convertToOptions = function (a) { function d(a) { return function () { return c(this).val() == a.id } } for (var e = this, f = this.$element.find("option"), g = f.map(function () { return e.item(c(this)).id }).get(), h = [], i = 0; i < a.length; i++) { var j = this._normalizeItem(a[i]); if (c.inArray(j.id, g) >= 0) { var k = f.filter(d(j)), l = this.item(k), m = (c.extend(!0, {}, l, j), this.option(l)); k.replaceWith(m) } else { var n = this.option(j); if (j.children) { var o = this.convertToOptions(j.children); b.appendMany(n, o) } h.push(n) } } return h }, d }), b.define("select2/data/ajax", ["./array", "../utils", "jquery"], function (a, b, c) { function d(b, c) { this.ajaxOptions = this._applyDefaults(c.get("ajax")), null != this.ajaxOptions.processResults && (this.processResults = this.ajaxOptions.processResults), a.__super__.constructor.call(this, b, c) } return b.Extend(d, a), d.prototype._applyDefaults = function (a) { var b = { data: function (a) { return { q: a.term } }, transport: function (a, b, d) { var e = c.ajax(a); return e.then(b), e.fail(d), e } }; return c.extend({}, b, a, !0) }, d.prototype.processResults = function (a) { return a }, d.prototype.query = function (a, b) { function d() { var d = f.transport(f, function (d) { var f = e.processResults(d, a); e.options.get("debug") && window.console && console.error && (f && f.results && c.isArray(f.results) || console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")), b(f) }, function () { }); e._request = d } var e = this; null != this._request && (c.isFunction(this._request.abort) && this._request.abort(), this._request = null); var f = c.extend({ type: "GET" }, this.ajaxOptions); "function" == typeof f.url && (f.url = f.url(a)), "function" == typeof f.data && (f.data = f.data(a)), this.ajaxOptions.delay && "" !== a.term ? (this._queryTimeout && window.clearTimeout(this._queryTimeout), this._queryTimeout = window.setTimeout(d, this.ajaxOptions.delay)) : d() }, d }), b.define("select2/data/tags", ["jquery"], function (a) { function b(b, c, d) { var e = d.get("tags"), f = d.get("createTag"); if (void 0 !== f && (this.createTag = f), b.call(this, c, d), a.isArray(e)) for (var g = 0; g < e.length; g++) { var h = e[g], i = this._normalizeItem(h), j = this.option(i); this.$element.append(j) } } return b.prototype.query = function (a, b, c) { function d(a, f) { for (var g = a.results, h = 0; h < g.length; h++) { var i = g[h], j = null != i.children && !d({ results: i.children }, !0), k = i.text === b.term; if (k || j) return f ? !1 : (a.data = g, void c(a)) } if (f) return !0; var l = e.createTag(b); if (null != l) { var m = e.option(l); m.attr("data-select2-tag", !0), e.addOptions([m]), e.insertTag(g, l) } a.results = g, c(a) } var e = this; return this._removeOldTags(), null == b.term || null != b.page ? void a.call(this, b, c) : void a.call(this, b, d) }, b.prototype.createTag = function (b, c) { var d = a.trim(c.term); return "" === d ? null : { id: d, text: d } }, b.prototype.insertTag = function (a, b, c) { b.unshift(c) }, b.prototype._removeOldTags = function () { var b = (this._lastTag, this.$element.find("option[data-select2-tag]")); b.each(function () { this.selected || a(this).remove() }) }, b }), b.define("select2/data/tokenizer", ["jquery"], function (a) { function b(a, b, c) { var d = c.get("tokenizer"); void 0 !== d && (this.tokenizer = d), a.call(this, b, c) } return b.prototype.bind = function (a, b, c) { a.call(this, b, c), this.$search = b.dropdown.$search || b.selection.$search || c.find(".select2-search__field") }, b.prototype.query = function (a, b, c) { function d(a) { e.select(a) } var e = this; b.term = b.term || ""; var f = this.tokenizer(b, this.options, d); f.term !== b.term && (this.$search.length && (this.$search.val(f.term), this.$search.focus()), b.term = f.term), a.call(this, b, c) }, b.prototype.tokenizer = function (b, c, d, e) { for (var f = d.get("tokenSeparators") || [], g = c.term, h = 0, i = this.createTag || function (a) { return { id: a.term, text: a.term } }; h < g.length;) { var j = g[h]; if (-1 !== a.inArray(j, f)) { var k = g.substr(0, h), l = a.extend({}, c, { term: k }), m = i(l); e(m), g = g.substr(h + 1) || "", h = 0 } else h++ } return { term: g } }, b }), b.define("select2/data/minimumInputLength", [], function () { function a(a, b, c) { this.minimumInputLength = c.get("minimumInputLength"), a.call(this, b, c) } return a.prototype.query = function (a, b, c) { return b.term = b.term || "", b.term.length < this.minimumInputLength ? void this.trigger("results:message", { message: "inputTooShort", args: { minimum: this.minimumInputLength, input: b.term, params: b } }) : void a.call(this, b, c) }, a }), b.define("select2/data/maximumInputLength", [], function () { function a(a, b, c) { this.maximumInputLength = c.get("maximumInputLength"), a.call(this, b, c) } return a.prototype.query = function (a, b, c) { return b.term = b.term || "", this.maximumInputLength > 0 && b.term.length > this.maximumInputLength ? void this.trigger("results:message", { message: "inputTooLong", args: { maximum: this.maximumInputLength, input: b.term, params: b } }) : void a.call(this, b, c) }, a }), b.define("select2/data/maximumSelectionLength", [], function () { function a(a, b, c) { this.maximumSelectionLength = c.get("maximumSelectionLength"), a.call(this, b, c) } return a.prototype.query = function (a, b, c) { var d = this; this.current(function (e) { var f = null != e ? e.length : 0; return d.maximumSelectionLength > 0 && f >= d.maximumSelectionLength ? void d.trigger("results:message", { message: "maximumSelected", args: { maximum: d.maximumSelectionLength } }) : void a.call(d, b, c) }) }, a }), b.define("select2/dropdown", ["jquery", "./utils"], function (a, b) { function c(a, b) { this.$element = a, this.options = b, c.__super__.constructor.call(this) } return b.Extend(c, b.Observable), c.prototype.render = function () { var b = a('<span class="select2-dropdown"><span class="select2-results"></span></span>'); return b.attr("dir", this.options.get("dir")), this.$dropdown = b, b }, c.prototype.position = function () { }, c.prototype.destroy = function () { this.$dropdown.remove() }, c }), b.define("select2/dropdown/search", ["jquery", "../utils"], function (a) { function b() { } return b.prototype.render = function (b) { var c = b.call(this), d = a('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>'); return this.$searchContainer = d, this.$search = d.find("input"), c.prepend(d), c }, b.prototype.bind = function (b, c, d) { var e = this; b.call(this, c, d), this.$search.on("keydown", function (a) { e.trigger("keypress", a), e._keyUpPrevented = a.isDefaultPrevented() }), this.$search.on("input", function () { a(this).off("keyup") }), this.$search.on("keyup input", function (a) { e.handleSearch(a) }), c.on("open", function () { e.$search.attr("tabindex", 0), e.$search.focus(), window.setTimeout(function () { e.$search.focus() }, 0) }), c.on("close", function () { e.$search.attr("tabindex", -1), e.$search.val("") }), c.on("results:all", function (a) { if (null == a.query.term || "" === a.query.term) { var b = e.showSearch(a); b ? e.$searchContainer.removeClass("select2-search--hide") : e.$searchContainer.addClass("select2-search--hide") } }) }, b.prototype.handleSearch = function () { if (!this._keyUpPrevented) { var a = this.$search.val(); this.trigger("query", { term: a }) } this._keyUpPrevented = !1 }, b.prototype.showSearch = function () { return !0 }, b }), b.define("select2/dropdown/hidePlaceholder", [], function () { function a(a, b, c, d) { this.placeholder = this.normalizePlaceholder(c.get("placeholder")), a.call(this, b, c, d) } return a.prototype.append = function (a, b) { b.results = this.removePlaceholder(b.results), a.call(this, b) }, a.prototype.normalizePlaceholder = function (a, b) { return "string" == typeof b && (b = { id: "", text: b }), b }, a.prototype.removePlaceholder = function (a, b) { for (var c = b.slice(0), d = b.length - 1; d >= 0; d--) { var e = b[d]; this.placeholder.id === e.id && c.splice(d, 1) } return c }, a }), b.define("select2/dropdown/infiniteScroll", ["jquery"], function (a) { function b(a, b, c, d) { this.lastParams = {}, a.call(this, b, c, d), this.$loadingMore = this.createLoadingMore(), this.loading = !1 } return b.prototype.append = function (a, b) { this.$loadingMore.remove(), this.loading = !1, a.call(this, b), this.showLoadingMore(b) && this.$results.append(this.$loadingMore) }, b.prototype.bind = function (b, c, d) { var e = this; b.call(this, c, d), c.on("query", function (a) { e.lastParams = a, e.loading = !0 }), c.on("query:append", function (a) { e.lastParams = a, e.loading = !0 }), this.$results.on("scroll", function () { var b = a.contains(document.documentElement, e.$loadingMore[0]); if (!e.loading && b) { var c = e.$results.offset().top + e.$results.outerHeight(!1), d = e.$loadingMore.offset().top + e.$loadingMore.outerHeight(!1); c + 50 >= d && e.loadMore() } }) }, b.prototype.loadMore = function () { this.loading = !0; var b = a.extend({}, { page: 1 }, this.lastParams); b.page++, this.trigger("query:append", b) }, b.prototype.showLoadingMore = function (a, b) { return b.pagination && b.pagination.more }, b.prototype.createLoadingMore = function () { var b = a('<li class="option load-more" role="treeitem"></li>'), c = this.options.get("translations").get("loadingMore"); return b.html(c(this.lastParams)), b }, b }), b.define("select2/dropdown/attachBody", ["jquery", "../utils"], function (a, b) { function c(a, b, c) { this.$dropdownParent = c.get("dropdownParent") || document.body, a.call(this, b, c) } return c.prototype.bind = function (a, b, c) { var d = this, e = !1; a.call(this, b, c), b.on("open", function () { d._showDropdown(), d._attachPositioningHandler(b), e || (e = !0, b.on("results:all", function () { d._positionDropdown(), d._resizeDropdown() }), b.on("results:append", function () { d._positionDropdown(), d._resizeDropdown() })) }), b.on("close", function () { d._hideDropdown(), d._detachPositioningHandler(b) }), this.$dropdownContainer.on("mousedown", function (a) { a.stopPropagation() }) }, c.prototype.position = function (a, b, c) { b.attr("class", c.attr("class")), b.removeClass("select2"), b.addClass("select2-container--open"), b.css({ position: "absolute", top: -999999 }), this.$container = c }, c.prototype.render = function (b) { var c = a("<span></span>"), d = b.call(this); return c.append(d), this.$dropdownContainer = c, c }, c.prototype._hideDropdown = function () { this.$dropdownContainer.detach() }, c.prototype._attachPositioningHandler = function (c) { var d = this, e = "scroll.select2." + c.id, f = "resize.select2." + c.id, g = "orientationchange.select2." + c.id, h = this.$container.parents().filter(b.hasScroll); h.each(function () { a(this).data("select2-scroll-position", { x: a(this).scrollLeft(), y: a(this).scrollTop() }) }), h.on(e, function () { var b = a(this).data("select2-scroll-position"); a(this).scrollTop(b.y) }), a(window).on(e + " " + f + " " + g, function () { d._positionDropdown(), d._resizeDropdown() }) }, c.prototype._detachPositioningHandler = function (c) { var d = "scroll.select2." + c.id, e = "resize.select2." + c.id, f = "orientationchange.select2." + c.id, g = this.$container.parents().filter(b.hasScroll); g.off(d), a(window).off(d + " " + e + " " + f) }, c.prototype._positionDropdown = function () { var b = a(window), c = this.$dropdown.hasClass("select2-dropdown--above"), d = this.$dropdown.hasClass("select2-dropdown--below"), e = null, f = (this.$container.position(), this.$container.offset()); f.bottom = f.top + this.$container.outerHeight(!1); var g = { height: this.$container.outerHeight(!1) }; g.top = f.top, g.bottom = f.top + g.height; var h = { height: this.$dropdown.outerHeight(!1) }, i = { top: b.scrollTop(), bottom: b.scrollTop() + b.height() }, j = i.top < f.top - h.height, k = i.bottom > f.bottom + h.height, l = { left: f.left, top: g.bottom }; c || d || (e = "below"), k || !j || c ? !j && k && c && (e = "below") : e = "above", ("above" == e || c && "below" !== e) && (l.top = g.top - h.height), null != e && (this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--" + e), this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--" + e)), this.$dropdownContainer.css(l) }, c.prototype._resizeDropdown = function () { this.$dropdownContainer.width(); var a = { width: this.$container.outerWidth(!1) + "px" }; this.options.get("dropdownAutoWidth") && (a.minWidth = a.width, a.width = "auto"), this.$dropdown.css(a) }, c.prototype._showDropdown = function () { this.$dropdownContainer.appendTo(this.$dropdownParent), this._positionDropdown(), this._resizeDropdown() }, c }), b.define("select2/dropdown/minimumResultsForSearch", [], function () { function a(b) { for (var c = 0, d = 0; d < b.length; d++) { var e = b[d]; e.children ? c += a(e.children) : c++ } return c } function b(a, b, c, d) { this.minimumResultsForSearch = c.get("minimumResultsForSearch"), this.minimumResultsForSearch < 0 && (this.minimumResultsForSearch = 1 / 0), a.call(this, b, c, d) } return b.prototype.showSearch = function (b, c) { return a(c.data.results) < this.minimumResultsForSearch ? !1 : b.call(this, c) }, b }), b.define("select2/dropdown/selectOnClose", [], function () { function a() { } return a.prototype.bind = function (a, b, c) { var d = this; a.call(this, b, c), b.on("close", function () { d._handleSelectOnClose() }) }, a.prototype._handleSelectOnClose = function () { var a = this.getHighlightedResults(); a.length < 1 || this.trigger("select", { data: a.data("data") }) }, a }), b.define("select2/dropdown/closeOnSelect", [], function () { function a() { } return a.prototype.bind = function (a, b, c) { var d = this; a.call(this, b, c), b.on("select", function (a) { d._selectTriggered(a) }), b.on("unselect", function (a) { d._selectTriggered(a) }) }, a.prototype._selectTriggered = function (a, b) { var c = b.originalEvent; c && c.ctrlKey || this.trigger("close") }, a }), b.define("select2/i18n/en", [], function () { return { errorLoading: function () { return "The results could not be loaded." }, inputTooLong: function (a) { var b = a.input.length - a.maximum, c = "Please delete " + b + " character"; return 1 != b && (c += "s"), c }, inputTooShort: function (a) { var b = a.minimum - a.input.length, c = "Please enter " + b + " or more characters"; return c }, loadingMore: function () { return "Loading more results…" }, maximumSelected: function (a) { var b = "You can only select " + a.maximum + " item"; return 1 != a.maximum && (b += "s"), b }, noResults: function () { return "No results found" }, searching: function () { return "Searching…" } } }), b.define("select2/defaults", ["jquery", "require", "./results", "./selection/single", "./selection/multiple", "./selection/placeholder", "./selection/allowClear", "./selection/search", "./selection/eventRelay", "./utils", "./translation", "./diacritics", "./data/select", "./data/array", "./data/ajax", "./data/tags", "./data/tokenizer", "./data/minimumInputLength", "./data/maximumInputLength", "./data/maximumSelectionLength", "./dropdown", "./dropdown/search", "./dropdown/hidePlaceholder", "./dropdown/infiniteScroll", "./dropdown/attachBody", "./dropdown/minimumResultsForSearch", "./dropdown/selectOnClose", "./dropdown/closeOnSelect", "./i18n/en"], function (a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z, A, B, C) { function D() { this.reset() } D.prototype.apply = function (l) { if (l = a.extend({}, this.defaults, l), null == l.dataAdapter) { if (l.dataAdapter = null != l.ajax ? o : null != l.data ? n : m, l.minimumInputLength > 0 && (l.dataAdapter = j.Decorate(l.dataAdapter, r)), l.maximumInputLength > 0 && (l.dataAdapter = j.Decorate(l.dataAdapter, s)), l.maximumSelectionLength > 0 && (l.dataAdapter = j.Decorate(l.dataAdapter, t)), l.tags && (l.dataAdapter = j.Decorate(l.dataAdapter, p)), (null != l.tokenSeparators || null != l.tokenizer) && (l.dataAdapter = j.Decorate(l.dataAdapter, q)), null != l.query) { var C = b(l.amdBase + "compat/query"); l.dataAdapter = j.Decorate(l.dataAdapter, C) } if (null != l.initSelection) { var D = b(l.amdBase + "compat/initSelection"); l.dataAdapter = j.Decorate(l.dataAdapter, D) } } if (null == l.resultsAdapter && (l.resultsAdapter = c, null != l.ajax && (l.resultsAdapter = j.Decorate(l.resultsAdapter, x)), null != l.placeholder && (l.resultsAdapter = j.Decorate(l.resultsAdapter, w)), l.selectOnClose && (l.resultsAdapter = j.Decorate(l.resultsAdapter, A))), null == l.dropdownAdapter) { if (l.multiple) l.dropdownAdapter = u; else { var E = j.Decorate(u, v); l.dropdownAdapter = E } if (0 !== l.minimumResultsForSearch && (l.dropdownAdapter = j.Decorate(l.dropdownAdapter, z)), l.closeOnSelect && (l.dropdownAdapter = j.Decorate(l.dropdownAdapter, B)), null != l.dropdownCssClass || null != l.dropdownCss || null != l.adaptDropdownCssClass) { var F = b(l.amdBase + "compat/dropdownCss"); l.dropdownAdapter = j.Decorate(l.dropdownAdapter, F) } l.dropdownAdapter = j.Decorate(l.dropdownAdapter, y) } if (null == l.selectionAdapter) { if (l.selectionAdapter = l.multiple ? e : d, null != l.placeholder && (l.selectionAdapter = j.Decorate(l.selectionAdapter, f)), l.allowClear && (l.selectionAdapter = j.Decorate(l.selectionAdapter, g)), l.multiple && (l.selectionAdapter = j.Decorate(l.selectionAdapter, h)), null != l.containerCssClass || null != l.containerCss || null != l.adaptContainerCssClass) { var G = b(l.amdBase + "compat/containerCss"); l.selectionAdapter = j.Decorate(l.selectionAdapter, G) } l.selectionAdapter = j.Decorate(l.selectionAdapter, i) } if ("string" == typeof l.language) if (l.language.indexOf("-") > 0) { var H = l.language.split("-"), I = H[0]; l.language = [l.language, I] } else l.language = [l.language]; if (a.isArray(l.language)) { var J = new k; l.language.push("en"); for (var K = l.language, L = 0; L < K.length; L++) { var M = K[L], N = {}; try { N = k.loadPath(M) } catch (O) { try { M = this.defaults.amdLanguageBase + M, N = k.loadPath(M) } catch (P) { l.debug && window.console && console.warn && console.warn('Select2: The language file for "' + M + '" could not be automatically loaded. A fallback will be used instead.'); continue } } J.extend(N) } l.translations = J } else { var Q = k.loadPath(this.defaults.amdLanguageBase + "en"), R = new k(l.language); R.extend(Q), l.translations = R } return l }, D.prototype.reset = function () { function b(a) { function b(a) { return l[a] || a } return a.replace(/[^\u0000-\u007E]/g, b) } function c(d, e) { if ("" === a.trim(d.term)) return e; if (e.children && e.children.length > 0) { for (var f = a.extend(!0, {}, e), g = e.children.length - 1; g >= 0; g--) { var h = e.children[g], i = c(d, h); null == i && f.children.splice(g, 1) } return f.children.length > 0 ? f : c(d, f) } var j = b(e.text).toUpperCase(), k = b(d.term).toUpperCase(); return j.indexOf(k) > -1 ? e : null } this.defaults = { amdBase: "./", amdLanguageBase: "./i18n/", closeOnSelect: !0, debug: !1, dropdownAutoWidth: !1, escapeMarkup: j.escapeMarkup, language: C, matcher: c, minimumInputLength: 0, maximumInputLength: 0, maximumSelectionLength: 0, minimumResultsForSearch: 0, selectOnClose: !1, sorter: function (a) { return a }, templateResult: function (a) { return a.text }, templateSelection: function (a) { return a.text }, theme: "default", width: "resolve" } }, D.prototype.set = function (b, c) { var d = a.camelCase(b), e = {}; e[d] = c; var f = j._convertData(e); a.extend(this.defaults, f) }; var E = new D; return E }), b.define("select2/options", ["require", "jquery", "./defaults", "./utils"], function (a, b, c, d) { function e(b, e) { if (this.options = b, null != e && this.fromElement(e), this.options = c.apply(this.options), e && e.is("input")) { var f = a(this.get("amdBase") + "compat/inputData"); this.options.dataAdapter = d.Decorate(this.options.dataAdapter, f) } } return e.prototype.fromElement = function (a) { var c = ["select2"]; null == this.options.multiple && (this.options.multiple = a.prop("multiple")), null == this.options.disabled && (this.options.disabled = a.prop("disabled")), null == this.options.language && (a.prop("lang") ? this.options.language = a.prop("lang").toLowerCase() : a.closest("[lang]").prop("lang") && (this.options.language = a.closest("[lang]").prop("lang"))), null == this.options.dir && (this.options.dir = a.prop("dir") ? a.prop("dir") : a.closest("[dir]").prop("dir") ? a.closest("[dir]").prop("dir") : "ltr"), a.prop("disabled", this.options.disabled), a.prop("multiple", this.options.multiple), a.data("select2Tags") && (this.options.debug && window.console && console.warn && console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'), a.data("data", a.data("select2Tags")), a.data("tags", !0)), a.data("ajaxUrl") && (this.options.debug && window.console && console.warn && console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."), a.attr("ajax--url", a.data("ajaxUrl")), a.data("ajax--url", a.data("ajaxUrl"))); var e = {}; e = b.fn.jquery && "1." == b.fn.jquery.substr(0, 2) && a[0].dataset ? b.extend(!0, {}, a[0].dataset, a.data()) : a.data(); var f = b.extend(!0, {}, e); f = d._convertData(f); for (var g in f) b.inArray(g, c) > -1 || (b.isPlainObject(this.options[g]) ? b.extend(this.options[g], f[g]) : this.options[g] = f[g]); return this }, e.prototype.get = function (a) { return this.options[a] }, e.prototype.set = function (a, b) { this.options[a] = b }, e }), b.define("select2/core", ["jquery", "./options", "./utils", "./keys"], function (a, b, c, d) { var e = function (a, c) { null != a.data("select2") && a.data("select2").destroy(), this.$element = a, this.id = this._generateId(a), c = c || {}, this.options = new b(c, a), e.__super__.constructor.call(this); var d = a.attr("tabindex") || 0; a.data("old-tabindex", d), a.attr("tabindex", "-1"); var f = this.options.get("dataAdapter"); this.dataAdapter = new f(a, this.options); var g = this.render(); this._placeContainer(g); var h = this.options.get("selectionAdapter"); this.selection = new h(a, this.options), this.$selection = this.selection.render(), this.selection.position(this.$selection, g); var i = this.options.get("dropdownAdapter"); this.dropdown = new i(a, this.options), this.$dropdown = this.dropdown.render(), this.dropdown.position(this.$dropdown, g); var j = this.options.get("resultsAdapter"); this.results = new j(a, this.options, this.dataAdapter), this.$results = this.results.render(), this.results.position(this.$results, this.$dropdown); var k = this; this._bindAdapters(), this._registerDomEvents(), this._registerDataEvents(), this._registerSelectionEvents(), this._registerDropdownEvents(), this._registerResultsEvents(), this._registerEvents(), this.dataAdapter.current(function (a) { k.trigger("selection:update", { data: a }) }), a.addClass("select2-hidden-accessible"), a.attr("aria-hidden", "true"), this._syncAttributes(), a.data("select2", this) }; return c.Extend(e, c.Observable), e.prototype._generateId = function (a) { var b = ""; return b = null != a.attr("id") ? a.attr("id") : null != a.attr("name") ? a.attr("name") + "-" + c.generateChars(2) : c.generateChars(4), b = "select2-" + b }, e.prototype._placeContainer = function (a) { a.insertAfter(this.$element); var b = this._resolveWidth(this.$element, this.options.get("width")); null != b && a.css("width", b) }, e.prototype._resolveWidth = function (a, b) { var c = /^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i; if ("resolve" == b) { var d = this._resolveWidth(a, "style"); return null != d ? d : this._resolveWidth(a, "element") } if ("element" == b) { var e = a.outerWidth(!1); return 0 >= e ? "auto" : e + "px" } if ("style" == b) { var f = a.attr("style"); if ("string" != typeof f) return null; for (var g = f.split(";"), h = 0, i = g.length; i > h; h += 1) { var j = g[h].replace(/\s/g, ""), k = j.match(c); if (null !== k && k.length >= 1) return k[1] } return null } return b }, e.prototype._bindAdapters = function () { this.dataAdapter.bind(this, this.$container), this.selection.bind(this, this.$container), this.dropdown.bind(this, this.$container), this.results.bind(this, this.$container) }, e.prototype._registerDomEvents = function () { var b = this; this.$element.on("change.select2", function () { b.dataAdapter.current(function (a) { b.trigger("selection:update", { data: a }) }) }), this._sync = c.bind(this._syncAttributes, this), this.$element[0].attachEvent && this.$element[0].attachEvent("onpropertychange", this._sync); var d = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver; null != d ? (this._observer = new d(function (c) { a.each(c, b._sync) }), this._observer.observe(this.$element[0], { attributes: !0, subtree: !1 })) : this.$element[0].addEventListener && this.$element[0].addEventListener("DOMAttrModified", b._sync, !1) }, e.prototype._registerDataEvents = function () { var a = this; this.dataAdapter.on("*", function (b, c) { a.trigger(b, c) }) }, e.prototype._registerSelectionEvents = function () { var b = this, c = ["toggle"]; this.selection.on("toggle", function () { b.toggleDropdown() }), this.selection.on("*", function (d, e) { -1 === a.inArray(d, c) && b.trigger(d, e) }) }, e.prototype._registerDropdownEvents = function () { var a = this; this.dropdown.on("*", function (b, c) { a.trigger(b, c) }) }, e.prototype._registerResultsEvents = function () { var a = this; this.results.on("*", function (b, c) { a.trigger(b, c) }) }, e.prototype._registerEvents = function () { var a = this; this.on("open", function () { a.$container.addClass("select2-container--open") }), this.on("close", function () { a.$container.removeClass("select2-container--open") }), this.on("enable", function () { a.$container.removeClass("select2-container--disabled") }), this.on("disable", function () { a.$container.addClass("select2-container--disabled") }), this.on("focus", function () { a.$container.addClass("select2-container--focus") }), this.on("blur", function () { a.$container.removeClass("select2-container--focus") }), this.on("query", function (b) { a.isOpen() || a.trigger("open"), this.dataAdapter.query(b, function (c) { a.trigger("results:all", { data: c, query: b }) }) }), this.on("query:append", function (b) { this.dataAdapter.query(b, function (c) { a.trigger("results:append", { data: c, query: b }) }) }), this.on("keypress", function (b) { var c = b.which; a.isOpen() ? c === d.ENTER ? (a.trigger("results:select"), b.preventDefault()) : c === d.SPACE && b.ctrlKey ? (a.trigger("results:toggle"), b.preventDefault()) : c === d.UP ? (a.trigger("results:previous"), b.preventDefault()) : c === d.DOWN ? (a.trigger("results:next"), b.preventDefault()) : (c === d.ESC || c === d.TAB) && (a.close(), b.preventDefault()) : (c === d.ENTER || c === d.SPACE || (c === d.DOWN || c === d.UP) && b.altKey) && (a.open(), b.preventDefault()) }) }, e.prototype._syncAttributes = function () { this.options.set("disabled", this.$element.prop("disabled")), this.options.get("disabled") ? (this.isOpen() && this.close(), this.trigger("disable")) : this.trigger("enable") }, e.prototype.trigger = function (a, b) { var c = e.__super__.trigger, d = { open: "opening", close: "closing", select: "selecting", unselect: "unselecting" }; if (a in d) { var f = d[a], g = { prevented: !1, name: a, args: b }; if (c.call(this, f, g), g.prevented) return void (b.prevented = !0) } c.call(this, a, b) }, e.prototype.toggleDropdown = function () { this.options.get("disabled") || (this.isOpen() ? this.close() : this.open()) }, e.prototype.open = function () { this.isOpen() || (this.trigger("query", {}), this.trigger("open")) }, e.prototype.close = function () { this.isOpen() && this.trigger("close") }, e.prototype.isOpen = function () { return this.$container.hasClass("select2-container--open") }, e.prototype.enable = function (a) { this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'), (null == a || 0 === a.length) && (a = [!0]); var b = !a[0]; this.$element.prop("disabled", b) }, e.prototype.data = function () { this.options.get("debug") && arguments.length > 0 && window.console && console.warn && console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.'); var a = []; return this.dataAdapter.current(function (b) { a = b }), a }, e.prototype.val = function (b) { if (this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'), null == b || 0 === b.length) return this.$element.val(); var c = b[0]; a.isArray(c) && (c = a.map(c, function (a) { return a.toString() })), this.$element.val(c).trigger("change") }, e.prototype.destroy = function () { this.$container.remove(), this.$element[0].detachEvent && this.$element[0].detachEvent("onpropertychange", this._sync), null != this._observer ? (this._observer.disconnect(), this._observer = null) : this.$element[0].removeEventListener && this.$element[0].removeEventListener("DOMAttrModified", this._sync, !1), this._sync = null, this.$element.off(".select2"), this.$element.attr("tabindex", this.$element.data("old-tabindex")), this.$element.removeClass("select2-hidden-accessible"), this.$element.attr("aria-hidden", "false"), this.$element.removeData("select2"), this.dataAdapter.destroy(), this.selection.destroy(), this.dropdown.destroy(), this.results.destroy(), this.dataAdapter = null, this.selection = null, this.dropdown = null, this.results = null }, e.prototype.render = function () { var b = a('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>'); return b.attr("dir", this.options.get("dir")), this.$container = b, this.$container.addClass("select2-container--" + this.options.get("theme")), b.data("element", this.$element), b }, e }), b.define("jquery.select2", ["jquery", "require", "./select2/core", "./select2/defaults"], function (a, b, c, d) { if (b("jquery.mousewheel"), null == a.fn.select2) { var e = ["open", "close", "destroy"]; a.fn.select2 = function (b) { if (b = b || {}, "object" == typeof b) return this.each(function () { { var d = a.extend({}, b, !0); new c(a(this), d) } }), this; if ("string" == typeof b) { var d = this.data("select2"); null == d && window.console && console.error && console.error("The select2('" + b + "') method was called on an element that is not using Select2."); var f = Array.prototype.slice.call(arguments, 1), g = d[b](f); return a.inArray(b, e) > -1 ? this : g } throw new Error("Invalid arguments for Select2: " + b) } } return null == a.fn.select2.defaults && (a.fn.select2.defaults = d), c }), b.define("jquery.mousewheel", ["jquery"], function (a) { return a }), { define: b.define, require: b.require }
    }(), c = b.require("jquery.select2"); return a.fn.select2.amd = b, c
});

(function (w, d) { var atc_url = "//addtocalendar.com/atc/", atc_version = "1.5", b = d.documentElement; if (!Array.indexOf) { Array.prototype.indexOf = function (e) { for (var t = 0, n = this.length; t < n; t++) { if (this[t] == e) { return t } } return -1 } } if (!Array.prototype.map) { Array.prototype.map = function (e) { var t = []; for (var n = 0, r = this.length; n < r; n++) { t.push(e(this[n])) } return t } } var isArray = function (e) { return Object.prototype.toString.call(e) === "[object Array]" }; var isFunc = function (e) { return Object.prototype.toString.call(e) === "[object Function]" }; var ready = function (e, t) { function u() { if (!n) { if (!t.body) return setTimeout(u, 13); n = true; if (i) { var e, r = 0; while (e = i[r++]) e.call(null); i = null } } } function a() { if (r) return; r = true; if (t.readyState === "complete") return u(); if (t.addEventListener) { t.addEventListener("DOMContentLoaded", s, false); e.addEventListener("load", u, false) } else { if (t.attachEvent) { t.attachEvent("onreadystatechange", s); e.attachEvent("onload", u); var n = false; try { n = e.frameElement == null } catch (i) { } if (b.doScroll && n) f() } else { o = e.onload; e.onload = function (e) { o(e); u() } } } } function f() { if (n) return; try { b.doScroll("left") } catch (e) { setTimeout(f, 1); return } u() } var n = false, r = false, i = [], s, o; if (t.addEventListener) { s = function () { t.removeEventListener("DOMContentLoaded", s, false); u() } } else { if (t.attachEvent) { s = function () { if (t.readyState === "complete") { t.detachEvent("onreadystatechange", s); u() } } } } return function (e) { a(); if (n) { e.call(null) } else { i.push(e) } } }(w, d); if (w.addtocalendar && typeof w.addtocalendar.start == "function") return; if (!w.addtocalendar) w.addtocalendar = {}; addtocalendar.languages = { de: "In den Kalender", en: "הוסף ליומן", es: "Añadir al Calendario", fr: "Ajouter au calendrier", hi: "कैलेंडर में जोड़ें", "in": "Tambahkan ke Kalender", ja: "カレンダーに追加", ko: "캘린더에 추가", pt: "Adicionar ao calendário", ru: "Добавить в календарь", uk: "Додати в календар", zh: "添加到日历" }; addtocalendar.calendar_urls = {}; addtocalendar.loadSettings = function (element) { var settings = { language: "auto", "show-list-on": "click", calendars: ["iCalendar", "Google Calendar", "Outlook", "Outlook Online", "Yahoo! Calendar"], secure: "auto", "on-button-click": function () { }, "on-calendar-click": function () { } }; for (var option in settings) { var pname = "data-" + option; var eattr = element.getAttribute(pname); if (eattr != null) { if (isArray(settings[option])) { settings[option] = eattr.replace(/\s*,\s*/g, ",").replace(/^\s+|\s+$/g, "").split(","); continue } if (isFunc(settings[option])) { var fn = window[eattr]; if (isFunc(fn)) { settings[option] = fn } else { settings[option] = eval("(function(mouseEvent){" + eattr + "})") } continue } settings[option] = element.getAttribute(pname) } } return settings }; addtocalendar.load = function () { ready(function () { var e = { iCalendar: "ical", "Google Calendar": "google", Outlook: "outlook", "Outlook Online": "outlookonline", "Yahoo! Calendar": "yahoo" }; var t = -(new Date).getTimezoneOffset().toString(); var n = addtocalendar.languages; var r = document.getElementsByTagName("*"); for (var i = 0; i < r.length; i++) { var s = r[i].className; if (s.length && s.split(" ").indexOf("addtocalendar") != -1) { var o = addtocalendar.loadSettings(r[i]); var u = o["calendars"].length == 1; var a = "http:"; if (o["secure"] == "auto") { a = location.protocol == "https:" ? "https:" : "http:" } else if (o["secure"] == "true") { a = "https:" }; var l = r[i].id; var c = n["en"]; if (o["language"] == "auto") { var h = "no_lang"; if (typeof navigator.language === "string") { h = navigator.language.substr(0, 2) } else if (typeof navigator.browserLanguage === "string") { h = navigator.browserLanguage.substr(0, 2) } if (n.hasOwnProperty(h)) { c = n[h] } } else if (n.hasOwnProperty(o["language"])) { c = n[o["language"]] } var p = ["utz=" + t, "uln=" + navigator.language, "vjs=" + atc_version]; var d = r[i].getElementsByTagName("var"); var v = -1; for (var m = 0; m < d.length; m++) { var g = d[m].className.replace("atc_", "").split(" ")[0]; var y = d[m].innerHTML; if (g == "event") { v++; continue } if (g == d[m].className) { if (g == "atc-body") { c = y } continue } if (v == -1) { continue } p.push("e[" + v + "][" + g + "]" + "=" + encodeURIComponent(y)) } var b = l == "" ? "" : l + "_link"; var w = document.createElement("ul"); w.className = "atcb-list"; var E = ""; var S = ""; for (var x in o["calendars"]) { if (!e.hasOwnProperty(o["calendars"][x])) { continue } var T = e[o["calendars"][x]]; var N = l == "" ? "" : 'id="' + l + "_" + T + '_link"'; var C = ((T == 'ical' && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream ? 'webcal:' : a) + atc_url) + T + "?" + p.join("&"); if (u) { S = C } else { E += '<li class="atcb-item"><a ' + N + ' class="atcb-item-link" href="' + C + '" target="_blank">' + o["calendars"][x] + "</a></li>" } } w.innerHTML = E; if (r[i].getElementsByClassName("atcb-link")[0] == undefined) { var k = document.createElement("a"); k.className = "atcb-link"; k.innerHTML = c; k.id = b; k.tabIndex = 1; if (u) { k.href = S; k.target = "_blank" } r[i].appendChild(k); if (!u) { r[i].appendChild(w) } } else { var k = r[i].getElementsByClassName("atcb-link")[0]; if (!u) { k.parentNode.appendChild(w) } k.tabIndex = 1; if (k.id == "") { k.id = b } if (u) { k.href = S; k.target = "_blank" } } r[i].getElementsByClassName("atcb-link")[0].addEventListener("click", o["on-button-click"], false); var L = r[i].getElementsByClassName("atcb-item-link"); for (var m = 0; m < L.length; m++) { L[m].addEventListener("click", o["on-calendar-click"], false) } } } }) }; addtocalendar.load() })(window, document)

jQuery.fn.endlessRiver = function (settings) {
    settings = jQuery.extend({
        speed: 100,
        pause: true,
        buttons: true
    }, settings);
    return this.each(function () {
        var j = jQuery;
        var $line = j(this);
        var id = "ER_" + new Date().getTime();
        $line.wrap("<div id=\"" + id + "\"></div>");
        $line.css({
            margin: "0 !important",
            padding: "0 !important"
        });
        var currentSpazio, currentTempo;
        var run = true;
        var initialOffset = $line.offset().left;
        var lineWidth = 1;
        $line.children("li.tick-clones").remove();
        //elimina cloni se ci sono - Serve in caso io aggiorni dinamicamente il contenuto
        $line.addClass("newsticker");
        var $mask = $line.wrap("<div class='mask'></div>");
        var $tickercontainer = $line.parent().wrap("<div class='tickercontainer'></div>");
        var elements = $line.children("li");
        var fill = function () {
            lineWidth = 1;
            $line.append(elements.clone(true).addClass("tick-clones"));
            $line.children("li").each(function (i) {
                lineWidth += j(this, i).outerWidth(true);
                //outherWidth con argomento true ritorna larghezza compresi margini
            });

        }
        var l = $tickercontainer.outerWidth(true);
        while (lineWidth < l) fill();
        $line.width(lineWidth);
        $line.height($line.parent().height());
        function scrollnews(spazio, tempo) {
            $line.animate({ left: '-=' + spazio }, tempo, "linear", function () {
                $line.children("li:first").appendTo($line);
                $line.css("left", 0);
                currentSpazio = $line.children("li:first").outerWidth(true);
                currentTempo = tempo / spazio * currentSpazio;
                if (run)
                    scrollnews(currentSpazio, currentTempo);
            });
        }
        //BOOT
        currentSpazio = $line.children("li:first").outerWidth(true);
        currentTempo = currentSpazio / settings.speed * 1000;
        //x 1000 perchè tempo è in millisecondi
        scrollnews(currentSpazio, currentTempo);
        function setHover() {
            $line.off("mouseenter mouseleave");
            $line.hover(pause, resume);
        }

        function pause() {
            j("#" + id + " .er-controls > .pause").toggleClass("play glyphicon-play pause glyphicon-pause");
            run = false;
            $line.stop();
        }

        function resume() {
            j("#" + id + " .er-controls > .play").toggleClass("play glyphicon-play pause glyphicon-pause");
            run = true;
            var offset = $line.offset().left;
            var residualSpace = offset + $line.children("li:first").outerWidth(true) - initialOffset;
            var residualTime = currentTempo / currentSpazio * residualSpace;
            scrollnews(residualSpace, residualTime);
        }
        if (settings.pause) setHover();

        if (settings.buttons) {

            var $buttons = j('<ul class="er-controls">' +
			'<li class="prev glyphicon glyphicon-chevron-left"></li>' +
			'<li class="pause glyphicon glyphicon-pause"></li>' +
			'<li class="next glyphicon glyphicon-chevron-right"></li>' +
			'</ul>');
            $buttons.insertAfter($tickercontainer);
            //DELEGATE IS BETTER!
            j("body").on("click", "#" + id + " .er-controls > .pause", function () {
                if (!run) return false;
                j(this).toggleClass("pause glyphicon-pause play glyphicon-play");
                $line.off('mouseenter mouseleave');
                run = false;
            });

            j("body").on("click", "#" + id + " .er-controls > .play", function () {
                if (run) return false;
                j(this).toggleClass("pause glyphicon-pause play glyphicon-play");
                run = true;
                setHover();
                var offset = $line.offset().left;
                var residualSpace = offset + $line.children("li:first").outerWidth(true) - initialOffset;
                var residualTime = currentTempo / currentSpazio * residualSpace;
                scrollnews(residualSpace, residualTime);
            });

            var moving = false;

            j("body").on("click", "#" + id + " .er-controls > .next", function () {
                if (run) {
                    j("#" + id + " .er-controls > .pause").toggleClass("pause glyphicon-pause play glyphicon-play");
                    run = false;
                    return;
                }
                if (moving) return false;
                var spazio = $line.children("li:first").outerWidth(true);
                var tempo = spazio / settings.speed * 1000;
                moving = true;
                $line.stop(true, true).animate({ left: '-=' + spazio }, tempo, "linear", function () {
                    $line.children("li:first").appendTo($line);
                    $line.css("left", 0);
                    moving = false;
                });

            });

            j("body").on("click", "#" + id + " .er-controls > .prev", function () {
                if (run) {
                    j("#" + id + " .er-controls > .pause").toggleClass("pause glyphicon-pause play glyphicon-play");
                    run = false;
                    return;
                }
                if (moving) return false;
                var spazio = $line.children("li:last").outerWidth(true);
                $line.css("left", "-" + spazio + "px");
                $line.children("li:last").prependTo($line);
                var tempo = spazio / settings.speed * 1000;
                moving = true;
                $line.stop(true, true).animate({ left: '+=' + spazio }, tempo, "linear", function () {
                    moving = false;
                });

            });
        }

    });
};

/*
 AngularJS v1.5.11
 (c) 2010-2017 Google, Inc. http://angularjs.org
 License: MIT
*/
(function (s, g) {
    'use strict'; function H(g) { var l = []; t(l, A).chars(g); return l.join("") } var B = g.$$minErr("$sanitize"), C, l, D, E, q, A, F, t; g.module("ngSanitize", []).provider("$sanitize", function () {
        function k(a, e) { var b = {}, c = a.split(","), h; for (h = 0; h < c.length; h++) b[e ? q(c[h]) : c[h]] = !0; return b } function I(a) { for (var e = {}, b = 0, c = a.length; b < c; b++) { var h = a[b]; e[h.name] = h.value } return e } function G(a) {
            return a.replace(/&/g, "&amp;").replace(J, function (a) {
                var b = a.charCodeAt(0); a = a.charCodeAt(1); return "&#" + (1024 * (b - 55296) +
                (a - 56320) + 65536) + ";"
            }).replace(K, function (a) { return "&#" + a.charCodeAt(0) + ";" }).replace(/</g, "&lt;").replace(/>/g, "&gt;")
        } function x(a) { for (; a;) { if (a.nodeType === s.Node.ELEMENT_NODE) for (var e = a.attributes, b = 0, c = e.length; b < c; b++) { var h = e[b], d = h.name.toLowerCase(); if ("xmlns:ns1" === d || 0 === d.lastIndexOf("ns1:", 0)) a.removeAttributeNode(h), b--, c-- } (e = a.firstChild) && x(e); a = a.nextSibling } } var u = !1; this.$get = ["$$sanitizeUri", function (a) {
            u && l(v, w); return function (e) {
                var b = []; F(e, t(b, function (b, h) {
                    return !/^unsafe:/.test(a(b,
                    h))
                })); return b.join("")
            }
        }]; this.enableSvg = function (a) { return E(a) ? (u = a, this) : u }; C = g.bind; l = g.extend; D = g.forEach; E = g.isDefined; q = g.lowercase; A = g.noop; F = function (a, e) {
            null === a || void 0 === a ? a = "" : "string" !== typeof a && (a = "" + a); f.innerHTML = a; var b = 5; do { if (0 === b) throw B("uinput"); b--; s.document.documentMode && x(f); a = f.innerHTML; f.innerHTML = a } while (a !== f.innerHTML); for (b = f.firstChild; b;) {
                switch (b.nodeType) { case 1: e.start(b.nodeName.toLowerCase(), I(b.attributes)); break; case 3: e.chars(b.textContent) } var c; if (!(c =
                b.firstChild) && (1 === b.nodeType && e.end(b.nodeName.toLowerCase()), c = b.nextSibling, !c)) for (; null == c;) { b = b.parentNode; if (b === f) break; c = b.nextSibling; 1 === b.nodeType && e.end(b.nodeName.toLowerCase()) } b = c
            } for (; b = f.firstChild;) f.removeChild(b)
        }; t = function (a, e) {
            var b = !1, c = C(a, a.push); return {
                start: function (a, d) { a = q(a); !b && z[a] && (b = a); b || !0 !== v[a] || (c("<"), c(a), D(d, function (b, d) { var f = q(d), g = "img" === a && "src" === f || "background" === f; !0 !== m[f] || !0 === n[f] && !e(b, g) || (c(" "), c(d), c('="'), c(G(b)), c('"')) }), c(">")) },
                end: function (a) { a = q(a); b || !0 !== v[a] || !0 === y[a] || (c("</"), c(a), c(">")); a == b && (b = !1) }, chars: function (a) { b || c(G(a)) }
            }
        }; var J = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g, K = /([^#-~ |!])/g, y = k("area,br,col,hr,img,wbr"), d = k("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"), r = k("rp,rt"), p = l({}, r, d), d = l({}, d, k("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")), r = l({}, r, k("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),
        w = k("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"), z = k("script,style"), v = l({}, y, d, r, p), n = k("background,cite,href,longdesc,src,xlink:href"), p = k("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),
        r = k("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",
        !0), m = l({}, n, r, p), f; (function (a) { if (a.document && a.document.implementation) a = a.document.implementation.createHTMLDocument("inert"); else throw B("noinert"); var e = (a.documentElement || a.getDocumentElement()).getElementsByTagName("body"); 1 === e.length ? f = e[0] : (e = a.createElement("html"), f = a.createElement("body"), e.appendChild(f), a.appendChild(e)) })(s)
    }); g.module("ngSanitize").filter("linky", ["$sanitize", function (k) {
        var l = /((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,
        q = /^mailto:/i, x = g.$$minErr("linky"), u = g.isDefined, s = g.isFunction, t = g.isObject, y = g.isString; return function (d, g, p) {
            function w(a) { a && m.push(H(a)) } function z(a, b) { var c, d = v(a); m.push("<a "); for (c in d) m.push(c + '="' + d[c] + '" '); !u(g) || "target" in d || m.push('target="', g, '" '); m.push('href="', a.replace(/"/g, "&quot;"), '">'); w(b); m.push("</a>") } if (null == d || "" === d) return d; if (!y(d)) throw x("notstring", d); for (var v = s(p) ? p : t(p) ? function () { return p } : function () { return {} }, n = d, m = [], f, a; d = n.match(l) ;) f = d[0], d[2] ||
            d[4] || (f = (d[3] ? "http://" : "mailto:") + f), a = d.index, w(n.substr(0, a)), z(f, d[0].replace(q, "")), n = n.substring(a + d[0].length); w(n); return k(m.join(""))
        }
    }])
})(window, window.angular);
//# sourceMappingURL=angular-sanitize.min.js.map

!function (a) { a.fn.progressTracker = function (b) { function d() { if ("viewport" == c.tracking) var b = a(window).scrollTop(); else var b = a(".progress-tracker").offset().top; a(".pt-section").each(function (d) { var e = a(this), f = e.offset().top, g = f + e.outerHeight(), h = e.attr("id"); a.isNumeric(c.positiveTolerance) && (f += c.positiveTolerance, g += c.positiveTolerance), a.isNumeric(c.negativeTolerance) && (f -= c.negativeTolerance, g -= c.negativeTolerance), b >= f && g >= b && (a(".progress-tracker ul li").removeClass("active"), a(".progress-tracker ul li.section-" + h).addClass("active")) }) } function e() { if (!c.displayWhenActive) return !1; var b = a(".progress-tracker"), d = a(".pt-section:first").offset().top, e = a(".pt-section:last").offset().top + a(".pt-section:last").outerHeight(); b.offset().top >= d && b.offset().top <= e ? b.removeClass("hide") : b.addClass("hide") } function g() { a(window).width() <= c.disableBelow ? a(".progress-tracker").hide() : a(".progress-tracker").show() } var c = a.extend({ linking: !0, tooltip: "constant", positiveTolerance: 0, negativeTolerance: 0, displayWhenActive: !0, disableBelow: 0, tracking: "tracker" }, b); if (a("body").append('<div class="progress-tracker"><ul></ul></div>'), a(".pt-section").each(function (b) { var d = a(this), e = d.attr("id"), f = d.data("name") || "", g = "", h = ""; c.linking && (g = '<a class="pt-circle" href="#' + e + '"></a>'), c.tooltip && f.length && (h = "<span class='pt-description'><span>" + f + "</span></span>"), a(".progress-tracker ul").append('<li class="section-' + e + '">' + g + h + "</li>"), a(".progress-tracker").css({ "margin-top": "-" + a(".progress-tracker").height() / 2 + "px" }) }), c.linking && a(".progress-tracker ul li a.pt-circle").on("click", function (b) { b.preventDefault(); var c = a(this).attr("href"); a("html, body").animate({ scrollTop: a(c).offset().top + 1 }, 1e3) }), "hover" == c.tooltip ? a(".progress-tracker ul li").hover(function () { a(this).find(".pt-description").show() }, function () { a(this).find(".pt-description").hide() }) : "constant" == c.tooltip && a(".progress-tracker").addClass("constant"), a(window).scroll(function () { d(), e() }), a(document).ready(function () { d(), e() }), c.disableBelow > 0 && a.isNumeric(c.disableBelow)) { var f; a(window).resize(function () { clearTimeout(f), f = setTimeout(g, 150) }), g() } } }(jQuery);

/* Addtocalendar */
(function (w, d) { var atc_url = "//addtocalendar.com/atc/", atc_version = "1.5", b = d.documentElement; if (!Array.indexOf) { Array.prototype.indexOf = function (e) { for (var t = 0, n = this.length; t < n; t++) { if (this[t] == e) { return t } } return -1 } } if (!Array.prototype.map) { Array.prototype.map = function (e) { var t = []; for (var n = 0, r = this.length; n < r; n++) { t.push(e(this[n])) } return t } } var isArray = function (e) { return Object.prototype.toString.call(e) === "[object Array]" }; var isFunc = function (e) { return Object.prototype.toString.call(e) === "[object Function]" }; var ready = function (e, t) { function u() { if (!n) { if (!t.body) return setTimeout(u, 13); n = true; if (i) { var e, r = 0; while (e = i[r++]) e.call(null); i = null } } } function a() { if (r) return; r = true; if (t.readyState === "complete") return u(); if (t.addEventListener) { t.addEventListener("DOMContentLoaded", s, false); e.addEventListener("load", u, false) } else { if (t.attachEvent) { t.attachEvent("onreadystatechange", s); e.attachEvent("onload", u); var n = false; try { n = e.frameElement == null } catch (i) { } if (b.doScroll && n) f() } else { o = e.onload; e.onload = function (e) { o(e); u() } } } } function f() { if (n) return; try { b.doScroll("left") } catch (e) { setTimeout(f, 1); return } u() } var n = false, r = false, i = [], s, o; if (t.addEventListener) { s = function () { t.removeEventListener("DOMContentLoaded", s, false); u() } } else { if (t.attachEvent) { s = function () { if (t.readyState === "complete") { t.detachEvent("onreadystatechange", s); u() } } } } return function (e) { a(); if (n) { e.call(null) } else { i.push(e) } } }(w, d); if (w.addtocalendar && typeof w.addtocalendar.start == "function") return; if (!w.addtocalendar) w.addtocalendar = {}; addtocalendar.languages = { de: "In den Kalender", en: "Add to Calendar", es: "Añadir al Calendario", fr: "Ajouter au calendrier", hi: "कैलेंडर में जोड़ें", "in": "Tambahkan ke Kalender", ja: "カレンダーに追加", ko: "캘린더에 추가", pt: "Adicionar ao calendário", ru: "Добавить в календарь", uk: "Додати в календар", zh: "添加到日历" }; addtocalendar.calendar_urls = {}; addtocalendar.loadSettings = function (element) { var settings = { language: "auto", "show-list-on": "click", calendars: ["iCalendar", "Google Calendar", "Outlook", "Outlook Online", "Yahoo! Calendar"], secure: "auto", "on-button-click": function () { }, "on-calendar-click": function () { } }; for (var option in settings) { var pname = "data-" + option; var eattr = element.getAttribute(pname); if (eattr != null) { if (isArray(settings[option])) { settings[option] = eattr.replace(/\s*,\s*/g, ",").replace(/^\s+|\s+$/g, "").split(","); continue } if (isFunc(settings[option])) { var fn = window[eattr]; if (isFunc(fn)) { settings[option] = fn } else { settings[option] = eval("(function(mouseEvent){" + eattr + "})") } continue } settings[option] = element.getAttribute(pname) } } return settings }; addtocalendar.load = function () { ready(function () { var e = { iCalendar: "ical", "Google Calendar": "google", Outlook: "outlook", "Outlook Online": "outlookonline", "Yahoo! Calendar": "yahoo" }; var t = -(new Date).getTimezoneOffset().toString(); var n = addtocalendar.languages; var r = document.getElementsByTagName("*"); for (var i = 0; i < r.length; i++) { var s = r[i].className; if (s.length && s.split(" ").indexOf("addtocalendar") != -1) { var o = addtocalendar.loadSettings(r[i]); var u = o["calendars"].length == 1; var a = "http:"; if (o["secure"] == "auto") { a = location.protocol == "https:" ? "https:" : "http:" } else if (o["secure"] == "true") { a = "https:" }; var l = r[i].id; var c = n["en"]; if (o["language"] == "auto") { var h = "no_lang"; if (typeof navigator.language === "string") { h = navigator.language.substr(0, 2) } else if (typeof navigator.browserLanguage === "string") { h = navigator.browserLanguage.substr(0, 2) } if (n.hasOwnProperty(h)) { c = n[h] } } else if (n.hasOwnProperty(o["language"])) { c = n[o["language"]] } var p = ["utz=" + t, "uln=" + navigator.language, "vjs=" + atc_version]; var d = r[i].getElementsByTagName("var"); var v = -1; for (var m = 0; m < d.length; m++) { var g = d[m].className.replace("atc_", "").split(" ")[0]; var y = d[m].innerHTML; if (g == "event") { v++; continue } if (g == d[m].className) { if (g == "atc-body") { c = y } continue } if (v == -1) { continue } p.push("e[" + v + "][" + g + "]" + "=" + encodeURIComponent(y)) } var b = l == "" ? "" : l + "_link"; var w = document.createElement("ul"); w.className = "atcb-list"; var E = ""; var S = ""; for (var x in o["calendars"]) { if (!e.hasOwnProperty(o["calendars"][x])) { continue } var T = e[o["calendars"][x]]; var N = l == "" ? "" : 'id="' + l + "_" + T + '_link"'; var C = ((T == 'ical' && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream ? 'webcal:' : a) + atc_url) + T + "?" + p.join("&"); if (u) { S = C } else { E += '<li class="atcb-item"><a ' + N + ' class="atcb-item-link" href="' + C + '" target="_blank">' + o["calendars"][x] + "</a></li>" } } w.innerHTML = E; if (r[i].getElementsByClassName("atcb-link")[0] == undefined) { var k = document.createElement("a"); k.className = "atcb-link"; k.innerHTML = c; k.id = b; k.tabIndex = 1; if (u) { k.href = S; k.target = "_blank" } r[i].appendChild(k); if (!u) { r[i].appendChild(w) } } else { var k = r[i].getElementsByClassName("atcb-link")[0]; if (!u) { k.parentNode.appendChild(w) } k.tabIndex = 1; if (k.id == "") { k.id = b } if (u) { k.href = S; k.target = "_blank" } } r[i].getElementsByClassName("atcb-link")[0].addEventListener("click", o["on-button-click"], false); var L = r[i].getElementsByClassName("atcb-item-link"); for (var m = 0; m < L.length; m++) { L[m].addEventListener("click", o["on-calendar-click"], false) } } } }) }; addtocalendar.load() })(window, document);



/** @preserve
 *
 * slippry v1.4.0 - Responsive content slider for jQuery
 * http://slippry.com
 *
 * Authors: Lukas Jakob Hafner - @saftsaak
 *          Thomas Hurd - @SeenNotHurd
 *
 * Copyright 2016, booncon oy - http://booncon.com
 *
 *
 * Released under the MIT license - http://opensource.org/licenses/MIT
 */
/**
 * slippry v1.1.1 - Simple responsive content slider
 * http://slippry.com
 *
 * Author(s): Lukas Jakob Hafner - @saftsaak 
 *
 * Copyright 2013, booncon oy - http://booncon.com
 *
 * Thanks @ http://bxslider.com for the inspirati
 *
 * Released under the MIT license - http://opensource.org/licenses/MIT
 */

(function ($) {
    "use strict";
    var defaults;

    defaults = {
        // general elements & wrapper
        slippryWrapper: '<div class="sy-box" />', // wrapper to wrap everything, including pager
        slideWrapper: '<div class="sy-slides-wrap" />', // wrapper to wrap sildes & controls
        slideCrop: '<div class="sy-slides-crop" />', //additional wrapper around just the slides
        boxClass: 'sy-list', // class that goes to original element
        elements: 'li', // elments cointaining slide content
        activeClass: 'sy-active', // class for current slide
        fillerClass: 'sy-filler', // class for element that acts as intrinsic placholder
        loadingClass: 'sy-loading',

        // options
        adaptiveHeight: true, // height of the sliders adapts to current slide
        start: 1, // num (starting from 1), random
        loop: true, // first -> last & last -> first arrows
        captionsSrc: 'img', // img, el [img takes caption from alt or title, el from title of slide element]
        captions: 'overlay', // Position: overlay, below, custom, false
        captionsEl: '.sy-caption', // $ selector for captions wrapper
        initSingle: true, // initialise even if there is only one slide
        responsive: true,

        // pager
        pager: true,
        pagerClass: 'sy-pager',

        // controls
        controls: true,
        controlClass: 'sy-controls',
        prevClass: 'sy-prev',
        prevText: 'Previous',
        nextClass: 'sy-next',
        nextText: 'Next',
        hideOnEnd: true,

        // transitions
        transition: 'fade', // fade, horizontal, kenburns, false
        kenZoom: 120, // max zoom for kenburns (in %)
        slideMargin: 0, // spacing between slides (in %)
        transClass: 'transition', // [Class applied to [element] while a transition is taking place.]
        speed: 800, // time the transition takes (ms)
        easing: 'swing', // easing to use in the animation [(see... [jquery www])]
        continuous: true, // seamless first/ last transistion, only works with loop
        useCSS: true, // true, false -> fallback to js if no browser support

        //slideshow
        auto: true,
        autoDirection: 'next',
        autoHover: true,
        autoHoverDelay: 100,
        autoDelay: 500,
        pause: 4000,

        // callback functions
        onSliderLoad: function () { // when slider loaded
            return this;
        },
        onSlideBefore: function () { // before page transition starts
            return this;
        },
        onSlideAfter: function () {  // after page transition happened
            return this;
        }
    };

    $.fn.slippry = function (options) {
        var slip, el, prepareFiller, getFillerProportions, init, updateCaption, initPager, initControls, ready, transitionDone, whichTransitionEvent,
          initCaptions, updatePager, setFillerProportions, doTransition, updateSlide, updateControls, updatePos, supports, preload, start, elFromSel, doKens;

        // reference to the object calling the function
        el = this;

        // if no elements just stop
        if (el.length === 0) {
            return this;
        }
        // support mutltiple elements
        if (el.length > 1) {
            el.each(function () {
                $(this).slippry(options);
            });
            return this;
        }

        // variable to access the slider settings across the plugin
        slip = {};
        slip.vars = {};

        whichTransitionEvent = function () { // Thanks! http://stackoverflow.com/a/18672988
            var t, div, transitions;
            div = document.createElement('div');
            transitions = {
                'WebkitTransition': 'webkitTransitionEnd',
                'MozTransition': 'transitionend',
                'MSTransition': 'msTransitionEnd',
                'OTransition': 'oTransitionEnd',
                'transition': 'transitionEnd transitionend'
            };
            for (t in transitions) {
                if (div.style[t] !== undefined) {
                    return transitions[t];
                }
            }
        };

        supports = (function () {  // Thanks! http://net.tutsplus.com/tutorials/html-css-techniques/quick-tip-detect-css-support-in-browsers-with-javascript/
            var div = document.createElement('div'),
              vendors = ['Khtml', 'Ms', 'O', 'Moz', 'Webkit'],
              len = vendors.length;
            return function (prop) {
                if (prop in div.style) {
                    return true;
                }
                prop = prop.replace(/^[a-z]/, function (val) {
                    return val.toUpperCase();
                });
                while (len--) {
                    if (vendors[len] + prop in div.style) {
                        return true;
                    }
                }
                return false;
            };
        }());

        elFromSel = function (sel, prop) {
            var props, newelement, id, className;
            props = prop.split('.');
            newelement = $(sel);
            id = '';
            className = '';
            $.each(props, function (i, val) {
                if (val.indexOf('#') >= 0) {
                    id += val.replace(/^#/, '');
                } else {
                    className += val + ' ';
                }
            });
            if (id.length) {
                newelement.attr('id', id);
            }
            if (className.length) {
                newelement.attr('class', className.trim());
            }
            return newelement;
        };

        doKens = function () {
            var kenStart, kenTime, animProp, cssProp;
            animProp = {};
            cssProp = {};
            kenStart = 100 - slip.settings.kenZoom;
            cssProp.width = slip.settings.kenZoom + '%';
            if (slip.vars.active.index() % 2 === 0) {
                cssProp.left = kenStart + '%';
                cssProp.top = kenStart + '%';
                animProp.left = '0%';
                animProp.top = '0%';
            } else {
                cssProp.left = '0%';
                cssProp.top = '0%';
                animProp.left = kenStart + '%';
                animProp.top = kenStart + '%';
            }
            kenTime = slip.settings.pause + slip.settings.speed * 2;
            slip.vars.active.css(cssProp);
            slip.vars.active.animate(animProp, { duration: kenTime, easing: slip.settings.easing, queue: false });
        };

        ready = function () {
            if (slip.vars.fresh) {
                slip.vars.slippryWrapper.removeClass(slip.settings.loadingClass);
                slip.vars.fresh = false;
                if (slip.settings.auto) {
                    el.startAuto();
                }
                if (!slip.settings.useCSS && slip.settings.transition === 'kenburns') {
                    doKens();
                }
                slip.settings.onSliderLoad.call(undefined, slip.vars.active.index());
            } else {
                $('.' + slip.settings.fillerClass, slip.vars.slideWrapper).addClass('ready');
            }
        };

        setFillerProportions = function (width, height) {
            var ratio, p_top, $filler;
            ratio = width / height;
            p_top = 1 / ratio * 100 + '%';  //cool intrinsic trick: http://alistapart.com/article/creating-intrinsic-ratios-for-video
            $filler = $('.' + slip.settings.fillerClass, slip.vars.slideWrapper);
            $filler.css({ paddingTop: p_top }); // resizing without the need of js, true responsiveness :)
            ready();
        };

        // gets the aspect ratio of the filler element
        getFillerProportions = function ($slide) {
            var width, height;
            if (($('img', $slide).attr("src") !== undefined)) {
                $("<img />").load(function () {
                    width = $slide.width();
                    height = $slide.height();
                    setFillerProportions(width, height);
                }).attr("src", $('img', $slide).attr("src"));
            } else {
                width = $slide.width();
                height = $slide.height();
                setFillerProportions(width, height);
            }
        };

        // prepares a div to occupy the needed space
        prepareFiller = function () {
            if ($('.' + slip.settings.fillerClass, slip.vars.slideWrapper).length === 0) {
                slip.vars.slideWrapper.append($('<div class="' + slip.settings.fillerClass + '" />'));
            }
            if (slip.settings.adaptiveHeight === true) {  // if the slides shoud alwas adapt to their content
                getFillerProportions($('.' + slip.settings.activeClass, el));  // set the filler height on the active element
            } else {  // otherwise get the highest element
                var $highest, height, loop;
                height = 0;
                loop = 0;
                $(slip.vars.slides).each(function () {
                    if ($(this).height() > height) {
                        $highest = $(this);
                        height = $highest.height();
                    }
                    loop = loop + 1;
                    if (loop === slip.vars.count) {
                        if ($highest === undefined) {
                            $highest = $($(slip.vars.slides)[0]);
                        }
                        getFillerProportions($highest);
                    }
                });
            }
        };

        updatePager = function () {
            if (slip.settings.pager) {
                $('.' + slip.settings.pagerClass + ' li', slip.vars.slippryWrapper).removeClass(slip.settings.activeClass);
                $($('.' + slip.settings.pagerClass + ' li', slip.vars.slippryWrapper)[slip.vars.active.index()]).addClass(slip.settings.activeClass);
            }
        };

        updateControls = function () {
            if (!slip.settings.loop && slip.settings.hideOnEnd) {
                $('.' + slip.settings.prevClass, slip.vars.slippryWrapper)[slip.vars.first ? 'hide' : 'show']();
                $('.' + slip.settings.nextClass, slip.vars.slippryWrapper)[slip.vars.last ? 'hide' : 'show']();
            }
        };

        updateCaption = function () {
            var caption, wrapper;
            if (slip.settings.captions !== false) {
                if (slip.settings.captionsSrc !== 'img') {
                    caption = slip.vars.active.attr('title');
                } else {
                    caption = $('img', slip.vars.active).attr('title') !== undefined ? $('img', slip.vars.active).attr('title') : $('img', slip.vars.active).attr('alt');
                }
                if (slip.settings.captions !== 'custom') {
                    wrapper = $(slip.settings.captionsEl, slip.vars.slippryWrapper);
                } else {
                    wrapper = $(slip.settings.captionsEl);
                }
                if ((caption !== undefined) && (caption !== '')) {
                    wrapper.html(caption).show();
                } else {
                    wrapper.hide();
                }
            }
        };

        el.startAuto = function () {
            if ((slip.vars.timer === undefined) && (slip.vars.delay === undefined)) {
                slip.vars.delay = window.setTimeout(function () {
                    slip.vars.autodelay = false;
                    slip.vars.timer = window.setInterval(function () {
                        slip.vars.trigger = 'auto';
                        el.goToSlide(slip.settings.autoDirection);
                    }, slip.settings.pause);
                }, slip.vars.autodelay ? slip.settings.autoHoverDelay : slip.settings.autoDelay);
            }
            if (slip.settings.autoHover) {
                slip.vars.slideWrapper.unbind('mouseenter').unbind('mouseleave').bind('mouseenter', function () {
                    if (slip.vars.timer !== undefined) {
                        slip.vars.hoverStop = true;
                        el.stopAuto();
                    } else {
                        slip.vars.hoverStop = false;
                    }
                }).bind('mouseleave', function () {
                    if (slip.vars.hoverStop) {
                        slip.vars.autodelay = true;
                        el.startAuto();
                    }
                });
            }
        };

        el.stopAuto = function () {
            window.clearInterval(slip.vars.timer);
            slip.vars.timer = undefined;
            window.clearTimeout(slip.vars.delay);
            slip.vars.delay = undefined;
        };

        // refreshes the already initialised slider
        el.refresh = function () {
            slip.vars.slides.removeClass(slip.settings.activeClass);
            slip.vars.active.addClass(slip.settings.activeClass);
            if (slip.settings.responsive) {
                prepareFiller();
            } else {
                ready();
            }
            updateControls();
            updatePager();
            updateCaption();
        };

        updateSlide = function () {
            el.refresh();
        };

        transitionDone = function () {
            slip.vars.moving = false;
            slip.vars.active.removeClass(slip.settings.transClass);
            if (!slip.vars.fresh) {
                slip.vars.old.removeClass('sy-ken');
            }
            slip.vars.old.removeClass(slip.settings.transClass);
            slip.settings.onSlideAfter.call(undefined, slip.vars.active, slip.vars.old.index(), slip.vars.active.index());
        };

        doTransition = function () {
            var pos, jump, old_left, old_pos, kenTime;
            slip.settings.onSlideBefore.call(undefined, slip.vars.active, slip.vars.old.index(), slip.vars.active.index());
            if (slip.settings.transition !== false) {
                slip.vars.moving = true;
                if ((slip.settings.transition === 'fade') || (slip.settings.transition === 'kenburns')) {
                    if (slip.vars.fresh) {
                        if (slip.settings.useCSS) {
                            slip.vars.slides.css({ transitionDuration: slip.settings.speed + 'ms', opacity: 0 });
                        } else {
                            slip.vars.slides.css({ opacity: 0 });
                        }
                        slip.vars.active.css('opacity', 1);
                        if (slip.settings.transition === 'kenburns') {
                            if (slip.settings.useCSS) {
                                kenTime = slip.settings.pause + slip.settings.speed * 2;
                                slip.vars.slides.css({ animationDuration: kenTime + 'ms' });
                                slip.vars.active.addClass('sy-ken');
                            }
                        }
                        transitionDone();
                    } else {
                        if (slip.settings.useCSS) {
                            slip.vars.old.addClass(slip.settings.transClass).css('opacity', 0);
                            slip.vars.active.addClass(slip.settings.transClass).css('opacity', 1);
                            if (slip.settings.transition === 'kenburns') {
                                slip.vars.active.addClass('sy-ken');
                            }
                            $(window).off('focus').on('focus', function () { // bugfix for safari 7 which doesn't always trigger ontransitionend when switching tab
                                if (slip.vars.moving) {
                                    slip.vars.old.trigger(slip.vars.transition);
                                }
                            });
                            slip.vars.old.one(slip.vars.transition, function () {
                                transitionDone();
                                return this;
                            });
                        } else {
                            if (slip.settings.transition === 'kenburns') {
                                doKens();
                            }
                            slip.vars.old.addClass(slip.settings.transClass).animate({
                                opacity: 0
                            }, slip.settings.speed, slip.settings.easing, function () {
                                transitionDone();
                            });
                            slip.vars.active.addClass(slip.settings.transClass).css('opacity', 0).animate({
                                opacity: 1
                            }, slip.settings.speed, slip.settings.easing);
                        }
                    }
                    updateSlide();
                } else if (slip.settings.transition === 'horizontal') {
                    pos = '-' + slip.vars.active.index() * (100 + slip.settings.slideMargin) + '%';
                    if (slip.vars.fresh) {
                        el.css('left', pos);
                        transitionDone();
                    } else {
                        if (slip.settings.continuous) {
                            if (slip.vars.jump && ((slip.vars.trigger === 'controls') || (slip.vars.trigger === 'auto'))) {
                                jump = true;
                                old_pos = pos;
                                if (slip.vars.first) {
                                    old_left = 0;
                                    slip.vars.active.css('left', slip.vars.count * (100 + slip.settings.slideMargin) + '%');
                                    pos = '-' + slip.vars.count * (100 + slip.settings.slideMargin) + '%';
                                } else {
                                    old_left = (slip.vars.count - 1) * (100 + slip.settings.slideMargin) + '%';
                                    slip.vars.active.css('left', -(100 + slip.settings.slideMargin) + '%');
                                    pos = (100 + slip.settings.slideMargin) + '%';
                                }
                            }
                        }
                        slip.vars.active.addClass(slip.settings.transClass);
                        if (slip.settings.useCSS) {
                            el.addClass(slip.settings.transition);
                            el.css({ left: pos, transitionDuration: slip.settings.speed + 'ms' });
                            $(window).off('focus').on('focus', function () { // bugfix for safari 7 which doesn't always trigger ontransitionend when switching tab
                                if (slip.vars.moving) {
                                    el.trigger(slip.vars.transition);
                                }
                            });
                            el.one(slip.vars.transition, function () {
                                el.removeClass(slip.settings.transition);
                                if (jump) {
                                    slip.vars.active.css('left', old_left);
                                    el.css({ left: old_pos, transitionDuration: '0ms' });
                                }
                                transitionDone();
                                return this;
                            });
                        } else {
                            el.stop().animate({
                                left: pos
                            }, slip.settings.speed, slip.settings.easing, function () {
                                if (jump) {
                                    slip.vars.active.css('left', old_left);
                                    el.css('left', old_pos);
                                }
                                transitionDone();
                                return this;
                            });
                        }
                    }
                    updateSlide();
                }
            } else {
                updateSlide();
                transitionDone();
            }
        };

        updatePos = function (slide) {
            slip.vars.first = false;
            slip.vars.last = false;
            if ((slide === 'prev') || (slide === 0)) {
                slip.vars.first = true;
            } else if ((slide === 'next') || (slide === slip.vars.count - 1)) {
                slip.vars.last = true;
            }
        };

        el.goToSlide = function (slide) {
            var current;
            if (!slip.vars.moving) {
                current = slip.vars.active.index();
                if (slide === 'prev') {
                    if (current > 0) {
                        slide = current - 1;
                    } else if (slip.settings.loop) {
                        slide = slip.vars.count - 1;
                    }
                } else if (slide === 'next') {
                    if (current < slip.vars.count - 1) {
                        slide = current + 1;
                    } else if (slip.settings.loop) {
                        slide = 0;
                    }
                } else {
                    slide = slide - 1;
                }
                slip.vars.jump = false;
                if ((slide !== 'prev') && (slide !== 'next') && ((slide !== current) || (slip.vars.fresh))) {
                    updatePos(slide);
                    slip.vars.old = slip.vars.active;
                    slip.vars.active = $(slip.vars.slides[slide]);
                    if (((current === 0) && (slide === slip.vars.count - 1)) || ((current === slip.vars.count - 1) && (slide === 0))) {
                        slip.vars.jump = true;
                    }
                    doTransition();
                }
            }
        };

        el.goToNextSlide = function () {
            el.goToSlide('next');
        };

        el.goToPrevSlide = function () {
            el.goToSlide('prev');
        };

        initPager = function () {
            if ((slip.settings.pager) && (slip.vars.count > 1)) {
                var count, loop, pager;
                count = slip.vars.slides.length;
                pager = $('<ul class="' + slip.settings.pagerClass + '" />');
                for (loop = 1; loop < count + 1; loop = loop + 1) {
                    pager.append($('<li />').append($('<a href="#' + loop + '">' + loop + '</a>')));
                }
                slip.vars.slippryWrapper.append(pager);
                $('.' + slip.settings.pagerClass + ' a', slip.vars.slippryWrapper).click(function () {
                    slip.vars.trigger = 'pager';
                    el.goToSlide(parseInt(this.hash.split('#')[1], 10));
                    return false;
                });
                updatePager();
            }
        };

        initControls = function () {
            if ((slip.settings.controls) && (slip.vars.count > 1)) {
                slip.vars.slideWrapper.append(
                  $('<ul class="' + slip.settings.controlClass + '" />')
                    .append('<li class="' + slip.settings.prevClass + '"><a href="#prev">' + slip.settings.prevText + '</a></li>')
                    .append('<li class="' + slip.settings.nextClass + '"><a href="#next">' + slip.settings.nextText + '</a></li>')
                );
                $('.' + slip.settings.controlClass + ' a', slip.vars.slippryWrapper).click(function () {
                    slip.vars.trigger = 'controls';
                    el.goToSlide(this.hash.split('#')[1]);
                    return false;
                });
                updateControls();
            }
        };

        initCaptions = function () {
            if (slip.settings.captions !== false) {
                if (slip.settings.captions === 'overlay') {
                    slip.vars.slideWrapper.append($('<div class="sy-caption-wrap" />').html(elFromSel('<div />', slip.settings.captionsEl)));
                } else if (slip.settings.captions === 'below') {
                    slip.vars.slippryWrapper.append($('<div class="sy-caption-wrap" />').html(elFromSel('<div />', slip.settings.captionsEl)));
                }
            }
        };

        // actually show the first slide
        start = function () {
            el.goToSlide(slip.vars.active.index() + 1);
        };

        // wait for images, iframes to be loaded
        preload = function (slides) {
            var count, loop, elements;
            elements = $('img, iframe', slides);
            count = elements.length;
            if (count === 0) {
                start();
                return;
            }
            loop = 0;
            elements.each(function () {
                $(this).one('load error', function () {
                    if (++loop === count) {
                        start();
                    }
                }).each(function () {
                    if (this.complete) {
                        $(this).load();
                    }
                });
            });
        };

        el.getCurrentSlide = function () {
            return slip.vars.active;
        };

        el.getSlideCount = function () {
            return slip.vars.count;
        };

        el.destroySlider = function () {
            if (slip.vars.fresh === false) {
                el.stopAuto();
                slip.vars.moving = false;
                slip.vars.slides.each(function () {
                    if ($(this).data("sy-cssBckup") !== undefined) {
                        $(this).attr("style", $(this).data("sy-cssBckup"));
                    } else {
                        $(this).removeAttr('style');
                    }
                    if ($(this).data("sy-classBckup") !== undefined) {
                        $(this).attr("class", $(this).data("sy-classBckup"));
                    } else {
                        $(this).removeAttr('class');
                    }
                });
                if (el.data("sy-cssBckup") !== undefined) {
                    el.attr("style", el.data("sy-cssBckup"));
                } else {
                    el.removeAttr('style');
                }
                if (el.data("sy-classBckup") !== undefined) {
                    el.attr("class", el.data("sy-classBckup"));
                } else {
                    el.removeAttr('class');
                }
                slip.vars.slippryWrapper.before(el);
                slip.vars.slippryWrapper.remove();
                slip.vars.fresh = undefined;
            }
        };

        el.reloadSlider = function () {
            el.destroySlider();
            init();
        };

        // initialises the slider, creates needed markup
        init = function () {
            var first;
            slip.settings = $.extend({}, defaults, options);
            slip.vars.slides = $(slip.settings.elements, el);
            slip.vars.count = slip.vars.slides.length;
            if (slip.settings.useCSS) { // deactivate css transitions on unsupported browsers
                if (!supports('transition')) {
                    slip.settings.useCSS = false;
                }
                slip.vars.transition = whichTransitionEvent();
            }
            el.data('sy-cssBckup', el.attr('style'));
            el.data('sy-classBackup', el.attr('class'));
            el.addClass(slip.settings.boxClass).wrap(slip.settings.slippryWrapper).wrap(slip.settings.slideWrapper).wrap(slip.settings.slideCrop);
            slip.vars.slideWrapper = el.parent().parent();
            slip.vars.slippryWrapper = slip.vars.slideWrapper.parent().addClass(slip.settings.loadingClass);
            slip.vars.fresh = true;
            slip.vars.slides.each(function () {
                $(this).addClass('sy-slide ' + slip.settings.transition);
                if (slip.settings.useCSS) {
                    $(this).addClass('useCSS');
                }
                if (slip.settings.transition === 'horizontal') {
                    $(this).css('left', $(this).index() * (100 + slip.settings.slideMargin) + '%');
                }
            });
            if ((slip.vars.count > 1) || (slip.settings.initSingle)) {
                if ($('.' + slip.settings.activeClass, el).index() === -1) {
                    if (slip.settings.start === 'random') {
                        first = Math.round(Math.random() * (slip.vars.count - 1));
                    } else if (slip.settings.start > 0 && slip.settings.start <= slip.vars.count) {
                        first = slip.settings.start - 1;
                    } else {
                        first = 0;
                    }
                    slip.vars.active = $(slip.vars.slides[first]).addClass(slip.settings.activeClass);
                } else {
                    slip.vars.active = $('.' + slip.settings.activeClass, el);
                }
                initControls();
                initPager();
                initCaptions();
                preload(slip.vars.slides);
            } else {
                return this;
            }
        };

        init(); // on startup initialise the slider

        return this;
    };
}(jQuery));

/*!
 * webTicker 1.3
 * Examples and documentation at: 
 * http://jonmifsud.com
 * 2011 Jonathan Mifsud
 * Version: 1.2 (26-JUNE-2011)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Requires:
 * jQuery v1.4.2 or later
 * 
 */
(function ($) {

    var globalSettings = new Array();

    var methods = {
        init: function (settings) { // THIS 
            settings = jQuery.extend({
                travelocity: 0.05,
                direction: 1,
                moving: true
            }, settings);
            globalSettings[jQuery(this).attr('id')] = settings;
            return this.each(function () {
                var $strip = jQuery(this);
                $strip.addClass("newsticker")
                var stripWidth = 0;
                var $mask = $strip.wrap("<div class='mask'></div>");
                $mask.after("<span class='tickeroverlay-left'>&nbsp;</span><span class='tickeroverlay-right'>&nbsp;</span>")
                var $tickercontainer = $strip.parent().wrap("<div class='tickercontainer'></div>");
                $strip.find("li").each(function (i) {
                    stripWidth += jQuery(this, i).outerWidth(true);
                });
                $strip.width(stripWidth + 200); //200 used for ie9 fix                    


                function scrollnews(spazio, tempo) {
                    if (settings.direction == 1) $strip.animate({
                        left: '-=' + spazio
                    }, tempo, "linear", function () {
                        $strip.children().last().after($strip.children().first());
                        var first = $strip.children().first();
                        var width = first.outerWidth(true);
                        var defTiming = width / settings.travelocity;
                        //$strip.css("left", left);
                        $strip.css("left", '0');
                        scrollnews(width, defTiming);
                    });
                    else $strip.animate({
                        right: '-=' + spazio
                    }, tempo, "linear", function () {
                        $strip.children().last().after($strip.children().first());
                        var first = $strip.children().first();
                        var width = first.outerWidth(true);
                        var defTiming = width / settings.travelocity;
                        //$strip.css("left", left);
                        $strip.css("right", '0');
                        scrollnews(width, defTiming);
                    });
                }

                var first = $strip.children().first();
                var travel = first.outerWidth(true);
                var timing = travel / settings.travelocity;
                scrollnews(travel, timing);
                $strip.hover(function () {
                    jQuery(this).stop();
                }, function () {
                    if (globalSettings[jQuery(this).attr('id')].moving) {
                        var offset = jQuery(this).offset();
                        var first = $strip.children().first();
                        var width = first.outerWidth(true);
                        var residualSpace;
                        if (settings.direction == 1) residualSpace = parseInt(jQuery(this).css('left').replace('px', '')) + width;
                        else residualSpace = parseInt(jQuery(this).css('right').replace('px', '')) + width;
                        var residualTime = residualSpace / settings.travelocity;
                        scrollnews(residualSpace, residualTime);
                    }
                });
            });
        },
        stop: function () {
            if (globalSettings[jQuery(this).attr('id')].moving) {
                globalSettings[jQuery(this).attr('id')].moving = false;
                return this.each(function () {
                    jQuery(this).stop();
                });
            }
        },
        cont: function () { // GOOD     
            if (!(globalSettings[jQuery(this).attr('id')].moving)) {
                globalSettings[jQuery(this).attr('id')].moving = true;
                var settings = globalSettings[jQuery(this).attr('id')];
                return this.each(function () {
                    var $strip = jQuery(this);

                    function scrollnews(spazio, tempo) {
                        if (settings.direction == 1) $strip.animate({
                            left: '-=' + spazio
                        }, tempo, "linear", function () {
                            $strip.children().last().after($strip.children().first());
                            var first = $strip.children().first();
                            var width = first.outerWidth(true);
                            var defTiming = width / settings.travelocity;
                            //$strip.css("left", left);
                            $strip.css("left", '0');
                            scrollnews(width, defTiming);
                        });
                        else $strip.animate({
                            right: '-=' + spazio
                        }, tempo, "linear", function () {
                            $strip.children().last().after($strip.children().first());
                            var first = $strip.children().first();
                            var width = first.outerWidth(true);
                            var defTiming = width / settings.travelocity;
                            //$strip.css("left", left);
                            $strip.css("right", '0');
                            scrollnews(width, defTiming);
                        });

                    }
                    var offset = jQuery(this).offset();
                    var first = $strip.children().first();
                    var width = first.outerWidth(true);
                    var residualSpace;
                    if (settings.direction == 1) residualSpace = parseInt(jQuery(this).css('left').replace('px', '')) + width;
                    else residualSpace = parseInt(jQuery(this).css('right').replace('px', '')) + width;
                    var residualTime = residualSpace / settings.travelocity;
                    scrollnews(residualSpace, residualTime);

                });
            }
        }
    };

    $.fn.webTicker = function (method) {

        // Method calling logic
        if (methods[method]) {
            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));
        } else if (typeof method === 'object' || !method) {
            return methods.init.apply(this, arguments);
        } else {
            $.error('Method ' + method + ' does not exist on jQuery.webTicker');
        }

    };

})(jQuery);

/*
*
* jQuery listnav plugin
* Copyright (c) 2009 iHwy, Inc.
* Author: Jack Killpatrick
*
* Version 2.1 (08/09/2009)
* Requires jQuery 1.3.2, jquery 1.2.6 or jquery 1.2.x plus the jquery dimensions plugin
*
* Visit http://www.ihwy.com/labs/jquery-listnav-plugin.aspx for more information.
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*
*/

(function ($) {
    $.fn.listnav = function (options) {
        var opts = $.extend({}, $.fn.listnav.defaults, options);
        var letters = opts.letters;
        var firstClick = false;
        var sAllTitle = opts.allTitle;
        opts.prefixes = $.map(opts.prefixes, function (n) { return n.toLowerCase(); });

        return this.each(function () {
            var $wrapper, list, $list, $letters, $letterCount, id;
            id = this.id;
            $wrapper = $('#' + id + '-nav'); // user must abide by the convention: <ul id="myList"> for list and <div id="myList-nav"> for nav wrapper
            $list = $(this);

            var counts = {}, allCount = 0, isAll = true, numCount = 0, prevLetter = '';

            function init() {
                $wrapper.append(createLettersHtml());

                $letters = $('.ln-letters', $wrapper).slice(0, 1); // will always be a single item
                if (opts.showCounts) $letterCount = $('.ln-letter-count', $wrapper).slice(0, 1); // will always be a single item

                addClasses();
                addNoMatchLI();
                if (opts.flagDisabled) addDisabledClass();
                bindHandlers();

                if (!opts.includeAll) $list.show(); // show the list in case the recommendation for includeAll=false was taken

                // remove nav items we don't need
                //
                if (!opts.includeAll) $('.all', $letters).remove();
                if (!opts.includeNums) $('._', $letters).remove();
                if (!opts.includeOther) $('.-', $letters).remove();

                $(':last', $letters).addClass('ln-last'); // allows for styling a case where last item needs right border set (because items before that only have top, left and bottom so that border between items isn't doubled)

                if ($.cookie && (opts.cookieName != null)) {
                    var cookieLetter = $.cookie(opts.cookieName);
                    if (cookieLetter != null) opts.initLetter = cookieLetter;
                }

                // decide what to show first
                //
                if (opts.initLetter != '') {
                    firstClick = true;
                    $('.' + opts.initLetter.toLowerCase(), $letters).slice(0, 1).click(); // click the initLetter if there was one
                }
                else {
                    if (opts.includeAll) $('.all', $letters).addClass('ln-selected'); // showing all: we don't need to click this: the whole list is already loaded
                    else { // ALL link is hidden, click the first letter that will display LI's
                        for (var i = ((opts.includeNums) ? 0 : 1) ; i < letters.length; i++) {
                            if (counts[letters[i]] > 0) {
                                firstClick = true;
                                $('.' + letters[i], $letters).slice(0, 1).click();
                                break;
                            }
                        }
                    }
                }
            }

            // positions the letter count div above the letter links (so we only have to do it once: after this we just change it's left position via mouseover)
            //
            function setLetterCountTop() {
                //$letterCount.css({ top: $('.a', $letters).slice(0, 1).offset({ margin: false, border: true }).top - $letterCount.outerHeight({ margin: true }) }); // note: don't set top based on '.all': it might not be visible
                $letterCount.css({ top: $wrapper.offset({ margin: false, border: true }).top - $letterCount.outerHeight({ margin: true }) });
            }

            // adds a class to each LI that has text content inside of it (ie, inside an <a>, a <div>, nested DOM nodes, etc)
            //
            function addClasses() {
                var str, firstChar, firstWord, spl, $this, hasPrefixes = (opts.prefixes.length > 0);
                $($list).children().each(function () {
                    $this = $(this), firstChar = '', str = $.trim($this.text()).toLowerCase();

                    if (str != '') {
                        if (hasPrefixes) {
                            spl = str.split(' ');
                            if ((spl.length > 1) && ($.inArray(spl[0], opts.prefixes) > -1)) {
                                firstChar = spl[1].charAt(0);
                                addLetterClass(firstChar, $this, true);
                            }
                        }
                        firstChar = str.charAt(0);
                        addLetterClass(firstChar, $this);
                    }
                });
            }

            function addLetterClass(firstChar, $el, isPrefix) {
                //alert(firstChar);
                //if (/\W/.test(firstChar)) firstChar = '-'; // not A-Z, a-z or 0-9, so considered "other"
                //if (!isNaN(firstChar)) firstChar = '_'; // use '_' if the first char is a number
                $el.addClass('ln-' + firstChar);

                if (counts[firstChar] == undefined) counts[firstChar] = 0;
                counts[firstChar]++;
                if (!isPrefix) allCount++;
            }

            function addDisabledClass() {
                for (var i = 0; i < letters.length; i++) {
                    if (counts[letters[i]] == undefined) $('.' + letters[i], $letters).addClass('ln-disabled');
                }
            }

            function addNoMatchLI() {
                $list.append('<li class="ln-no-match" style="display:none">' + opts.noMatchText + '</li>');
            }

            function getLetterCount(el) {
                if ($(el).hasClass('all')) return allCount;
                else {
                    var count = counts[$(el).attr('class').split(' ')[0]];
                    return (count != undefined) ? count : 0; // some letters may not have a count in the hash
                }
            }

            function bindHandlers() {

                // sets the top position of the count div in case something above it on the page has resized
                //
                if (opts.showCounts) {
                    $wrapper.mouseover(function () {
                        setLetterCountTop();
                    });
                }

                // mouseover for each letter: shows the count above the letter
                //
                if (opts.showCounts) {
                    $('a', $letters).mouseover(function () {
                        var left = $(this).position().left;
                        var width = ($(this).outerWidth({ margin: true }) - 1) + 'px'; // the -1 is to tweak the width a bit due to a seeming inaccuracy in jquery ui/dimensions outerWidth (same result in FF2 and IE6/7)
                        var count = getLetterCount(this);
                        $letterCount.css({ left: left, width: width }).text(count).show(); // set left position and width of letter count, set count text and show it
                    });

                    // mouseout for each letter: hide the count
                    //
                    $('a', $letters).mouseout(function () {
                        $letterCount.hide();
                    });
                }

                // click handler for letters: shows/hides relevant LI's
                //
                $('a', $letters).click(function () {
                    $('a.ln-selected', $letters).removeClass('ln-selected');

                    var letter = $(this).attr('class').split(' ')[0];

                    if (letter == 'all') {
                        $list.children().show();
                        $list.children('.ln-no-match').hide();
                        isAll = true;
                    } else {
                        if (isAll) {
                            $list.children().hide();
                            isAll = false;
                        } else if (prevLetter != '') $list.children('.ln-' + prevLetter).hide();

                        var count = getLetterCount(this);
                        if (count > 0) {
                            $list.children('.ln-no-match').hide(); // in case it's showing
                            $list.children('.ln-' + letter).show();
                        }
                        else $list.children('.ln-no-match').show();

                        prevLetter = letter;
                    }

                    if ($.cookie && (opts.cookieName != null)) $.cookie(opts.cookieName, letter);


                    $(this).addClass('ln-selected');
                    $(this).blur();

                    $('#medical-conditions-local-nav .ln-letters a').click(function () {
                        $('ul#medical-conditions-local li:visible:first a').focus();
                        $('ul#medical-conditions-local li:visible:first a').focus(function () {
                            $('ul#medical-conditions-local li:visible:first a').css("cssText", "outline: none !important;");
                        });
                    });
                    if (!firstClick && (opts.onClick != null)) opts.onClick(letter);
                    else firstClick = false;
                    return false;
                });
            }

            // creates the HTML for the letter links
            //	
            function createLettersHtml() {
                var html = [];
                for (var i = 1; i < letters.length; i++) {
                    if (html.length == 0) html.push('<a class="all" href="#">' + sAllTitle + '</a>');
                    html.push('<a class="' + letters[i] + '" href="#">' + ((letters[i] == '-') ? '...' : letters[i].toUpperCase()) + '</a>');
                }
                return '<div class="ln-letters">' + html.join('') + '</div>' + ((opts.showCounts) ? '<div class="ln-letter-count" style="display:none; position:absolute; top:0; left:0; width:20px;">0</div>' : ''); // the styling for ln-letter-count is to give us a starting point for the element, which will be repositioned when made visible (ie, should not need to be styled by the user)
            }

            init();
        });
    };

    $.fn.listnav.defaults = {
        initLetter: '',
        includeAll: true,
        incudeOther: false,
        includeNums: true,
        flagDisabled: true,
        noMatchText: 'No matching entries',
        showCounts: true,
        cookieName: null,
        onClick: null,
        prefixes: [],
        allTitle: 'All',
        letters: ['_', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'ת', 'ש', 'ר', 'ק', 'צ', 'פ', 'ע', 'ס', 'נ', 'מ', 'ל', 'כ', 'י', 'ט', 'ח', 'ז', 'ו', 'ה', 'ד', 'ג', 'ב', 'א', '-']
    };
})(jQuery);

/*
Slick
*/
/* global window, document, define, jQuery, setInterval, clearInterval */
(function (factory) {
    'use strict';
    if (typeof define === 'function' && define.amd) {
        define(['jquery'], factory);
    } else if (typeof exports !== 'undefined') {
        module.exports = factory(require('jquery'));
    } else {
        factory(jQuery);
    }

}(function ($) {
    'use strict';
    var Slick = window.Slick || {};

    Slick = (function () {

        var instanceUid = 0;

        function Slick(element, settings) {

            var _ = this, dataSettings;

            _.defaults = {
                accessibility: true,
                adaptiveHeight: false,
                appendArrows: $(element),
                appendDots: $(element),
                arrows: true,
                asNavFor: null,
                prevArrow: '<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',
                nextArrow: '<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',
                autoplay: false,
                autoplaySpeed: 3000,
                centerMode: false,
                centerPadding: '50px',
                cssEase: 'ease',
                customPaging: function (slider, i) {
                    return $('<button type="button" data-role="none" role="button" tabindex="0" />').text(i + 1);
                },
                dots: false,
                dotsClass: 'slick-dots',
                draggable: true,
                easing: 'linear',
                edgeFriction: 0.35,
                fade: false,
                focusOnSelect: false,
                infinite: true,
                initialSlide: 0,
                lazyLoad: 'ondemand',
                mobileFirst: false,
                pauseOnHover: true,
                pauseOnFocus: true,
                pauseOnDotsHover: false,
                respondTo: 'window',
                responsive: null,
                rows: 1,
                rtl: false,
                slide: '',
                slidesPerRow: 1,
                slidesToShow: 1,
                slidesToScroll: 1,
                speed: 500,
                swipe: true,
                swipeToSlide: false,
                touchMove: true,
                touchThreshold: 5,
                useCSS: true,
                useTransform: true,
                variableWidth: false,
                vertical: false,
                verticalSwiping: false,
                waitForAnimate: true,
                zIndex: 1000
            };

            _.initials = {
                animating: false,
                dragging: false,
                autoPlayTimer: null,
                currentDirection: 0,
                currentLeft: null,
                currentSlide: 0,
                direction: 1,
                $dots: null,
                listWidth: null,
                listHeight: null,
                loadIndex: 0,
                $nextArrow: null,
                $prevArrow: null,
                slideCount: null,
                slideWidth: null,
                $slideTrack: null,
                $slides: null,
                sliding: false,
                slideOffset: 0,
                swipeLeft: null,
                $list: null,
                touchObject: {},
                transformsEnabled: false,
                unslicked: false
            };

            $.extend(_, _.initials);

            _.activeBreakpoint = null;
            _.animType = null;
            _.animProp = null;
            _.breakpoints = [];
            _.breakpointSettings = [];
            _.cssTransitions = false;
            _.focussed = false;
            _.interrupted = false;
            _.hidden = 'hidden';
            _.paused = true;
            _.positionProp = null;
            _.respondTo = null;
            _.rowCount = 1;
            _.shouldClick = true;
            _.$slider = $(element);
            _.$slidesCache = null;
            _.transformType = null;
            _.transitionType = null;
            _.visibilityChange = 'visibilitychange';
            _.windowWidth = 0;
            _.windowTimer = null;

            dataSettings = $(element).data('slick') || {};

            _.options = $.extend({}, _.defaults, settings, dataSettings);

            _.currentSlide = _.options.initialSlide;

            _.originalSettings = _.options;

            if (typeof document.mozHidden !== 'undefined') {
                _.hidden = 'mozHidden';
                _.visibilityChange = 'mozvisibilitychange';
            } else if (typeof document.webkitHidden !== 'undefined') {
                _.hidden = 'webkitHidden';
                _.visibilityChange = 'webkitvisibilitychange';
            }

            _.autoPlay = $.proxy(_.autoPlay, _);
            _.autoPlayClear = $.proxy(_.autoPlayClear, _);
            _.autoPlayIterator = $.proxy(_.autoPlayIterator, _);
            _.changeSlide = $.proxy(_.changeSlide, _);
            _.clickHandler = $.proxy(_.clickHandler, _);
            _.selectHandler = $.proxy(_.selectHandler, _);
            _.setPosition = $.proxy(_.setPosition, _);
            _.swipeHandler = $.proxy(_.swipeHandler, _);
            _.dragHandler = $.proxy(_.dragHandler, _);
            _.keyHandler = $.proxy(_.keyHandler, _);

            _.instanceUid = instanceUid++;

            // A simple way to check for HTML strings
            // Strict HTML recognition (must start with <)
            // Extracted from jQuery v1.11 source
            _.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/;


            _.registerBreakpoints();
            _.init(true);

        }

        return Slick;

    }());

    Slick.prototype.activateADA = function () {
        var _ = this;

        _.$slideTrack.find('.slick-active').attr({
            'aria-hidden': 'false'
        }).find('a, input, button, select').attr({
            'tabindex': '0'
        });

    };

    Slick.prototype.addSlide = Slick.prototype.slickAdd = function (markup, index, addBefore) {

        var _ = this;

        if (typeof (index) === 'boolean') {
            addBefore = index;
            index = null;
        } else if (index < 0 || (index >= _.slideCount)) {
            return false;
        }

        _.unload();

        if (typeof (index) === 'number') {
            if (index === 0 && _.$slides.length === 0) {
                $(markup).appendTo(_.$slideTrack);
            } else if (addBefore) {
                $(markup).insertBefore(_.$slides.eq(index));
            } else {
                $(markup).insertAfter(_.$slides.eq(index));
            }
        } else {
            if (addBefore === true) {
                $(markup).prependTo(_.$slideTrack);
            } else {
                $(markup).appendTo(_.$slideTrack);
            }
        }

        _.$slides = _.$slideTrack.children(this.options.slide);

        _.$slideTrack.children(this.options.slide).detach();

        _.$slideTrack.append(_.$slides);

        _.$slides.each(function (index, element) {
            $(element).attr('data-slick-index', index);
        });

        _.$slidesCache = _.$slides;

        _.reinit();

    };

    Slick.prototype.animateHeight = function () {
        var _ = this;
        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {
            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);
            _.$list.animate({
                height: targetHeight
            }, _.options.speed);
        }
    };

    Slick.prototype.animateSlide = function (targetLeft, callback) {

        var animProps = {},
            _ = this;

        _.animateHeight();

        if (_.options.rtl === true && _.options.vertical === false) {
            targetLeft = -targetLeft;
        }
        if (_.transformsEnabled === false) {
            if (_.options.vertical === false) {
                _.$slideTrack.animate({
                    left: targetLeft
                }, _.options.speed, _.options.easing, callback);
            } else {
                _.$slideTrack.animate({
                    top: targetLeft
                }, _.options.speed, _.options.easing, callback);
            }

        } else {

            if (_.cssTransitions === false) {
                if (_.options.rtl === true) {
                    _.currentLeft = -(_.currentLeft);
                }
                $({
                    animStart: _.currentLeft
                }).animate({
                    animStart: targetLeft
                }, {
                    duration: _.options.speed,
                    easing: _.options.easing,
                    step: function (now) {
                        now = Math.ceil(now);
                        if (_.options.vertical === false) {
                            animProps[_.animType] = 'translate(' +
                                now + 'px, 0px)';
                            _.$slideTrack.css(animProps);
                        } else {
                            animProps[_.animType] = 'translate(0px,' +
                                now + 'px)';
                            _.$slideTrack.css(animProps);
                        }
                    },
                    complete: function () {
                        if (callback) {
                            callback.call();
                        }
                    }
                });

            } else {

                _.applyTransition();
                targetLeft = Math.ceil(targetLeft);

                if (_.options.vertical === false) {
                    animProps[_.animType] = 'translate3d(' + targetLeft + 'px, 0px, 0px)';
                } else {
                    animProps[_.animType] = 'translate3d(0px,' + targetLeft + 'px, 0px)';
                }
                _.$slideTrack.css(animProps);

                if (callback) {
                    setTimeout(function () {

                        _.disableTransition();

                        callback.call();
                    }, _.options.speed);
                }

            }

        }

    };

    Slick.prototype.getNavTarget = function () {

        var _ = this,
            asNavFor = _.options.asNavFor;

        if (asNavFor && asNavFor !== null) {
            asNavFor = $(asNavFor).not(_.$slider);
        }

        return asNavFor;

    };

    Slick.prototype.asNavFor = function (index) {

        var _ = this,
            asNavFor = _.getNavTarget();

        if (asNavFor !== null && typeof asNavFor === 'object') {
            asNavFor.each(function () {
                var target = $(this).slick('getSlick');
                if (!target.unslicked) {
                    target.slideHandler(index, true);
                }
            });
        }

    };

    Slick.prototype.applyTransition = function (slide) {

        var _ = this,
            transition = {};

        if (_.options.fade === false) {
            transition[_.transitionType] = _.transformType + ' ' + _.options.speed + 'ms ' + _.options.cssEase;
        } else {
            transition[_.transitionType] = 'opacity ' + _.options.speed + 'ms ' + _.options.cssEase;
        }

        if (_.options.fade === false) {
            _.$slideTrack.css(transition);
        } else {
            _.$slides.eq(slide).css(transition);
        }

    };

    Slick.prototype.autoPlay = function () {

        var _ = this;

        _.autoPlayClear();

        if (_.slideCount > _.options.slidesToShow) {
            _.autoPlayTimer = setInterval(_.autoPlayIterator, _.options.autoplaySpeed);
        }

    };

    Slick.prototype.autoPlayClear = function () {

        var _ = this;

        if (_.autoPlayTimer) {
            clearInterval(_.autoPlayTimer);
        }

    };

    Slick.prototype.autoPlayIterator = function () {

        var _ = this,
            slideTo = _.currentSlide + _.options.slidesToScroll;

        if (!_.paused && !_.interrupted && !_.focussed) {

            if (_.options.infinite === false) {

                if (_.direction === 1 && (_.currentSlide + 1) === (_.slideCount - 1)) {
                    _.direction = 0;
                }

                else if (_.direction === 0) {

                    slideTo = _.currentSlide - _.options.slidesToScroll;

                    if (_.currentSlide - 1 === 0) {
                        _.direction = 1;
                    }

                }

            }

            _.slideHandler(slideTo);

        }

    };

    Slick.prototype.buildArrows = function () {

        var _ = this;

        if (_.options.arrows === true) {

            _.$prevArrow = $(_.options.prevArrow).addClass('slick-arrow');
            _.$nextArrow = $(_.options.nextArrow).addClass('slick-arrow');

            if (_.slideCount > _.options.slidesToShow) {

                _.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');
                _.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');

                if (_.htmlExpr.test(_.options.prevArrow)) {
                    _.$prevArrow.prependTo(_.options.appendArrows);
                }

                if (_.htmlExpr.test(_.options.nextArrow)) {
                    _.$nextArrow.appendTo(_.options.appendArrows);
                }

                if (_.options.infinite !== true) {
                    _.$prevArrow
                        .addClass('slick-disabled')
                        .attr('aria-disabled', 'true');
                }

            } else {

                _.$prevArrow.add(_.$nextArrow)

                    .addClass('slick-hidden')
                    .attr({
                        'aria-disabled': 'true',
                        'tabindex': '-1'
                    });

            }

        }

    };

    Slick.prototype.buildDots = function () {

        var _ = this,
            i, dot;

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            _.$slider.addClass('slick-dotted');

            dot = $('<ul />').addClass(_.options.dotsClass);

            for (i = 0; i <= _.getDotCount() ; i += 1) {
                dot.append($('<li />').append(_.options.customPaging.call(this, _, i)));
            }

            _.$dots = dot.appendTo(_.options.appendDots);

            _.$dots.find('li').first().addClass('slick-active').attr('aria-hidden', 'false');

        }

    };

    Slick.prototype.buildOut = function () {

        var _ = this;

        _.$slides =
            _.$slider
                .children(_.options.slide + ':not(.slick-cloned)')
                .addClass('slick-slide');

        _.slideCount = _.$slides.length;

        _.$slides.each(function (index, element) {
            $(element)
                .attr('data-slick-index', index)
                .data('originalStyling', $(element).attr('style') || '');
        });

        _.$slider.addClass('slick-slider');

        _.$slideTrack = (_.slideCount === 0) ?
            $('<div class="slick-track"/>').appendTo(_.$slider) :
            _.$slides.wrapAll('<div class="slick-track"/>').parent();

        _.$list = _.$slideTrack.wrap(
            '<div aria-live="polite" class="slick-list"/>').parent();
        _.$slideTrack.css('opacity', 0);

        if (_.options.centerMode === true || _.options.swipeToSlide === true) {
            _.options.slidesToScroll = 1;
        }

        $('img[data-lazy]', _.$slider).not('[src]').addClass('slick-loading');

        _.setupInfinite();

        _.buildArrows();

        _.buildDots();

        _.updateDots();


        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);

        if (_.options.draggable === true) {
            _.$list.addClass('draggable');
        }

    };

    Slick.prototype.buildRows = function () {

        var _ = this, a, b, c, newSlides, numOfSlides, originalSlides, slidesPerSection;

        newSlides = document.createDocumentFragment();
        originalSlides = _.$slider.children();

        if (_.options.rows > 1) {

            slidesPerSection = _.options.slidesPerRow * _.options.rows;
            numOfSlides = Math.ceil(
                originalSlides.length / slidesPerSection
            );

            for (a = 0; a < numOfSlides; a++) {
                var slide = document.createElement('div');
                for (b = 0; b < _.options.rows; b++) {
                    var row = document.createElement('div');
                    for (c = 0; c < _.options.slidesPerRow; c++) {
                        var target = (a * slidesPerSection + ((b * _.options.slidesPerRow) + c));
                        if (originalSlides.get(target)) {
                            row.appendChild(originalSlides.get(target));
                        }
                    }
                    slide.appendChild(row);
                }
                newSlides.appendChild(slide);
            }

            _.$slider.empty().append(newSlides);
            _.$slider.children().children().children()
                .css({
                    'width': (100 / _.options.slidesPerRow) + '%',
                    'display': 'inline-block'
                });

        }

    };

    Slick.prototype.checkResponsive = function (initial, forceUpdate) {

        var _ = this,
            breakpoint, targetBreakpoint, respondToWidth, triggerBreakpoint = false;
        var sliderWidth = _.$slider.width();
        var windowWidth = window.innerWidth || $(window).width();

        if (_.respondTo === 'window') {
            respondToWidth = windowWidth;
        } else if (_.respondTo === 'slider') {
            respondToWidth = sliderWidth;
        } else if (_.respondTo === 'min') {
            respondToWidth = Math.min(windowWidth, sliderWidth);
        }

        if (_.options.responsive &&
            _.options.responsive.length &&
            _.options.responsive !== null) {

            targetBreakpoint = null;

            for (breakpoint in _.breakpoints) {
                if (_.breakpoints.hasOwnProperty(breakpoint)) {
                    if (_.originalSettings.mobileFirst === false) {
                        if (respondToWidth < _.breakpoints[breakpoint]) {
                            targetBreakpoint = _.breakpoints[breakpoint];
                        }
                    } else {
                        if (respondToWidth > _.breakpoints[breakpoint]) {
                            targetBreakpoint = _.breakpoints[breakpoint];
                        }
                    }
                }
            }

            if (targetBreakpoint !== null) {
                if (_.activeBreakpoint !== null) {
                    if (targetBreakpoint !== _.activeBreakpoint || forceUpdate) {
                        _.activeBreakpoint =
                            targetBreakpoint;
                        if (_.breakpointSettings[targetBreakpoint] === 'unslick') {
                            _.unslick(targetBreakpoint);
                        } else {
                            _.options = $.extend({}, _.originalSettings,
                                _.breakpointSettings[
                                    targetBreakpoint]);
                            if (initial === true) {
                                _.currentSlide = _.options.initialSlide;
                            }
                            _.refresh(initial);
                        }
                        triggerBreakpoint = targetBreakpoint;
                    }
                } else {
                    _.activeBreakpoint = targetBreakpoint;
                    if (_.breakpointSettings[targetBreakpoint] === 'unslick') {
                        _.unslick(targetBreakpoint);
                    } else {
                        _.options = $.extend({}, _.originalSettings,
                            _.breakpointSettings[
                                targetBreakpoint]);
                        if (initial === true) {
                            _.currentSlide = _.options.initialSlide;
                        }
                        _.refresh(initial);
                    }
                    triggerBreakpoint = targetBreakpoint;
                }
            } else {
                if (_.activeBreakpoint !== null) {
                    _.activeBreakpoint = null;
                    _.options = _.originalSettings;
                    if (initial === true) {
                        _.currentSlide = _.options.initialSlide;
                    }
                    _.refresh(initial);
                    triggerBreakpoint = targetBreakpoint;
                }
            }

            // only trigger breakpoints during an actual break. not on initialize.
            if (!initial && triggerBreakpoint !== false) {
                _.$slider.trigger('breakpoint', [_, triggerBreakpoint]);
            }
        }

    };

    Slick.prototype.changeSlide = function (event, dontAnimate) {

        var _ = this,
            $target = $(event.currentTarget),
            indexOffset, slideOffset, unevenOffset;

        // If target is a link, prevent default action.
        if ($target.is('a')) {
            event.preventDefault();
        }

        // If target is not the <li> element (ie: a child), find the <li>.
        if (!$target.is('li')) {
            $target = $target.closest('li');
        }

        unevenOffset = (_.slideCount % _.options.slidesToScroll !== 0);
        indexOffset = unevenOffset ? 0 : (_.slideCount - _.currentSlide) % _.options.slidesToScroll;

        switch (event.data.message) {

            case 'previous':
                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : _.options.slidesToShow - indexOffset;
                if (_.slideCount > _.options.slidesToShow) {
                    _.slideHandler(_.currentSlide - slideOffset, false, dontAnimate);
                }
                break;

            case 'next':
                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : indexOffset;
                if (_.slideCount > _.options.slidesToShow) {
                    _.slideHandler(_.currentSlide + slideOffset, false, dontAnimate);
                }
                break;

            case 'index':
                var index = event.data.index === 0 ? 0 :
                    event.data.index || $target.index() * _.options.slidesToScroll;

                _.slideHandler(_.checkNavigable(index), false, dontAnimate);
                $target.children().trigger('focus');
                break;

            default:
                return;
        }

    };

    Slick.prototype.checkNavigable = function (index) {

        var _ = this,
            navigables, prevNavigable;

        navigables = _.getNavigableIndexes();
        prevNavigable = 0;
        if (index > navigables[navigables.length - 1]) {
            index = navigables[navigables.length - 1];
        } else {
            for (var n in navigables) {
                if (index < navigables[n]) {
                    index = prevNavigable;
                    break;
                }
                prevNavigable = navigables[n];
            }
        }

        return index;
    };

    Slick.prototype.cleanUpEvents = function () {

        var _ = this;

        if (_.options.dots && _.$dots !== null) {

            $('li', _.$dots)
                .off('click.slick', _.changeSlide)
                .off('mouseenter.slick', $.proxy(_.interrupt, _, true))
                .off('mouseleave.slick', $.proxy(_.interrupt, _, false));

        }

        _.$slider.off('focus.slick blur.slick');

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {
            _.$prevArrow && _.$prevArrow.off('click.slick', _.changeSlide);
            _.$nextArrow && _.$nextArrow.off('click.slick', _.changeSlide);
        }

        _.$list.off('touchstart.slick mousedown.slick', _.swipeHandler);
        _.$list.off('touchmove.slick mousemove.slick', _.swipeHandler);
        _.$list.off('touchend.slick mouseup.slick', _.swipeHandler);
        _.$list.off('touchcancel.slick mouseleave.slick', _.swipeHandler);

        _.$list.off('click.slick', _.clickHandler);

        $(document).off(_.visibilityChange, _.visibility);

        _.cleanUpSlideEvents();

        if (_.options.accessibility === true) {
            _.$list.off('keydown.slick', _.keyHandler);
        }

        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().off('click.slick', _.selectHandler);
        }

        $(window).off('orientationchange.slick.slick-' + _.instanceUid, _.orientationChange);

        $(window).off('resize.slick.slick-' + _.instanceUid, _.resize);

        $('[draggable!=true]', _.$slideTrack).off('dragstart', _.preventDefault);

        $(window).off('load.slick.slick-' + _.instanceUid, _.setPosition);
        $(document).off('ready.slick.slick-' + _.instanceUid, _.setPosition);

    };

    Slick.prototype.cleanUpSlideEvents = function () {

        var _ = this;

        _.$list.off('mouseenter.slick', $.proxy(_.interrupt, _, true));
        _.$list.off('mouseleave.slick', $.proxy(_.interrupt, _, false));

    };

    Slick.prototype.cleanUpRows = function () {

        var _ = this, originalSlides;

        if (_.options.rows > 1) {
            originalSlides = _.$slides.children().children();
            originalSlides.removeAttr('style');
            _.$slider.empty().append(originalSlides);
        }

    };

    Slick.prototype.clickHandler = function (event) {

        var _ = this;

        if (_.shouldClick === false) {
            event.stopImmediatePropagation();
            event.stopPropagation();
            event.preventDefault();
        }

    };

    Slick.prototype.destroy = function (refresh) {

        var _ = this;

        _.autoPlayClear();

        _.touchObject = {};

        _.cleanUpEvents();

        $('.slick-cloned', _.$slider).detach();

        if (_.$dots) {
            _.$dots.remove();
        }


        if (_.$prevArrow && _.$prevArrow.length) {

            _.$prevArrow
                .removeClass('slick-disabled slick-arrow slick-hidden')
                .removeAttr('aria-hidden aria-disabled tabindex')
                .css('display', '');

            if (_.htmlExpr.test(_.options.prevArrow)) {
                _.$prevArrow.remove();
            }
        }

        if (_.$nextArrow && _.$nextArrow.length) {

            _.$nextArrow
                .removeClass('slick-disabled slick-arrow slick-hidden')
                .removeAttr('aria-hidden aria-disabled tabindex')
                .css('display', '');

            if (_.htmlExpr.test(_.options.nextArrow)) {
                _.$nextArrow.remove();
            }

        }


        if (_.$slides) {

            _.$slides
                .removeClass('slick-slide slick-active slick-center slick-visible slick-current')
                .removeAttr('aria-hidden')
                .removeAttr('data-slick-index')
                .each(function () {
                    $(this).attr('style', $(this).data('originalStyling'));
                });

            _.$slideTrack.children(this.options.slide).detach();

            _.$slideTrack.detach();

            _.$list.detach();

            _.$slider.append(_.$slides);
        }

        _.cleanUpRows();

        _.$slider.removeClass('slick-slider');
        _.$slider.removeClass('slick-initialized');
        _.$slider.removeClass('slick-dotted');

        _.unslicked = true;

        if (!refresh) {
            _.$slider.trigger('destroy', [_]);
        }

    };

    Slick.prototype.disableTransition = function (slide) {

        var _ = this,
            transition = {};

        transition[_.transitionType] = '';

        if (_.options.fade === false) {
            _.$slideTrack.css(transition);
        } else {
            _.$slides.eq(slide).css(transition);
        }

    };

    Slick.prototype.fadeSlide = function (slideIndex, callback) {

        var _ = this;

        if (_.cssTransitions === false) {

            _.$slides.eq(slideIndex).css({
                zIndex: _.options.zIndex
            });

            _.$slides.eq(slideIndex).animate({
                opacity: 1
            }, _.options.speed, _.options.easing, callback);

        } else {

            _.applyTransition(slideIndex);

            _.$slides.eq(slideIndex).css({
                opacity: 1,
                zIndex: _.options.zIndex
            });

            if (callback) {
                setTimeout(function () {

                    _.disableTransition(slideIndex);

                    callback.call();
                }, _.options.speed);
            }

        }

    };

    Slick.prototype.fadeSlideOut = function (slideIndex) {

        var _ = this;

        if (_.cssTransitions === false) {

            _.$slides.eq(slideIndex).animate({
                opacity: 0,
                zIndex: _.options.zIndex - 2
            }, _.options.speed, _.options.easing);

        } else {

            _.applyTransition(slideIndex);

            _.$slides.eq(slideIndex).css({
                opacity: 0,
                zIndex: _.options.zIndex - 2
            });

        }

    };

    Slick.prototype.filterSlides = Slick.prototype.slickFilter = function (filter) {

        var _ = this;

        if (filter !== null) {

            _.$slidesCache = _.$slides;

            _.unload();

            _.$slideTrack.children(this.options.slide).detach();

            _.$slidesCache.filter(filter).appendTo(_.$slideTrack);

            _.reinit();

        }

    };

    Slick.prototype.focusHandler = function () {

        var _ = this;

        _.$slider
            .off('focus.slick blur.slick')
            .on('focus.slick blur.slick',
                '*:not(.slick-arrow)', function (event) {

                    event.stopImmediatePropagation();
                    var $sf = $(this);

                    setTimeout(function () {

                        if (_.options.pauseOnFocus) {
                            _.focussed = $sf.is(':focus');
                            _.autoPlay();
                        }

                    }, 0);

                });
    };

    Slick.prototype.getCurrent = Slick.prototype.slickCurrentSlide = function () {

        var _ = this;
        return _.currentSlide;

    };

    Slick.prototype.getDotCount = function () {

        var _ = this;

        var breakPoint = 0;
        var counter = 0;
        var pagerQty = 0;

        if (_.options.infinite === true) {
            while (breakPoint < _.slideCount) {
                ++pagerQty;
                breakPoint = counter + _.options.slidesToScroll;
                counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
            }
        } else if (_.options.centerMode === true) {
            pagerQty = _.slideCount;
        } else if (!_.options.asNavFor) {
            pagerQty = 1 + Math.ceil((_.slideCount - _.options.slidesToShow) / _.options.slidesToScroll);
        } else {
            while (breakPoint < _.slideCount) {
                ++pagerQty;
                breakPoint = counter + _.options.slidesToScroll;
                counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
            }
        }

        return pagerQty - 1;

    };

    Slick.prototype.getLeft = function (slideIndex) {

        var _ = this,
            targetLeft,
            verticalHeight,
            verticalOffset = 0,
            targetSlide;

        _.slideOffset = 0;
        verticalHeight = _.$slides.first().outerHeight(true);

        if (_.options.infinite === true) {
            if (_.slideCount > _.options.slidesToShow) {
                _.slideOffset = (_.slideWidth * _.options.slidesToShow) * -1;
                verticalOffset = (verticalHeight * _.options.slidesToShow) * -1;
            }
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                if (slideIndex + _.options.slidesToScroll > _.slideCount && _.slideCount > _.options.slidesToShow) {
                    if (slideIndex > _.slideCount) {
                        _.slideOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * _.slideWidth) * -1;
                        verticalOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * verticalHeight) * -1;
                    } else {
                        _.slideOffset = ((_.slideCount % _.options.slidesToScroll) * _.slideWidth) * -1;
                        verticalOffset = ((_.slideCount % _.options.slidesToScroll) * verticalHeight) * -1;
                    }
                }
            }
        } else {
            if (slideIndex + _.options.slidesToShow > _.slideCount) {
                _.slideOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * _.slideWidth;
                verticalOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * verticalHeight;
            }
        }

        if (_.slideCount <= _.options.slidesToShow) {
            _.slideOffset = 0;
            verticalOffset = 0;
        }

        if (_.options.centerMode === true && _.options.infinite === true) {
            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2) - _.slideWidth;
        } else if (_.options.centerMode === true) {
            _.slideOffset = 0;
            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2);
        }

        if (_.options.vertical === false) {
            targetLeft = ((slideIndex * _.slideWidth) * -1) + _.slideOffset;
        } else {
            targetLeft = ((slideIndex * verticalHeight) * -1) + verticalOffset;
        }

        if (_.options.variableWidth === true) {

            if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {
                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);
            } else {
                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow);
            }

            if (_.options.rtl === true) {
                if (targetSlide[0]) {
                    targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;
                } else {
                    targetLeft = 0;
                }
            } else {
                targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;
            }

            if (_.options.centerMode === true) {
                if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {
                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);
                } else {
                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow + 1);
                }

                if (_.options.rtl === true) {
                    if (targetSlide[0]) {
                        targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;
                    } else {
                        targetLeft = 0;
                    }
                } else {
                    targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;
                }

                targetLeft += (_.$list.width() - targetSlide.outerWidth()) / 2;
            }
        }

        return targetLeft;

    };

    Slick.prototype.getOption = Slick.prototype.slickGetOption = function (option) {

        var _ = this;

        return _.options[option];

    };

    Slick.prototype.getNavigableIndexes = function () {

        var _ = this,
            breakPoint = 0,
            counter = 0,
            indexes = [],
            max;

        if (_.options.infinite === false) {
            max = _.slideCount;
        } else {
            breakPoint = _.options.slidesToScroll * -1;
            counter = _.options.slidesToScroll * -1;
            max = _.slideCount * 2;
        }

        while (breakPoint < max) {
            indexes.push(breakPoint);
            breakPoint = counter + _.options.slidesToScroll;
            counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
        }

        return indexes;

    };

    Slick.prototype.getSlick = function () {

        return this;

    };

    Slick.prototype.getSlideCount = function () {

        var _ = this,
            slidesTraversed, swipedSlide, centerOffset;

        centerOffset = _.options.centerMode === true ? _.slideWidth * Math.floor(_.options.slidesToShow / 2) : 0;

        if (_.options.swipeToSlide === true) {
            _.$slideTrack.find('.slick-slide').each(function (index, slide) {
                if (slide.offsetLeft - centerOffset + ($(slide).outerWidth() / 2) > (_.swipeLeft * -1)) {
                    swipedSlide = slide;
                    return false;
                }
            });

            slidesTraversed = Math.abs($(swipedSlide).attr('data-slick-index') - _.currentSlide) || 1;

            return slidesTraversed;

        } else {
            return _.options.slidesToScroll;
        }

    };

    Slick.prototype.goTo = Slick.prototype.slickGoTo = function (slide, dontAnimate) {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'index',
                index: parseInt(slide)
            }
        }, dontAnimate);

    };

    Slick.prototype.init = function (creation) {

        var _ = this;

        if (!$(_.$slider).hasClass('slick-initialized')) {

            $(_.$slider).addClass('slick-initialized');

            _.buildRows();
            _.buildOut();
            _.setProps();
            _.startLoad();
            _.loadSlider();
            _.initializeEvents();
            _.updateArrows();
            _.updateDots();
            _.checkResponsive(true);
            _.focusHandler();

        }

        if (creation) {
            _.$slider.trigger('init', [_]);
        }

        if (_.options.accessibility === true) {
            _.initADA();
        }

        if (_.options.autoplay) {

            _.paused = false;
            _.autoPlay();

        }

    };

    Slick.prototype.initADA = function () {
        var _ = this;
        _.$slides.add(_.$slideTrack.find('.slick-cloned')).attr({
            'aria-hidden': 'true',
            'tabindex': '-1'
        }).find('a, input, button, select').attr({
            'tabindex': '-1'
        });

        _.$slideTrack.attr('role', 'listbox');

        _.$slides.not(_.$slideTrack.find('.slick-cloned')).each(function (i) {
            $(this).attr({
                'role': 'option',
                'aria-describedby': 'slick-slide' + _.instanceUid + i + ''
            });
        });

        if (_.$dots !== null) {
            _.$dots.attr('role', 'tablist').find('li').each(function (i) {
                $(this).attr({
                    'role': 'presentation',
                    'aria-selected': 'false',
                    'aria-controls': 'navigation' + _.instanceUid + i + '',
                    'id': 'slick-slide' + _.instanceUid + i + ''
                });
            })
                .first().attr('aria-selected', 'true').end()
                .find('button').attr('role', 'button').end()
                .closest('div').attr('role', 'toolbar');
        }
        _.activateADA();

    };

    Slick.prototype.initArrowEvents = function () {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {
            _.$prevArrow
               .off('click.slick')
               .on('click.slick', {
                   message: 'previous'
               }, _.changeSlide);
            _.$nextArrow
               .off('click.slick')
               .on('click.slick', {
                   message: 'next'
               }, _.changeSlide);
        }

    };

    Slick.prototype.initDotEvents = function () {

        var _ = this;

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {
            $('li', _.$dots).on('click.slick', {
                message: 'index'
            }, _.changeSlide);
        }

        if (_.options.dots === true && _.options.pauseOnDotsHover === true) {

            $('li', _.$dots)
                .on('mouseenter.slick', $.proxy(_.interrupt, _, true))
                .on('mouseleave.slick', $.proxy(_.interrupt, _, false));

        }

    };

    Slick.prototype.initSlideEvents = function () {

        var _ = this;

        if (_.options.pauseOnHover) {

            _.$list.on('mouseenter.slick', $.proxy(_.interrupt, _, true));
            _.$list.on('mouseleave.slick', $.proxy(_.interrupt, _, false));

        }

    };

    Slick.prototype.initializeEvents = function () {

        var _ = this;

        _.initArrowEvents();

        _.initDotEvents();
        _.initSlideEvents();

        _.$list.on('touchstart.slick mousedown.slick', {
            action: 'start'
        }, _.swipeHandler);
        _.$list.on('touchmove.slick mousemove.slick', {
            action: 'move'
        }, _.swipeHandler);
        _.$list.on('touchend.slick mouseup.slick', {
            action: 'end'
        }, _.swipeHandler);
        _.$list.on('touchcancel.slick mouseleave.slick', {
            action: 'end'
        }, _.swipeHandler);

        _.$list.on('click.slick', _.clickHandler);

        $(document).on(_.visibilityChange, $.proxy(_.visibility, _));

        if (_.options.accessibility === true) {
            _.$list.on('keydown.slick', _.keyHandler);
        }

        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().on('click.slick', _.selectHandler);
        }

        $(window).on('orientationchange.slick.slick-' + _.instanceUid, $.proxy(_.orientationChange, _));

        $(window).on('resize.slick.slick-' + _.instanceUid, $.proxy(_.resize, _));

        $('[draggable!=true]', _.$slideTrack).on('dragstart', _.preventDefault);

        $(window).on('load.slick.slick-' + _.instanceUid, _.setPosition);
        $(document).on('ready.slick.slick-' + _.instanceUid, _.setPosition);

    };

    Slick.prototype.initUI = function () {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {

            _.$prevArrow.show();
            _.$nextArrow.show();

        }

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            _.$dots.show();

        }

    };

    Slick.prototype.keyHandler = function (event) {

        var _ = this;
        //Dont slide if the cursor is inside the form fields and arrow keys are pressed
        if (!event.target.tagName.match('TEXTAREA|INPUT|SELECT')) {
            if (event.keyCode === 37 && _.options.accessibility === true) {
                _.changeSlide({
                    data: {
                        message: _.options.rtl === true ? 'next' : 'previous'
                    }
                });
            } else if (event.keyCode === 39 && _.options.accessibility === true) {
                _.changeSlide({
                    data: {
                        message: _.options.rtl === true ? 'previous' : 'next'
                    }
                });
            }
        }

    };

    Slick.prototype.lazyLoad = function () {

        var _ = this,
            loadRange, cloneRange, rangeStart, rangeEnd;

        function loadImages(imagesScope) {

            $('img[data-lazy]', imagesScope).each(function () {

                var image = $(this),
                    imageSource = $(this).attr('data-lazy'),
                    imageToLoad = document.createElement('img');

                imageToLoad.onload = function () {

                    image
                        .animate({ opacity: 0 }, 100, function () {
                            image
                                .attr('src', imageSource)
                                .animate({ opacity: 1 }, 200, function () {
                                    image
                                        .removeAttr('data-lazy')
                                        .removeClass('slick-loading');
                                });
                            _.$slider.trigger('lazyLoaded', [_, image, imageSource]);
                        });

                };

                imageToLoad.onerror = function () {

                    image
                        .removeAttr('data-lazy')
                        .removeClass('slick-loading')
                        .addClass('slick-lazyload-error');

                    _.$slider.trigger('lazyLoadError', [_, image, imageSource]);

                };

                imageToLoad.src = imageSource;

            });

        }

        if (_.options.centerMode === true) {
            if (_.options.infinite === true) {
                rangeStart = _.currentSlide + (_.options.slidesToShow / 2 + 1);
                rangeEnd = rangeStart + _.options.slidesToShow + 2;
            } else {
                rangeStart = Math.max(0, _.currentSlide - (_.options.slidesToShow / 2 + 1));
                rangeEnd = 2 + (_.options.slidesToShow / 2 + 1) + _.currentSlide;
            }
        } else {
            rangeStart = _.options.infinite ? _.options.slidesToShow + _.currentSlide : _.currentSlide;
            rangeEnd = Math.ceil(rangeStart + _.options.slidesToShow);
            if (_.options.fade === true) {
                if (rangeStart > 0) rangeStart--;
                if (rangeEnd <= _.slideCount) rangeEnd++;
            }
        }

        loadRange = _.$slider.find('.slick-slide').slice(rangeStart, rangeEnd);
        loadImages(loadRange);

        if (_.slideCount <= _.options.slidesToShow) {
            cloneRange = _.$slider.find('.slick-slide');
            loadImages(cloneRange);
        } else
            if (_.currentSlide >= _.slideCount - _.options.slidesToShow) {
                cloneRange = _.$slider.find('.slick-cloned').slice(0, _.options.slidesToShow);
                loadImages(cloneRange);
            } else if (_.currentSlide === 0) {
                cloneRange = _.$slider.find('.slick-cloned').slice(_.options.slidesToShow * -1);
                loadImages(cloneRange);
            }

    };

    Slick.prototype.loadSlider = function () {

        var _ = this;

        _.setPosition();

        _.$slideTrack.css({
            opacity: 1
        });

        _.$slider.removeClass('slick-loading');

        _.initUI();

        if (_.options.lazyLoad === 'progressive') {
            _.progressiveLazyLoad();
        }

    };

    Slick.prototype.next = Slick.prototype.slickNext = function () {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'next'
            }
        });

    };

    Slick.prototype.orientationChange = function () {

        var _ = this;

        _.checkResponsive();
        _.setPosition();

    };

    Slick.prototype.pause = Slick.prototype.slickPause = function () {

        var _ = this;

        _.autoPlayClear();
        _.paused = true;

    };

    Slick.prototype.play = Slick.prototype.slickPlay = function () {

        var _ = this;

        _.autoPlay();
        _.options.autoplay = true;
        _.paused = false;
        _.focussed = false;
        _.interrupted = false;

    };

    Slick.prototype.postSlide = function (index) {

        var _ = this;

        if (!_.unslicked) {

            _.$slider.trigger('afterChange', [_, index]);

            _.animating = false;

            _.setPosition();

            _.swipeLeft = null;

            if (_.options.autoplay) {
                _.autoPlay();
            }

            if (_.options.accessibility === true) {
                _.initADA();
            }

        }

    };

    Slick.prototype.prev = Slick.prototype.slickPrev = function () {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'previous'
            }
        });

    };

    Slick.prototype.preventDefault = function (event) {

        event.preventDefault();

    };

    Slick.prototype.progressiveLazyLoad = function (tryCount) {

        tryCount = tryCount || 1;

        var _ = this,
            $imgsToLoad = $('img[data-lazy]', _.$slider),
            image,
            imageSource,
            imageToLoad;

        if ($imgsToLoad.length) {

            image = $imgsToLoad.first();
            imageSource = image.attr('data-lazy');
            imageToLoad = document.createElement('img');

            imageToLoad.onload = function () {

                image
                    .attr('src', imageSource)
                    .removeAttr('data-lazy')
                    .removeClass('slick-loading');

                if (_.options.adaptiveHeight === true) {
                    _.setPosition();
                }

                _.$slider.trigger('lazyLoaded', [_, image, imageSource]);
                _.progressiveLazyLoad();

            };

            imageToLoad.onerror = function () {

                if (tryCount < 3) {

                    /**
                     * try to load the image 3 times,
                     * leave a slight delay so we don't get
                     * servers blocking the request.
                     */
                    setTimeout(function () {
                        _.progressiveLazyLoad(tryCount + 1);
                    }, 500);

                } else {

                    image
                        .removeAttr('data-lazy')
                        .removeClass('slick-loading')
                        .addClass('slick-lazyload-error');

                    _.$slider.trigger('lazyLoadError', [_, image, imageSource]);

                    _.progressiveLazyLoad();

                }

            };

            imageToLoad.src = imageSource;

        } else {

            _.$slider.trigger('allImagesLoaded', [_]);

        }

    };

    Slick.prototype.refresh = function (initializing) {

        var _ = this, currentSlide, lastVisibleIndex;

        lastVisibleIndex = _.slideCount - _.options.slidesToShow;

        // in non-infinite sliders, we don't want to go past the
        // last visible index.
        if (!_.options.infinite && (_.currentSlide > lastVisibleIndex)) {
            _.currentSlide = lastVisibleIndex;
        }

        // if less slides than to show, go to start.
        if (_.slideCount <= _.options.slidesToShow) {
            _.currentSlide = 0;

        }

        currentSlide = _.currentSlide;

        _.destroy(true);

        $.extend(_, _.initials, { currentSlide: currentSlide });

        _.init();

        if (!initializing) {

            _.changeSlide({
                data: {
                    message: 'index',
                    index: currentSlide
                }
            }, false);

        }

    };

    Slick.prototype.registerBreakpoints = function () {

        var _ = this, breakpoint, currentBreakpoint, l,
            responsiveSettings = _.options.responsive || null;

        if ($.type(responsiveSettings) === 'array' && responsiveSettings.length) {

            _.respondTo = _.options.respondTo || 'window';

            for (breakpoint in responsiveSettings) {

                l = _.breakpoints.length - 1;
                currentBreakpoint = responsiveSettings[breakpoint].breakpoint;

                if (responsiveSettings.hasOwnProperty(breakpoint)) {

                    // loop through the breakpoints and cut out any existing
                    // ones with the same breakpoint number, we don't want dupes.
                    while (l >= 0) {
                        if (_.breakpoints[l] && _.breakpoints[l] === currentBreakpoint) {
                            _.breakpoints.splice(l, 1);
                        }
                        l--;
                    }

                    _.breakpoints.push(currentBreakpoint);
                    _.breakpointSettings[currentBreakpoint] = responsiveSettings[breakpoint].settings;

                }

            }

            _.breakpoints.sort(function (a, b) {
                return (_.options.mobileFirst) ? a - b : b - a;
            });

        }

    };

    Slick.prototype.reinit = function () {

        var _ = this;

        _.$slides =
            _.$slideTrack
                .children(_.options.slide)
                .addClass('slick-slide');

        _.slideCount = _.$slides.length;

        if (_.currentSlide >= _.slideCount && _.currentSlide !== 0) {
            _.currentSlide = _.currentSlide - _.options.slidesToScroll;
        }

        if (_.slideCount <= _.options.slidesToShow) {
            _.currentSlide = 0;
        }

        _.registerBreakpoints();

        _.setProps();
        _.setupInfinite();
        _.buildArrows();
        _.updateArrows();
        _.initArrowEvents();
        _.buildDots();
        _.updateDots();
        _.initDotEvents();
        _.cleanUpSlideEvents();
        _.initSlideEvents();

        _.checkResponsive(false, true);

        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().on('click.slick', _.selectHandler);
        }

        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);

        _.setPosition();
        _.focusHandler();

        _.paused = !_.options.autoplay;
        _.autoPlay();

        _.$slider.trigger('reInit', [_]);

    };

    Slick.prototype.resize = function () {

        var _ = this;

        if ($(window).width() !== _.windowWidth) {
            clearTimeout(_.windowDelay);
            _.windowDelay = window.setTimeout(function () {
                _.windowWidth = $(window).width();
                _.checkResponsive();
                if (!_.unslicked) { _.setPosition(); }
            }, 50);
        }
    };

    Slick.prototype.removeSlide = Slick.prototype.slickRemove = function (index, removeBefore, removeAll) {

        var _ = this;

        if (typeof (index) === 'boolean') {
            removeBefore = index;
            index = removeBefore === true ? 0 : _.slideCount - 1;
        } else {
            index = removeBefore === true ? --index : index;
        }

        if (_.slideCount < 1 || index < 0 || index > _.slideCount - 1) {
            return false;
        }

        _.unload();

        if (removeAll === true) {
            _.$slideTrack.children().remove();
        } else {
            _.$slideTrack.children(this.options.slide).eq(index).remove();
        }

        _.$slides = _.$slideTrack.children(this.options.slide);

        _.$slideTrack.children(this.options.slide).detach();

        _.$slideTrack.append(_.$slides);

        _.$slidesCache = _.$slides;

        _.reinit();

    };

    Slick.prototype.setCSS = function (position) {

        var _ = this,
            positionProps = {},
            x, y;

        if (_.options.rtl === true) {
            position = -position;
        }
        x = _.positionProp == 'left' ? Math.ceil(position) + 'px' : '0px';
        y = _.positionProp == 'top' ? Math.ceil(position) + 'px' : '0px';

        positionProps[_.positionProp] = position;

        if (_.transformsEnabled === false) {
            _.$slideTrack.css(positionProps);
        } else {
            positionProps = {};
            if (_.cssTransitions === false) {
                positionProps[_.animType] = 'translate(' + x + ', ' + y + ')';
                _.$slideTrack.css(positionProps);
            } else {
                positionProps[_.animType] = 'translate3d(' + x + ', ' + y + ', 0px)';
                _.$slideTrack.css(positionProps);
            }
        }

    };

    Slick.prototype.setDimensions = function () {

        var _ = this;

        if (_.options.vertical === false) {
            if (_.options.centerMode === true) {
                _.$list.css({
                    padding: ('0px ' + _.options.centerPadding)
                });
            }
        } else {
            _.$list.height(_.$slides.first().outerHeight(true) * _.options.slidesToShow);
            if (_.options.centerMode === true) {
                _.$list.css({
                    padding: (_.options.centerPadding + ' 0px')
                });
            }
        }

        _.listWidth = _.$list.width();
        _.listHeight = _.$list.height();


        if (_.options.vertical === false && _.options.variableWidth === false) {
            _.slideWidth = Math.ceil(_.listWidth / _.options.slidesToShow);
            _.$slideTrack.width(Math.ceil((_.slideWidth * _.$slideTrack.children('.slick-slide').length)));

        } else if (_.options.variableWidth === true) {
            _.$slideTrack.width(5000 * _.slideCount);
        } else {
            _.slideWidth = Math.ceil(_.listWidth);
            _.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(true) * _.$slideTrack.children('.slick-slide').length)));
        }

        var offset = _.$slides.first().outerWidth(true) - _.$slides.first().width();
        if (_.options.variableWidth === false) _.$slideTrack.children('.slick-slide').width(_.slideWidth - offset);

    };

    Slick.prototype.setFade = function () {

        var _ = this,
            targetLeft;

        _.$slides.each(function (index, element) {
            targetLeft = (_.slideWidth * index) * -1;
            if (_.options.rtl === true) {
                $(element).css({
                    position: 'relative',
                    right: targetLeft,
                    top: 0,
                    zIndex: _.options.zIndex - 2,
                    opacity: 0
                });
            } else {
                $(element).css({
                    position: 'relative',
                    left: targetLeft,
                    top: 0,
                    zIndex: _.options.zIndex - 2,
                    opacity: 0
                });
            }
        });

        _.$slides.eq(_.currentSlide).css({
            zIndex: _.options.zIndex - 1,
            opacity: 1
        });

    };

    Slick.prototype.setHeight = function () {

        var _ = this;

        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {
            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);
            _.$list.css('height', targetHeight);
        }

    };

    Slick.prototype.setOption =
    Slick.prototype.slickSetOption = function () {

        /**
         * accepts arguments in format of:
         *
         *  - for changing a single option's value:
         *     .slick("setOption", option, value, refresh )
         *
         *  - for changing a set of responsive options:
         *     .slick("setOption", 'responsive', [{}, ...], refresh )
         *
         *  - for updating multiple values at once (not responsive)
         *     .slick("setOption", { 'option': value, ... }, refresh )
         */

        var _ = this, l, item, option, value, refresh = false, type;

        if ($.type(arguments[0]) === 'object') {

            option = arguments[0];
            refresh = arguments[1];
            type = 'multiple';

        } else if ($.type(arguments[0]) === 'string') {

            option = arguments[0];
            value = arguments[1];
            refresh = arguments[2];

            if (arguments[0] === 'responsive' && $.type(arguments[1]) === 'array') {

                type = 'responsive';

            } else if (typeof arguments[1] !== 'undefined') {

                type = 'single';

            }

        }

        if (type === 'single') {

            _.options[option] = value;


        } else if (type === 'multiple') {

            $.each(option, function (opt, val) {

                _.options[opt] = val;

            });


        } else if (type === 'responsive') {

            for (item in value) {

                if ($.type(_.options.responsive) !== 'array') {

                    _.options.responsive = [value[item]];

                } else {

                    l = _.options.responsive.length - 1;

                    // loop through the responsive object and splice out duplicates.
                    while (l >= 0) {

                        if (_.options.responsive[l].breakpoint === value[item].breakpoint) {

                            _.options.responsive.splice(l, 1);

                        }

                        l--;

                    }

                    _.options.responsive.push(value[item]);

                }

            }

        }

        if (refresh) {

            _.unload();
            _.reinit();

        }

    };

    Slick.prototype.setPosition = function () {

        var _ = this;

        _.setDimensions();

        _.setHeight();

        if (_.options.fade === false) {
            _.setCSS(_.getLeft(_.currentSlide));
        } else {
            _.setFade();
        }

        _.$slider.trigger('setPosition', [_]);

    };

    Slick.prototype.setProps = function () {

        var _ = this,
            bodyStyle = document.body.style;

        _.positionProp = _.options.vertical === true ? 'top' : 'left';

        if (_.positionProp === 'top') {
            _.$slider.addClass('slick-vertical');
        } else {
            _.$slider.removeClass('slick-vertical');
        }

        if (bodyStyle.WebkitTransition !== undefined ||
            bodyStyle.MozTransition !== undefined ||
            bodyStyle.msTransition !== undefined) {
            if (_.options.useCSS === true) {
                _.cssTransitions = true;
            }
        }

        if (_.options.fade) {
            if (typeof _.options.zIndex === 'number') {
                if (_.options.zIndex < 3) {
                    _.options.zIndex = 3;
                }
            } else {
                _.options.zIndex = _.defaults.zIndex;
            }
        }

        if (bodyStyle.OTransform !== undefined) {
            _.animType = 'OTransform';
            _.transformType = '-o-transform';
            _.transitionType = 'OTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.MozTransform !== undefined) {
            _.animType = 'MozTransform';
            _.transformType = '-moz-transform';
            _.transitionType = 'MozTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.MozPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.webkitTransform !== undefined) {
            _.animType = 'webkitTransform';
            _.transformType = '-webkit-transform';
            _.transitionType = 'webkitTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.msTransform !== undefined) {
            _.animType = 'msTransform';
            _.transformType = '-ms-transform';
            _.transitionType = 'msTransition';
            if (bodyStyle.msTransform === undefined) _.animType = false;
        }
        if (bodyStyle.transform !== undefined && _.animType !== false) {
            _.animType = 'transform';
            _.transformType = 'transform';
            _.transitionType = 'transition';
        }
        _.transformsEnabled = _.options.useTransform && (_.animType !== null && _.animType !== false);
    };


    Slick.prototype.setSlideClasses = function (index) {

        var _ = this,
            centerOffset, allSlides, indexOffset, remainder;

        allSlides = _.$slider
            .find('.slick-slide')
            .removeClass('slick-active slick-center slick-current')
            .attr('aria-hidden', 'true');

        _.$slides
            .eq(index)
            .addClass('slick-current');

        if (_.options.centerMode === true) {

            centerOffset = Math.floor(_.options.slidesToShow / 2);

            if (_.options.infinite === true) {

                if (index >= centerOffset && index <= (_.slideCount - 1) - centerOffset) {

                    _.$slides
                        .slice(index - centerOffset, index + centerOffset + 1)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                } else {

                    indexOffset = _.options.slidesToShow + index;
                    allSlides
                        .slice(indexOffset - centerOffset + 1, indexOffset + centerOffset + 2)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                }

                if (index === 0) {

                    allSlides
                        .eq(allSlides.length - 1 - _.options.slidesToShow)
                        .addClass('slick-center');

                } else if (index === _.slideCount - 1) {

                    allSlides
                        .eq(_.options.slidesToShow)
                        .addClass('slick-center');

                }

            }

            _.$slides
                .eq(index)
                .addClass('slick-center');

        } else {

            if (index >= 0 && index <= (_.slideCount - _.options.slidesToShow)) {

                _.$slides
                    .slice(index, index + _.options.slidesToShow)
                    .addClass('slick-active')
                    .attr('aria-hidden', 'false');

            } else if (allSlides.length <= _.options.slidesToShow) {

                allSlides
                    .addClass('slick-active')
                    .attr('aria-hidden', 'false');

            } else {

                remainder = _.slideCount % _.options.slidesToShow;
                indexOffset = _.options.infinite === true ? _.options.slidesToShow + index : index;

                if (_.options.slidesToShow == _.options.slidesToScroll && (_.slideCount - index) < _.options.slidesToShow) {

                    allSlides
                        .slice(indexOffset - (_.options.slidesToShow - remainder), indexOffset + remainder)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                } else {

                    allSlides
                        .slice(indexOffset, indexOffset + _.options.slidesToShow)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                }

            }

        }

        if (_.options.lazyLoad === 'ondemand') {
            _.lazyLoad();
        }

    };

    Slick.prototype.setupInfinite = function () {

        var _ = this,
            i, slideIndex, infiniteCount;

        if (_.options.fade === true) {
            _.options.centerMode = false;
        }

        if (_.options.infinite === true && _.options.fade === false) {

            slideIndex = null;

            if (_.slideCount > _.options.slidesToShow) {

                if (_.options.centerMode === true) {
                    infiniteCount = _.options.slidesToShow + 1;
                } else {
                    infiniteCount = _.options.slidesToShow;
                }

                for (i = _.slideCount; i > (_.slideCount -
                        infiniteCount) ; i -= 1) {
                    slideIndex = i - 1;
                    $(_.$slides[slideIndex]).clone(true).attr('id', '')
                        .attr('data-slick-index', slideIndex - _.slideCount)
                        .prependTo(_.$slideTrack).addClass('slick-cloned');
                }
                for (i = 0; i < infiniteCount; i += 1) {
                    slideIndex = i;
                    $(_.$slides[slideIndex]).clone(true).attr('id', '')
                        .attr('data-slick-index', slideIndex + _.slideCount)
                        .appendTo(_.$slideTrack).addClass('slick-cloned');
                }
                _.$slideTrack.find('.slick-cloned').find('[id]').each(function () {
                    $(this).attr('id', '');
                });

            }

        }

    };

    Slick.prototype.interrupt = function (toggle) {

        var _ = this;

        if (!toggle) {
            _.autoPlay();
        }
        _.interrupted = toggle;

    };

    Slick.prototype.selectHandler = function (event) {

        var _ = this;

        var targetElement =
            $(event.target).is('.slick-slide') ?
                $(event.target) :
                $(event.target).parents('.slick-slide');

        var index = parseInt(targetElement.attr('data-slick-index'));

        if (!index) index = 0;

        if (_.slideCount <= _.options.slidesToShow) {

            _.setSlideClasses(index);
            _.asNavFor(index);
            return;

        }

        _.slideHandler(index);

    };

    Slick.prototype.slideHandler = function (index, sync, dontAnimate) {

        var targetSlide, animSlide, oldSlide, slideLeft, targetLeft = null,
            _ = this, navTarget;

        sync = sync || false;

        if (_.animating === true && _.options.waitForAnimate === true) {
            return;
        }

        if (_.options.fade === true && _.currentSlide === index) {
            return;
        }

        if (_.slideCount <= _.options.slidesToShow) {
            return;
        }

        if (sync === false) {
            _.asNavFor(index);
        }

        targetSlide = index;
        targetLeft = _.getLeft(targetSlide);
        slideLeft = _.getLeft(_.currentSlide);

        _.currentLeft = _.swipeLeft === null ? slideLeft : _.swipeLeft;

        if (_.options.infinite === false && _.options.centerMode === false && (index < 0 || index > _.getDotCount() * _.options.slidesToScroll)) {
            if (_.options.fade === false) {
                targetSlide = _.currentSlide;
                if (dontAnimate !== true) {
                    _.animateSlide(slideLeft, function () {
                        _.postSlide(targetSlide);
                    });
                } else {
                    _.postSlide(targetSlide);
                }
            }
            return;
        } else if (_.options.infinite === false && _.options.centerMode === true && (index < 0 || index > (_.slideCount - _.options.slidesToScroll))) {
            if (_.options.fade === false) {
                targetSlide = _.currentSlide;
                if (dontAnimate !== true) {
                    _.animateSlide(slideLeft, function () {
                        _.postSlide(targetSlide);
                    });
                } else {
                    _.postSlide(targetSlide);
                }
            }
            return;
        }

        if (_.options.autoplay) {
            clearInterval(_.autoPlayTimer);
        }

        if (targetSlide < 0) {
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                animSlide = _.slideCount - (_.slideCount % _.options.slidesToScroll);
            } else {
                animSlide = _.slideCount + targetSlide;
            }
        } else if (targetSlide >= _.slideCount) {
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                animSlide = 0;
            } else {
                animSlide = targetSlide - _.slideCount;
            }
        } else {
            animSlide = targetSlide;
        }

        _.animating = true;

        _.$slider.trigger('beforeChange', [_, _.currentSlide, animSlide]);

        oldSlide = _.currentSlide;
        _.currentSlide = animSlide;

        _.setSlideClasses(_.currentSlide);

        if (_.options.asNavFor) {

            navTarget = _.getNavTarget();
            navTarget = navTarget.slick('getSlick');

            if (navTarget.slideCount <= navTarget.options.slidesToShow) {
                navTarget.setSlideClasses(_.currentSlide);
            }

        }

        _.updateDots();
        _.updateArrows();

        if (_.options.fade === true) {
            if (dontAnimate !== true) {

                _.fadeSlideOut(oldSlide);

                _.fadeSlide(animSlide, function () {
                    _.postSlide(animSlide);
                });

            } else {
                _.postSlide(animSlide);
            }
            _.animateHeight();
            return;
        }

        if (dontAnimate !== true) {
            _.animateSlide(targetLeft, function () {
                _.postSlide(animSlide);
            });
        } else {
            _.postSlide(animSlide);
        }

    };

    Slick.prototype.startLoad = function () {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {

            _.$prevArrow.hide();
            _.$nextArrow.hide();

        }

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            _.$dots.hide();

        }

        _.$slider.addClass('slick-loading');

    };

    Slick.prototype.swipeDirection = function () {

        var xDist, yDist, r, swipeAngle, _ = this;

        xDist = _.touchObject.startX - _.touchObject.curX;
        yDist = _.touchObject.startY - _.touchObject.curY;
        r = Math.atan2(yDist, xDist);

        swipeAngle = Math.round(r * 180 / Math.PI);
        if (swipeAngle < 0) {
            swipeAngle = 360 - Math.abs(swipeAngle);
        }

        if ((swipeAngle <= 45) && (swipeAngle >= 0)) {
            return (_.options.rtl === false ? 'left' : 'right');
        }
        if ((swipeAngle <= 360) && (swipeAngle >= 315)) {
            return (_.options.rtl === false ? 'left' : 'right');
        }
        if ((swipeAngle >= 135) && (swipeAngle <= 225)) {
            return (_.options.rtl === false ? 'right' : 'left');
        }
        if (_.options.verticalSwiping === true) {
            if ((swipeAngle >= 35) && (swipeAngle <= 135)) {
                return 'down';
            } else {
                return 'up';
            }
        }

        return 'vertical';

    };

    Slick.prototype.swipeEnd = function (event) {

        var _ = this,
            slideCount,
            direction;

        _.dragging = false;
        _.interrupted = false;
        _.shouldClick = (_.touchObject.swipeLength > 10) ? false : true;

        if (_.touchObject.curX === undefined) {
            return false;
        }

        if (_.touchObject.edgeHit === true) {
            _.$slider.trigger('edge', [_, _.swipeDirection()]);
        }

        if (_.touchObject.swipeLength >= _.touchObject.minSwipe) {

            direction = _.swipeDirection();

            switch (direction) {

                case 'left':
                case 'down':

                    slideCount =
                        _.options.swipeToSlide ?
                            _.checkNavigable(_.currentSlide + _.getSlideCount()) :
                            _.currentSlide + _.getSlideCount();

                    _.currentDirection = 0;

                    break;

                case 'right':
                case 'up':

                    slideCount =
                        _.options.swipeToSlide ?
                            _.checkNavigable(_.currentSlide - _.getSlideCount()) :
                            _.currentSlide - _.getSlideCount();

                    _.currentDirection = 1;

                    break;

                default:


            }

            if (direction != 'vertical') {

                _.slideHandler(slideCount);
                _.touchObject = {};
                _.$slider.trigger('swipe', [_, direction]);

            }

        } else {

            if (_.touchObject.startX !== _.touchObject.curX) {

                _.slideHandler(_.currentSlide);
                _.touchObject = {};

            }

        }

    };

    Slick.prototype.swipeHandler = function (event) {

        var _ = this;

        if ((_.options.swipe === false) || ('ontouchend' in document && _.options.swipe === false)) {
            return;
        } else if (_.options.draggable === false && event.type.indexOf('mouse') !== -1) {
            return;
        }

        _.touchObject.fingerCount = event.originalEvent && event.originalEvent.touches !== undefined ?
            event.originalEvent.touches.length : 1;

        _.touchObject.minSwipe = _.listWidth / _.options
            .touchThreshold;

        if (_.options.verticalSwiping === true) {
            _.touchObject.minSwipe = _.listHeight / _.options
                .touchThreshold;
        }

        switch (event.data.action) {

            case 'start':
                _.swipeStart(event);
                break;

            case 'move':
                _.swipeMove(event);
                break;

            case 'end':
                _.swipeEnd(event);
                break;

        }

    };

    Slick.prototype.swipeMove = function (event) {

        var _ = this,
            edgeWasHit = false,
            curLeft, swipeDirection, swipeLength, positionOffset, touches;

        touches = event.originalEvent !== undefined ? event.originalEvent.touches : null;

        if (!_.dragging || touches && touches.length !== 1) {
            return false;
        }

        curLeft = _.getLeft(_.currentSlide);

        _.touchObject.curX = touches !== undefined ? touches[0].pageX : event.clientX;
        _.touchObject.curY = touches !== undefined ? touches[0].pageY : event.clientY;

        _.touchObject.swipeLength = Math.round(Math.sqrt(
            Math.pow(_.touchObject.curX - _.touchObject.startX, 2)));

        if (_.options.verticalSwiping === true) {
            _.touchObject.swipeLength = Math.round(Math.sqrt(
                Math.pow(_.touchObject.curY - _.touchObject.startY, 2)));
        }

        swipeDirection = _.swipeDirection();

        if (swipeDirection === 'vertical') {
            return;
        }

        if (event.originalEvent !== undefined && _.touchObject.swipeLength > 4) {
            event.preventDefault();
        }

        positionOffset = (_.options.rtl === false ? 1 : -1) * (_.touchObject.curX > _.touchObject.startX ? 1 : -1);
        if (_.options.verticalSwiping === true) {
            positionOffset = _.touchObject.curY > _.touchObject.startY ? 1 : -1;
        }


        swipeLength = _.touchObject.swipeLength;

        _.touchObject.edgeHit = false;

        if (_.options.infinite === false) {
            if ((_.currentSlide === 0 && swipeDirection === 'right') || (_.currentSlide >= _.getDotCount() && swipeDirection === 'left')) {
                swipeLength = _.touchObject.swipeLength * _.options.edgeFriction;
                _.touchObject.edgeHit = true;
            }
        }

        if (_.options.vertical === false) {
            _.swipeLeft = curLeft + swipeLength * positionOffset;
        } else {
            _.swipeLeft = curLeft + (swipeLength * (_.$list.height() / _.listWidth)) * positionOffset;
        }
        if (_.options.verticalSwiping === true) {
            _.swipeLeft = curLeft + swipeLength * positionOffset;
        }

        if (_.options.fade === true || _.options.touchMove === false) {
            return false;
        }

        if (_.animating === true) {
            _.swipeLeft = null;
            return false;
        }

        _.setCSS(_.swipeLeft);

    };

    Slick.prototype.swipeStart = function (event) {

        var _ = this,
            touches;

        _.interrupted = true;

        if (_.touchObject.fingerCount !== 1 || _.slideCount <= _.options.slidesToShow) {
            _.touchObject = {};
            return false;
        }

        if (event.originalEvent !== undefined && event.originalEvent.touches !== undefined) {
            touches = event.originalEvent.touches[0];
        }

        _.touchObject.startX = _.touchObject.curX = touches !== undefined ? touches.pageX : event.clientX;
        _.touchObject.startY = _.touchObject.curY = touches !== undefined ? touches.pageY : event.clientY;

        _.dragging = true;

    };

    Slick.prototype.unfilterSlides = Slick.prototype.slickUnfilter = function () {

        var _ = this;

        if (_.$slidesCache !== null) {

            _.unload();

            _.$slideTrack.children(this.options.slide).detach();

            _.$slidesCache.appendTo(_.$slideTrack);

            _.reinit();

        }

    };

    Slick.prototype.unload = function () {

        var _ = this;

        $('.slick-cloned', _.$slider).remove();

        if (_.$dots) {
            _.$dots.remove();
        }

        if (_.$prevArrow && _.htmlExpr.test(_.options.prevArrow)) {
            _.$prevArrow.remove();
        }

        if (_.$nextArrow && _.htmlExpr.test(_.options.nextArrow)) {
            _.$nextArrow.remove();
        }

        _.$slides
            .removeClass('slick-slide slick-active slick-visible slick-current')
            .attr('aria-hidden', 'true')
            .css('width', '');

    };

    Slick.prototype.unslick = function (fromBreakpoint) {

        var _ = this;
        _.$slider.trigger('unslick', [_, fromBreakpoint]);
        _.destroy();

    };

    Slick.prototype.updateArrows = function () {

        var _ = this,
            centerOffset;

        centerOffset = Math.floor(_.options.slidesToShow / 2);

        if (_.options.arrows === true &&
            _.slideCount > _.options.slidesToShow &&
            !_.options.infinite) {

            _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');
            _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            if (_.currentSlide === 0) {

                _.$prevArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            } else if (_.currentSlide >= _.slideCount - _.options.slidesToShow && _.options.centerMode === false) {

                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            } else if (_.currentSlide >= _.slideCount - 1 && _.options.centerMode === true) {

                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            }

        }

    };

    Slick.prototype.updateDots = function () {

        var _ = this;

        if (_.$dots !== null) {

            _.$dots
                .find('li')
                .removeClass('slick-active')
                .attr('aria-hidden', 'true');

            _.$dots
                .find('li')
                .eq(Math.floor(_.currentSlide / _.options.slidesToScroll))
                .addClass('slick-active')
                .attr('aria-hidden', 'false');

        }

    };

    Slick.prototype.visibility = function () {

        var _ = this;

        if (_.options.autoplay) {

            if (document[_.hidden]) {

                _.interrupted = true;

            } else {

                _.interrupted = false;

            }

        }

    };

    $.fn.slick = function () {
        var _ = this,
            opt = arguments[0],
            args = Array.prototype.slice.call(arguments, 1),
            l = _.length,
            i,
            ret;
        for (i = 0; i < l; i++) {
            if (typeof opt == 'object' || typeof opt == 'undefined')
                _[i].slick = new Slick(_[i], opt);
            else
                ret = _[i].slick[opt].apply(_[i].slick, args);
            if (typeof ret != 'undefined') return ret;
        }
        return _;
    };

}));


//! moment.js
//! version : 2.17.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
!function (a, b) { "object" == typeof exports && "undefined" != typeof module ? module.exports = b() : "function" == typeof define && define.amd ? define(b) : a.moment = b() }(this, function () {
    "use strict"; function a() { return od.apply(null, arguments) }
    // This is done to register the method called with moment()
    // without creating circular dependencies.
    function b(a) { od = a } function c(a) { return a instanceof Array || "[object Array]" === Object.prototype.toString.call(a) } function d(a) {
        // IE8 will treat undefined and null as object if it wasn't for
        // input != null
        return null != a && "[object Object]" === Object.prototype.toString.call(a)
    } function e(a) {
        var b; for (b in a)
            // even if its not own property I'd still call it non-empty
            return !1; return !0
    } function f(a) { return "number" == typeof a || "[object Number]" === Object.prototype.toString.call(a) } function g(a) { return a instanceof Date || "[object Date]" === Object.prototype.toString.call(a) } function h(a, b) { var c, d = []; for (c = 0; c < a.length; ++c) d.push(b(a[c], c)); return d } function i(a, b) { return Object.prototype.hasOwnProperty.call(a, b) } function j(a, b) { for (var c in b) i(b, c) && (a[c] = b[c]); return i(b, "toString") && (a.toString = b.toString), i(b, "valueOf") && (a.valueOf = b.valueOf), a } function k(a, b, c, d) { return rb(a, b, c, d, !0).utc() } function l() {
        // We need to deep clone this object.
        return { empty: !1, unusedTokens: [], unusedInput: [], overflow: -2, charsLeftOver: 0, nullInput: !1, invalidMonth: null, invalidFormat: !1, userInvalidated: !1, iso: !1, parsedDateParts: [], meridiem: null }
    } function m(a) { return null == a._pf && (a._pf = l()), a._pf } function n(a) { if (null == a._isValid) { var b = m(a), c = qd.call(b.parsedDateParts, function (a) { return null != a }), d = !isNaN(a._d.getTime()) && b.overflow < 0 && !b.empty && !b.invalidMonth && !b.invalidWeekday && !b.nullInput && !b.invalidFormat && !b.userInvalidated && (!b.meridiem || b.meridiem && c); if (a._strict && (d = d && 0 === b.charsLeftOver && 0 === b.unusedTokens.length && void 0 === b.bigHour), null != Object.isFrozen && Object.isFrozen(a)) return d; a._isValid = d } return a._isValid } function o(a) { var b = k(NaN); return null != a ? j(m(b), a) : m(b).userInvalidated = !0, b } function p(a) { return void 0 === a } function q(a, b) { var c, d, e; if (p(b._isAMomentObject) || (a._isAMomentObject = b._isAMomentObject), p(b._i) || (a._i = b._i), p(b._f) || (a._f = b._f), p(b._l) || (a._l = b._l), p(b._strict) || (a._strict = b._strict), p(b._tzm) || (a._tzm = b._tzm), p(b._isUTC) || (a._isUTC = b._isUTC), p(b._offset) || (a._offset = b._offset), p(b._pf) || (a._pf = m(b)), p(b._locale) || (a._locale = b._locale), rd.length > 0) for (c in rd) d = rd[c], e = b[d], p(e) || (a[d] = e); return a }
    // Moment prototype object
    function r(b) {
        q(this, b), this._d = new Date(null != b._d ? b._d.getTime() : NaN), this.isValid() || (this._d = new Date(NaN)),
        // Prevent infinite loop in case updateOffset creates new moment
        // objects.
        sd === !1 && (sd = !0, a.updateOffset(this), sd = !1)
    } function s(a) { return a instanceof r || null != a && null != a._isAMomentObject } function t(a) { return a < 0 ? Math.ceil(a) || 0 : Math.floor(a) } function u(a) { var b = +a, c = 0; return 0 !== b && isFinite(b) && (c = t(b)), c }
    // compare two arrays, return the number of differences
    function v(a, b, c) { var d, e = Math.min(a.length, b.length), f = Math.abs(a.length - b.length), g = 0; for (d = 0; d < e; d++) (c && a[d] !== b[d] || !c && u(a[d]) !== u(b[d])) && g++; return g + f } function w(b) { a.suppressDeprecationWarnings === !1 && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + b) } function x(b, c) { var d = !0; return j(function () { if (null != a.deprecationHandler && a.deprecationHandler(null, b), d) { for (var e, f = [], g = 0; g < arguments.length; g++) { if (e = "", "object" == typeof arguments[g]) { e += "\n[" + g + "] "; for (var h in arguments[0]) e += h + ": " + arguments[0][h] + ", "; e = e.slice(0, -2) } else e = arguments[g]; f.push(e) } w(b + "\nArguments: " + Array.prototype.slice.call(f).join("") + "\n" + (new Error).stack), d = !1 } return c.apply(this, arguments) }, c) } function y(b, c) { null != a.deprecationHandler && a.deprecationHandler(b, c), td[b] || (w(c), td[b] = !0) } function z(a) { return a instanceof Function || "[object Function]" === Object.prototype.toString.call(a) } function A(a) {
        var b, c; for (c in a) b = a[c], z(b) ? this[c] = b : this["_" + c] = b; this._config = a,
        // Lenient ordinal parsing accepts just a number in addition to
        // number + (possibly) stuff coming from _ordinalParseLenient.
        this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source)
    } function B(a, b) {
        var c, e = j({}, a); for (c in b) i(b, c) && (d(a[c]) && d(b[c]) ? (e[c] = {}, j(e[c], a[c]), j(e[c], b[c])) : null != b[c] ? e[c] = b[c] : delete e[c]); for (c in a) i(a, c) && !i(b, c) && d(a[c]) && (
        // make sure changes to properties don't modify parent config
        e[c] = j({}, e[c])); return e
    } function C(a) { null != a && this.set(a) } function D(a, b, c) { var d = this._calendar[a] || this._calendar.sameElse; return z(d) ? d.call(b, c) : d } function E(a) { var b = this._longDateFormat[a], c = this._longDateFormat[a.toUpperCase()]; return b || !c ? b : (this._longDateFormat[a] = c.replace(/MMMM|MM|DD|dddd/g, function (a) { return a.slice(1) }), this._longDateFormat[a]) } function F() { return this._invalidDate } function G(a) { return this._ordinal.replace("%d", a) } function H(a, b, c, d) { var e = this._relativeTime[c]; return z(e) ? e(a, b, c, d) : e.replace(/%d/i, a) } function I(a, b) { var c = this._relativeTime[a > 0 ? "future" : "past"]; return z(c) ? c(b) : c.replace(/%s/i, b) } function J(a, b) { var c = a.toLowerCase(); Dd[c] = Dd[c + "s"] = Dd[b] = a } function K(a) { return "string" == typeof a ? Dd[a] || Dd[a.toLowerCase()] : void 0 } function L(a) { var b, c, d = {}; for (c in a) i(a, c) && (b = K(c), b && (d[b] = a[c])); return d } function M(a, b) { Ed[a] = b } function N(a) { var b = []; for (var c in a) b.push({ unit: c, priority: Ed[c] }); return b.sort(function (a, b) { return a.priority - b.priority }), b } function O(b, c) { return function (d) { return null != d ? (Q(this, b, d), a.updateOffset(this, c), this) : P(this, b) } } function P(a, b) { return a.isValid() ? a._d["get" + (a._isUTC ? "UTC" : "") + b]() : NaN } function Q(a, b, c) { a.isValid() && a._d["set" + (a._isUTC ? "UTC" : "") + b](c) }
    // MOMENTS
    function R(a) { return a = K(a), z(this[a]) ? this[a]() : this } function S(a, b) { if ("object" == typeof a) { a = L(a); for (var c = N(a), d = 0; d < c.length; d++) this[c[d].unit](a[c[d].unit]) } else if (a = K(a), z(this[a])) return this[a](b); return this } function T(a, b, c) { var d = "" + Math.abs(a), e = b - d.length, f = a >= 0; return (f ? c ? "+" : "" : "-") + Math.pow(10, Math.max(0, e)).toString().substr(1) + d }
    // token:    'M'
    // padded:   ['MM', 2]
    // ordinal:  'Mo'
    // callback: function () { this.month() + 1 }
    function U(a, b, c, d) { var e = d; "string" == typeof d && (e = function () { return this[d]() }), a && (Id[a] = e), b && (Id[b[0]] = function () { return T(e.apply(this, arguments), b[1], b[2]) }), c && (Id[c] = function () { return this.localeData().ordinal(e.apply(this, arguments), a) }) } function V(a) { return a.match(/\[[\s\S]/) ? a.replace(/^\[|\]$/g, "") : a.replace(/\\/g, "") } function W(a) { var b, c, d = a.match(Fd); for (b = 0, c = d.length; b < c; b++) Id[d[b]] ? d[b] = Id[d[b]] : d[b] = V(d[b]); return function (b) { var e, f = ""; for (e = 0; e < c; e++) f += d[e] instanceof Function ? d[e].call(b, a) : d[e]; return f } }
    // format date using native date object
    function X(a, b) { return a.isValid() ? (b = Y(b, a.localeData()), Hd[b] = Hd[b] || W(b), Hd[b](a)) : a.localeData().invalidDate() } function Y(a, b) { function c(a) { return b.longDateFormat(a) || a } var d = 5; for (Gd.lastIndex = 0; d >= 0 && Gd.test(a) ;) a = a.replace(Gd, c), Gd.lastIndex = 0, d -= 1; return a } function Z(a, b, c) { $d[a] = z(b) ? b : function (a, d) { return a && c ? c : b } } function $(a, b) { return i($d, a) ? $d[a](b._strict, b._locale) : new RegExp(_(a)) }
    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
    function _(a) { return aa(a.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (a, b, c, d, e) { return b || c || d || e })) } function aa(a) { return a.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&") } function ba(a, b) { var c, d = b; for ("string" == typeof a && (a = [a]), f(b) && (d = function (a, c) { c[b] = u(a) }), c = 0; c < a.length; c++) _d[a[c]] = d } function ca(a, b) { ba(a, function (a, c, d, e) { d._w = d._w || {}, b(a, d._w, d, e) }) } function da(a, b, c) { null != b && i(_d, a) && _d[a](b, c._a, c, a) } function ea(a, b) { return new Date(Date.UTC(a, b + 1, 0)).getUTCDate() } function fa(a, b) { return a ? c(this._months) ? this._months[a.month()] : this._months[(this._months.isFormat || ke).test(b) ? "format" : "standalone"][a.month()] : this._months } function ga(a, b) { return a ? c(this._monthsShort) ? this._monthsShort[a.month()] : this._monthsShort[ke.test(b) ? "format" : "standalone"][a.month()] : this._monthsShort } function ha(a, b, c) {
        var d, e, f, g = a.toLocaleLowerCase(); if (!this._monthsParse) for (
            // this is not used
        this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], d = 0; d < 12; ++d) f = k([2e3, d]), this._shortMonthsParse[d] = this.monthsShort(f, "").toLocaleLowerCase(), this._longMonthsParse[d] = this.months(f, "").toLocaleLowerCase(); return c ? "MMM" === b ? (e = je.call(this._shortMonthsParse, g), e !== -1 ? e : null) : (e = je.call(this._longMonthsParse, g), e !== -1 ? e : null) : "MMM" === b ? (e = je.call(this._shortMonthsParse, g), e !== -1 ? e : (e = je.call(this._longMonthsParse, g), e !== -1 ? e : null)) : (e = je.call(this._longMonthsParse, g), e !== -1 ? e : (e = je.call(this._shortMonthsParse, g), e !== -1 ? e : null))
    } function ia(a, b, c) {
        var d, e, f; if (this._monthsParseExact) return ha.call(this, a, b, c);
        // TODO: add sorting
        // Sorting makes sure if one month (or abbr) is a prefix of another
        // see sorting in computeMonthsParse
        for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), d = 0; d < 12; d++) {
            // test the regex
            if (
                // make the regex if we don't have it already
            e = k([2e3, d]), c && !this._longMonthsParse[d] && (this._longMonthsParse[d] = new RegExp("^" + this.months(e, "").replace(".", "") + "$", "i"), this._shortMonthsParse[d] = new RegExp("^" + this.monthsShort(e, "").replace(".", "") + "$", "i")), c || this._monthsParse[d] || (f = "^" + this.months(e, "") + "|^" + this.monthsShort(e, ""), this._monthsParse[d] = new RegExp(f.replace(".", ""), "i")), c && "MMMM" === b && this._longMonthsParse[d].test(a)) return d; if (c && "MMM" === b && this._shortMonthsParse[d].test(a)) return d; if (!c && this._monthsParse[d].test(a)) return d
        }
    }
    // MOMENTS
    function ja(a, b) {
        var c; if (!a.isValid())
            // No op
            return a; if ("string" == typeof b) if (/^\d+$/.test(b)) b = u(b); else
                // TODO: Another silent failure?
                if (b = a.localeData().monthsParse(b), !f(b)) return a; return c = Math.min(a.date(), ea(a.year(), b)), a._d["set" + (a._isUTC ? "UTC" : "") + "Month"](b, c), a
    } function ka(b) { return null != b ? (ja(this, b), a.updateOffset(this, !0), this) : P(this, "Month") } function la() { return ea(this.year(), this.month()) } function ma(a) { return this._monthsParseExact ? (i(this, "_monthsRegex") || oa.call(this), a ? this._monthsShortStrictRegex : this._monthsShortRegex) : (i(this, "_monthsShortRegex") || (this._monthsShortRegex = ne), this._monthsShortStrictRegex && a ? this._monthsShortStrictRegex : this._monthsShortRegex) } function na(a) { return this._monthsParseExact ? (i(this, "_monthsRegex") || oa.call(this), a ? this._monthsStrictRegex : this._monthsRegex) : (i(this, "_monthsRegex") || (this._monthsRegex = oe), this._monthsStrictRegex && a ? this._monthsStrictRegex : this._monthsRegex) } function oa() {
        function a(a, b) { return b.length - a.length } var b, c, d = [], e = [], f = []; for (b = 0; b < 12; b++)
            // make the regex if we don't have it already
            c = k([2e3, b]), d.push(this.monthsShort(c, "")), e.push(this.months(c, "")), f.push(this.months(c, "")), f.push(this.monthsShort(c, "")); for (
                // Sorting makes sure if one month (or abbr) is a prefix of another it
                // will match the longer piece.
            d.sort(a), e.sort(a), f.sort(a), b = 0; b < 12; b++) d[b] = aa(d[b]), e[b] = aa(e[b]); for (b = 0; b < 24; b++) f[b] = aa(f[b]); this._monthsRegex = new RegExp("^(" + f.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp("^(" + e.join("|") + ")", "i"), this._monthsShortStrictRegex = new RegExp("^(" + d.join("|") + ")", "i")
    }
    // HELPERS
    function pa(a) { return qa(a) ? 366 : 365 } function qa(a) { return a % 4 === 0 && a % 100 !== 0 || a % 400 === 0 } function ra() { return qa(this.year()) } function sa(a, b, c, d, e, f, g) {
        //can't just apply() to create a date:
        //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply
        var h = new Date(a, b, c, d, e, f, g);
        //the date constructor remaps years 0-99 to 1900-1999
        return a < 100 && a >= 0 && isFinite(h.getFullYear()) && h.setFullYear(a), h
    } function ta(a) {
        var b = new Date(Date.UTC.apply(null, arguments));
        //the Date.UTC function remaps years 0-99 to 1900-1999
        return a < 100 && a >= 0 && isFinite(b.getUTCFullYear()) && b.setUTCFullYear(a), b
    }
    // start-of-first-week - start-of-year
    function ua(a, b, c) {
        var// first-week day -- which january is always in the first week (4 for iso, 1 for other)
        d = 7 + b - c,
        // first-week day local weekday -- which local weekday is fwd
        e = (7 + ta(a, 0, d).getUTCDay() - b) % 7; return -e + d - 1
    }
    //http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
    function va(a, b, c, d, e) { var f, g, h = (7 + c - d) % 7, i = ua(a, d, e), j = 1 + 7 * (b - 1) + h + i; return j <= 0 ? (f = a - 1, g = pa(f) + j) : j > pa(a) ? (f = a + 1, g = j - pa(a)) : (f = a, g = j), { year: f, dayOfYear: g } } function wa(a, b, c) { var d, e, f = ua(a.year(), b, c), g = Math.floor((a.dayOfYear() - f - 1) / 7) + 1; return g < 1 ? (e = a.year() - 1, d = g + xa(e, b, c)) : g > xa(a.year(), b, c) ? (d = g - xa(a.year(), b, c), e = a.year() + 1) : (e = a.year(), d = g), { week: d, year: e } } function xa(a, b, c) { var d = ua(a, b, c), e = ua(a + 1, b, c); return (pa(a) - d + e) / 7 }
    // HELPERS
    // LOCALES
    function ya(a) { return wa(a, this._week.dow, this._week.doy).week } function za() { return this._week.dow } function Aa() { return this._week.doy }
    // MOMENTS
    function Ba(a) { var b = this.localeData().week(this); return null == a ? b : this.add(7 * (a - b), "d") } function Ca(a) { var b = wa(this, 1, 4).week; return null == a ? b : this.add(7 * (a - b), "d") }
    // HELPERS
    function Da(a, b) { return "string" != typeof a ? a : isNaN(a) ? (a = b.weekdaysParse(a), "number" == typeof a ? a : null) : parseInt(a, 10) } function Ea(a, b) { return "string" == typeof a ? b.weekdaysParse(a) % 7 || 7 : isNaN(a) ? null : a } function Fa(a, b) { return a ? c(this._weekdays) ? this._weekdays[a.day()] : this._weekdays[this._weekdays.isFormat.test(b) ? "format" : "standalone"][a.day()] : this._weekdays } function Ga(a) { return a ? this._weekdaysShort[a.day()] : this._weekdaysShort } function Ha(a) { return a ? this._weekdaysMin[a.day()] : this._weekdaysMin } function Ia(a, b, c) { var d, e, f, g = a.toLocaleLowerCase(); if (!this._weekdaysParse) for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], d = 0; d < 7; ++d) f = k([2e3, 1]).day(d), this._minWeekdaysParse[d] = this.weekdaysMin(f, "").toLocaleLowerCase(), this._shortWeekdaysParse[d] = this.weekdaysShort(f, "").toLocaleLowerCase(), this._weekdaysParse[d] = this.weekdays(f, "").toLocaleLowerCase(); return c ? "dddd" === b ? (e = je.call(this._weekdaysParse, g), e !== -1 ? e : null) : "ddd" === b ? (e = je.call(this._shortWeekdaysParse, g), e !== -1 ? e : null) : (e = je.call(this._minWeekdaysParse, g), e !== -1 ? e : null) : "dddd" === b ? (e = je.call(this._weekdaysParse, g), e !== -1 ? e : (e = je.call(this._shortWeekdaysParse, g), e !== -1 ? e : (e = je.call(this._minWeekdaysParse, g), e !== -1 ? e : null))) : "ddd" === b ? (e = je.call(this._shortWeekdaysParse, g), e !== -1 ? e : (e = je.call(this._weekdaysParse, g), e !== -1 ? e : (e = je.call(this._minWeekdaysParse, g), e !== -1 ? e : null))) : (e = je.call(this._minWeekdaysParse, g), e !== -1 ? e : (e = je.call(this._weekdaysParse, g), e !== -1 ? e : (e = je.call(this._shortWeekdaysParse, g), e !== -1 ? e : null))) } function Ja(a, b, c) {
        var d, e, f; if (this._weekdaysParseExact) return Ia.call(this, a, b, c); for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), d = 0; d < 7; d++) {
            // test the regex
            if (
                // make the regex if we don't have it already
            e = k([2e3, 1]).day(d), c && !this._fullWeekdaysParse[d] && (this._fullWeekdaysParse[d] = new RegExp("^" + this.weekdays(e, "").replace(".", ".?") + "$", "i"), this._shortWeekdaysParse[d] = new RegExp("^" + this.weekdaysShort(e, "").replace(".", ".?") + "$", "i"), this._minWeekdaysParse[d] = new RegExp("^" + this.weekdaysMin(e, "").replace(".", ".?") + "$", "i")), this._weekdaysParse[d] || (f = "^" + this.weekdays(e, "") + "|^" + this.weekdaysShort(e, "") + "|^" + this.weekdaysMin(e, ""), this._weekdaysParse[d] = new RegExp(f.replace(".", ""), "i")), c && "dddd" === b && this._fullWeekdaysParse[d].test(a)) return d; if (c && "ddd" === b && this._shortWeekdaysParse[d].test(a)) return d; if (c && "dd" === b && this._minWeekdaysParse[d].test(a)) return d; if (!c && this._weekdaysParse[d].test(a)) return d
        }
    }
    // MOMENTS
    function Ka(a) { if (!this.isValid()) return null != a ? this : NaN; var b = this._isUTC ? this._d.getUTCDay() : this._d.getDay(); return null != a ? (a = Da(a, this.localeData()), this.add(a - b, "d")) : b } function La(a) { if (!this.isValid()) return null != a ? this : NaN; var b = (this.day() + 7 - this.localeData()._week.dow) % 7; return null == a ? b : this.add(a - b, "d") } function Ma(a) {
        if (!this.isValid()) return null != a ? this : NaN;
        // behaves the same as moment#day except
        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
        // as a setter, sunday should belong to the previous week.
        if (null != a) { var b = Ea(a, this.localeData()); return this.day(this.day() % 7 ? b : b - 7) } return this.day() || 7
    } function Na(a) { return this._weekdaysParseExact ? (i(this, "_weekdaysRegex") || Qa.call(this), a ? this._weekdaysStrictRegex : this._weekdaysRegex) : (i(this, "_weekdaysRegex") || (this._weekdaysRegex = ue), this._weekdaysStrictRegex && a ? this._weekdaysStrictRegex : this._weekdaysRegex) } function Oa(a) { return this._weekdaysParseExact ? (i(this, "_weekdaysRegex") || Qa.call(this), a ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (i(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = ve), this._weekdaysShortStrictRegex && a ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) } function Pa(a) { return this._weekdaysParseExact ? (i(this, "_weekdaysRegex") || Qa.call(this), a ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (i(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = we), this._weekdaysMinStrictRegex && a ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) } function Qa() {
        function a(a, b) { return b.length - a.length } var b, c, d, e, f, g = [], h = [], i = [], j = []; for (b = 0; b < 7; b++)
            // make the regex if we don't have it already
            c = k([2e3, 1]).day(b), d = this.weekdaysMin(c, ""), e = this.weekdaysShort(c, ""), f = this.weekdays(c, ""), g.push(d), h.push(e), i.push(f), j.push(d), j.push(e), j.push(f); for (
                // Sorting makes sure if one weekday (or abbr) is a prefix of another it
                // will match the longer piece.
            g.sort(a), h.sort(a), i.sort(a), j.sort(a), b = 0; b < 7; b++) h[b] = aa(h[b]), i[b] = aa(i[b]), j[b] = aa(j[b]); this._weekdaysRegex = new RegExp("^(" + j.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp("^(" + i.join("|") + ")", "i"), this._weekdaysShortStrictRegex = new RegExp("^(" + h.join("|") + ")", "i"), this._weekdaysMinStrictRegex = new RegExp("^(" + g.join("|") + ")", "i")
    }
    // FORMATTING
    function Ra() { return this.hours() % 12 || 12 } function Sa() { return this.hours() || 24 } function Ta(a, b) { U(a, 0, 0, function () { return this.localeData().meridiem(this.hours(), this.minutes(), b) }) }
    // PARSING
    function Ua(a, b) { return b._meridiemParse }
    // LOCALES
    function Va(a) {
        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
        // Using charAt should be more compatible.
        return "p" === (a + "").toLowerCase().charAt(0)
    } function Wa(a, b, c) { return a > 11 ? c ? "pm" : "PM" : c ? "am" : "AM" } function Xa(a) { return a ? a.toLowerCase().replace("_", "-") : a }
    // pick the locale from the array
    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
    function Ya(a) {
        for (var b, c, d, e, f = 0; f < a.length;) {
            for (e = Xa(a[f]).split("-"), b = e.length, c = Xa(a[f + 1]), c = c ? c.split("-") : null; b > 0;) {
                if (d = Za(e.slice(0, b).join("-"))) return d; if (c && c.length >= b && v(e, c, !0) >= b - 1)
                    //the next array item is better than a shallower substring of this one
                    break; b--
            } f++
        } return null
    } function Za(a) {
        var b = null;
        // TODO: Find a better way to register and load all the locales in Node
        if (!Be[a] && "undefined" != typeof module && module && module.exports) try {
            b = xe._abbr, require("./locale/" + a),
            // because defineLocale currently also sets the global locale, we
            // want to undo that for lazy loaded locales
            $a(b)
        } catch (a) { } return Be[a]
    }
    // This function will load locale and then set the global locale.  If
    // no arguments are passed in, it will simply return the current global
    // locale key.
    function $a(a, b) {
        var c;
        // moment.duration._locale = moment._locale = data;
        return a && (c = p(b) ? bb(a) : _a(a, b), c && (xe = c)), xe._abbr
    } function _a(a, b) {
        if (null !== b) {
            var c = Ae; if (b.abbr = a, null != Be[a]) y("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."), c = Be[a]._config; else if (null != b.parentLocale) { if (null == Be[b.parentLocale]) return Ce[b.parentLocale] || (Ce[b.parentLocale] = []), Ce[b.parentLocale].push({ name: a, config: b }), null; c = Be[b.parentLocale]._config }
            // backwards compat for now: also set the locale
            // make sure we set the locale AFTER all child locales have been
            // created, so we won't end up with the child locale set.
            return Be[a] = new C(B(c, b)), Ce[a] && Ce[a].forEach(function (a) { _a(a.name, a.config) }), $a(a), Be[a]
        }
        // useful for testing
        return delete Be[a], null
    } function ab(a, b) {
        if (null != b) {
            var c, d = Ae;
            // MERGE
            null != Be[a] && (d = Be[a]._config), b = B(d, b), c = new C(b), c.parentLocale = Be[a], Be[a] = c,
            // backwards compat for now: also set the locale
            $a(a)
        } else
            // pass null for config to unupdate, useful for tests
            null != Be[a] && (null != Be[a].parentLocale ? Be[a] = Be[a].parentLocale : null != Be[a] && delete Be[a]); return Be[a]
    }
    // returns locale data
    function bb(a) {
        var b; if (a && a._locale && a._locale._abbr && (a = a._locale._abbr), !a) return xe; if (!c(a)) {
            if (
                //short-circuit everything else
            b = Za(a)) return b; a = [a]
        } return Ya(a)
    } function cb() { return wd(Be) } function db(a) { var b, c = a._a; return c && m(a).overflow === -2 && (b = c[be] < 0 || c[be] > 11 ? be : c[ce] < 1 || c[ce] > ea(c[ae], c[be]) ? ce : c[de] < 0 || c[de] > 24 || 24 === c[de] && (0 !== c[ee] || 0 !== c[fe] || 0 !== c[ge]) ? de : c[ee] < 0 || c[ee] > 59 ? ee : c[fe] < 0 || c[fe] > 59 ? fe : c[ge] < 0 || c[ge] > 999 ? ge : -1, m(a)._overflowDayOfYear && (b < ae || b > ce) && (b = ce), m(a)._overflowWeeks && b === -1 && (b = he), m(a)._overflowWeekday && b === -1 && (b = ie), m(a).overflow = b), a }
    // date from iso format
    function eb(a) {
        var b, c, d, e, f, g, h = a._i, i = De.exec(h) || Ee.exec(h); if (i) {
            for (m(a).iso = !0, b = 0, c = Ge.length; b < c; b++) if (Ge[b][1].exec(i[1])) { e = Ge[b][0], d = Ge[b][2] !== !1; break } if (null == e) return void (a._isValid = !1); if (i[3]) {
                for (b = 0, c = He.length; b < c; b++) if (He[b][1].exec(i[3])) {
                    // match[2] should be 'T' or space
                    f = (i[2] || " ") + He[b][0]; break
                } if (null == f) return void (a._isValid = !1)
            } if (!d && null != f) return void (a._isValid = !1); if (i[4]) { if (!Fe.exec(i[4])) return void (a._isValid = !1); g = "Z" } a._f = e + (f || "") + (g || ""), kb(a)
        } else a._isValid = !1
    }
    // date from iso format or fallback
    function fb(b) { var c = Ie.exec(b._i); return null !== c ? void (b._d = new Date(+c[1])) : (eb(b), void (b._isValid === !1 && (delete b._isValid, a.createFromInputFallback(b)))) }
    // Pick the first defined of two or three arguments.
    function gb(a, b, c) { return null != a ? a : null != b ? b : c } function hb(b) {
        // hooks is actually the exported moment object
        var c = new Date(a.now()); return b._useUTC ? [c.getUTCFullYear(), c.getUTCMonth(), c.getUTCDate()] : [c.getFullYear(), c.getMonth(), c.getDate()]
    }
    // convert an array to a date.
    // the array should mirror the parameters below
    // note: all values past the year are optional and will default to the lowest possible value.
    // [year, month, day , hour, minute, second, millisecond]
    function ib(a) {
        var b, c, d, e, f = []; if (!a._d) {
            // Default to current date.
            // * if no year, month, day of month are given, default to today
            // * if day of month is given, default month and year
            // * if month is given, default only year
            // * if year is given, don't default anything
            for (d = hb(a),
                //compute day of the year from weeks and weekdays
            a._w && null == a._a[ce] && null == a._a[be] && jb(a),
                //if the day of the year is set, figure out what it is
            a._dayOfYear && (e = gb(a._a[ae], d[ae]), a._dayOfYear > pa(e) && (m(a)._overflowDayOfYear = !0), c = ta(e, 0, a._dayOfYear), a._a[be] = c.getUTCMonth(), a._a[ce] = c.getUTCDate()), b = 0; b < 3 && null == a._a[b]; ++b) a._a[b] = f[b] = d[b];
            // Zero out whatever was not defaulted, including time
            for (; b < 7; b++) a._a[b] = f[b] = null == a._a[b] ? 2 === b ? 1 : 0 : a._a[b];
            // Check for 24:00:00.000
            24 === a._a[de] && 0 === a._a[ee] && 0 === a._a[fe] && 0 === a._a[ge] && (a._nextDay = !0, a._a[de] = 0), a._d = (a._useUTC ? ta : sa).apply(null, f),
            // Apply timezone offset from input. The actual utcOffset can be changed
            // with parseZone.
            null != a._tzm && a._d.setUTCMinutes(a._d.getUTCMinutes() - a._tzm), a._nextDay && (a._a[de] = 24)
        }
    } function jb(a) {
        var b, c, d, e, f, g, h, i; if (b = a._w, null != b.GG || null != b.W || null != b.E) f = 1, g = 4,
        // TODO: We need to take the current isoWeekYear, but that depends on
        // how we interpret now (local, utc, fixed offset). So create
        // a now version of current config (take local/utc/offset flags, and
        // create now).
        c = gb(b.GG, a._a[ae], wa(sb(), 1, 4).year), d = gb(b.W, 1), e = gb(b.E, 1), (e < 1 || e > 7) && (i = !0); else {
            f = a._locale._week.dow, g = a._locale._week.doy; var j = wa(sb(), f, g); c = gb(b.gg, a._a[ae], j.year),
            // Default to current week.
            d = gb(b.w, j.week), null != b.d ? (
            // weekday -- low day numbers are considered next week
            e = b.d, (e < 0 || e > 6) && (i = !0)) : null != b.e ? (
            // local weekday -- counting starts from begining of week
            e = b.e + f, (b.e < 0 || b.e > 6) && (i = !0)) :
            // default to begining of week
            e = f
        } d < 1 || d > xa(c, f, g) ? m(a)._overflowWeeks = !0 : null != i ? m(a)._overflowWeekday = !0 : (h = va(c, d, e, f, g), a._a[ae] = h.year, a._dayOfYear = h.dayOfYear)
    }
    // date from string and format string
    function kb(b) {
        // TODO: Move this to another part of the creation flow to prevent circular deps
        if (b._f === a.ISO_8601) return void eb(b); b._a = [], m(b).empty = !0;
        // This array is used to make a Date, either with `new Date` or `Date.UTC`
        var c, d, e, f, g, h = "" + b._i, i = h.length, j = 0; for (e = Y(b._f, b._locale).match(Fd) || [], c = 0; c < e.length; c++) f = e[c], d = (h.match($(f, b)) || [])[0],
        // console.log('token', token, 'parsedInput', parsedInput,
        //         'regex', getParseRegexForToken(token, config));
        d && (g = h.substr(0, h.indexOf(d)), g.length > 0 && m(b).unusedInput.push(g), h = h.slice(h.indexOf(d) + d.length), j += d.length),
        // don't parse if it's not a known token
        Id[f] ? (d ? m(b).empty = !1 : m(b).unusedTokens.push(f), da(f, d, b)) : b._strict && !d && m(b).unusedTokens.push(f);
        // add remaining unparsed input length to the string
        m(b).charsLeftOver = i - j, h.length > 0 && m(b).unusedInput.push(h),
        // clear _12h flag if hour is <= 12
        b._a[de] <= 12 && m(b).bigHour === !0 && b._a[de] > 0 && (m(b).bigHour = void 0), m(b).parsedDateParts = b._a.slice(0), m(b).meridiem = b._meridiem,
        // handle meridiem
        b._a[de] = lb(b._locale, b._a[de], b._meridiem), ib(b), db(b)
    } function lb(a, b, c) {
        var d;
        // Fallback
        return null == c ? b : null != a.meridiemHour ? a.meridiemHour(b, c) : null != a.isPM ? (d = a.isPM(c), d && b < 12 && (b += 12), d || 12 !== b || (b = 0), b) : b
    }
    // date from string and array of format strings
    function mb(a) {
        var b, c, d, e, f; if (0 === a._f.length) return m(a).invalidFormat = !0, void (a._d = new Date(NaN)); for (e = 0; e < a._f.length; e++) f = 0, b = q({}, a), null != a._useUTC && (b._useUTC = a._useUTC), b._f = a._f[e], kb(b), n(b) && (
        // if there is any input that was not parsed add a penalty for that format
        f += m(b).charsLeftOver,
        //or tokens
        f += 10 * m(b).unusedTokens.length, m(b).score = f, (null == d || f < d) && (d = f, c = b)); j(a, c || b)
    } function nb(a) { if (!a._d) { var b = L(a._i); a._a = h([b.year, b.month, b.day || b.date, b.hour, b.minute, b.second, b.millisecond], function (a) { return a && parseInt(a, 10) }), ib(a) } } function ob(a) {
        var b = new r(db(pb(a)));
        // Adding is smart enough around DST
        return b._nextDay && (b.add(1, "d"), b._nextDay = void 0), b
    } function pb(a) { var b = a._i, d = a._f; return a._locale = a._locale || bb(a._l), null === b || void 0 === d && "" === b ? o({ nullInput: !0 }) : ("string" == typeof b && (a._i = b = a._locale.preparse(b)), s(b) ? new r(db(b)) : (g(b) ? a._d = b : c(d) ? mb(a) : d ? kb(a) : qb(a), n(a) || (a._d = null), a)) } function qb(b) {
        var d = b._i; void 0 === d ? b._d = new Date(a.now()) : g(d) ? b._d = new Date(d.valueOf()) : "string" == typeof d ? fb(b) : c(d) ? (b._a = h(d.slice(0), function (a) { return parseInt(a, 10) }), ib(b)) : "object" == typeof d ? nb(b) : f(d) ?
        // from milliseconds
        b._d = new Date(d) : a.createFromInputFallback(b)
    } function rb(a, b, f, g, h) {
        var i = {};
        // object construction must be done this way.
        // https://github.com/moment/moment/issues/1423
        return f !== !0 && f !== !1 || (g = f, f = void 0), (d(a) && e(a) || c(a) && 0 === a.length) && (a = void 0), i._isAMomentObject = !0, i._useUTC = i._isUTC = h, i._l = f, i._i = a, i._f = b, i._strict = g, ob(i)
    } function sb(a, b, c, d) { return rb(a, b, c, d, !1) }
    // Pick a moment m from moments so that m[fn](other) is true for all
    // other. This relies on the function fn to be transitive.
    //
    // moments should either be an array of moment objects or an array, whose
    // first element is an array of moment objects.
    function tb(a, b) { var d, e; if (1 === b.length && c(b[0]) && (b = b[0]), !b.length) return sb(); for (d = b[0], e = 1; e < b.length; ++e) b[e].isValid() && !b[e][a](d) || (d = b[e]); return d }
    // TODO: Use [].sort instead?
    function ub() { var a = [].slice.call(arguments, 0); return tb("isBefore", a) } function vb() { var a = [].slice.call(arguments, 0); return tb("isAfter", a) } function wb(a) {
        var b = L(a), c = b.year || 0, d = b.quarter || 0, e = b.month || 0, f = b.week || 0, g = b.day || 0, h = b.hour || 0, i = b.minute || 0, j = b.second || 0, k = b.millisecond || 0;
        // representation for dateAddRemove
        this._milliseconds = +k + 1e3 * j +// 1000
        6e4 * i +// 1000 * 60
        1e3 * h * 60 * 60,//using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978
        // Because of dateAddRemove treats 24 hours as different from a
        // day when working around DST, we need to store them separately
        this._days = +g + 7 * f,
        // It is impossible translate months into days without knowing
        // which months you are are talking about, so we have to store
        // it separately.
        this._months = +e + 3 * d + 12 * c, this._data = {}, this._locale = bb(), this._bubble()
    } function xb(a) { return a instanceof wb } function yb(a) { return a < 0 ? Math.round(-1 * a) * -1 : Math.round(a) }
    // FORMATTING
    function zb(a, b) { U(a, 0, 0, function () { var a = this.utcOffset(), c = "+"; return a < 0 && (a = -a, c = "-"), c + T(~~(a / 60), 2) + b + T(~~a % 60, 2) }) } function Ab(a, b) { var c = (b || "").match(a); if (null === c) return null; var d = c[c.length - 1] || [], e = (d + "").match(Me) || ["-", 0, 0], f = +(60 * e[1]) + u(e[2]); return 0 === f ? 0 : "+" === e[0] ? f : -f }
    // Return a moment from input, that is local/utc/zone equivalent to model.
    function Bb(b, c) {
        var d, e;
        // Use low-level api, because this fn is low-level api.
        return c._isUTC ? (d = c.clone(), e = (s(b) || g(b) ? b.valueOf() : sb(b).valueOf()) - d.valueOf(), d._d.setTime(d._d.valueOf() + e), a.updateOffset(d, !1), d) : sb(b).local()
    } function Cb(a) {
        // On Firefox.24 Date#getTimezoneOffset returns a floating point.
        // https://github.com/moment/moment/pull/1871
        return 15 * -Math.round(a._d.getTimezoneOffset() / 15)
    }
    // MOMENTS
    // keepLocalTime = true means only change the timezone, without
    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->
    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset
    // +0200, so we adjust the time as needed, to be valid.
    //
    // Keeping the time actually adds/subtracts (one hour)
    // from the actual represented time. That is why we call updateOffset
    // a second time. In case it wants us to change the offset again
    // _changeInProgress == true case, then we have to adjust, because
    // there is no such time in the given timezone.
    function Db(b, c) { var d, e = this._offset || 0; if (!this.isValid()) return null != b ? this : NaN; if (null != b) { if ("string" == typeof b) { if (b = Ab(Xd, b), null === b) return this } else Math.abs(b) < 16 && (b = 60 * b); return !this._isUTC && c && (d = Cb(this)), this._offset = b, this._isUTC = !0, null != d && this.add(d, "m"), e !== b && (!c || this._changeInProgress ? Tb(this, Ob(b - e, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, a.updateOffset(this, !0), this._changeInProgress = null)), this } return this._isUTC ? e : Cb(this) } function Eb(a, b) { return null != a ? ("string" != typeof a && (a = -a), this.utcOffset(a, b), this) : -this.utcOffset() } function Fb(a) { return this.utcOffset(0, a) } function Gb(a) { return this._isUTC && (this.utcOffset(0, a), this._isUTC = !1, a && this.subtract(Cb(this), "m")), this } function Hb() { if (null != this._tzm) this.utcOffset(this._tzm); else if ("string" == typeof this._i) { var a = Ab(Wd, this._i); null != a ? this.utcOffset(a) : this.utcOffset(0, !0) } return this } function Ib(a) { return !!this.isValid() && (a = a ? sb(a).utcOffset() : 0, (this.utcOffset() - a) % 60 === 0) } function Jb() { return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset() } function Kb() { if (!p(this._isDSTShifted)) return this._isDSTShifted; var a = {}; if (q(a, this), a = pb(a), a._a) { var b = a._isUTC ? k(a._a) : sb(a._a); this._isDSTShifted = this.isValid() && v(a._a, b.toArray()) > 0 } else this._isDSTShifted = !1; return this._isDSTShifted } function Lb() { return !!this.isValid() && !this._isUTC } function Mb() { return !!this.isValid() && this._isUTC } function Nb() { return !!this.isValid() && (this._isUTC && 0 === this._offset) } function Ob(a, b) {
        var c, d, e, g = a,
        // matching against regexp is expensive, do it on demand
        h = null;// checks for null or undefined
        return xb(a) ? g = { ms: a._milliseconds, d: a._days, M: a._months } : f(a) ? (g = {}, b ? g[b] = a : g.milliseconds = a) : (h = Ne.exec(a)) ? (c = "-" === h[1] ? -1 : 1, g = { y: 0, d: u(h[ce]) * c, h: u(h[de]) * c, m: u(h[ee]) * c, s: u(h[fe]) * c, ms: u(yb(1e3 * h[ge])) * c }) : (h = Oe.exec(a)) ? (c = "-" === h[1] ? -1 : 1, g = { y: Pb(h[2], c), M: Pb(h[3], c), w: Pb(h[4], c), d: Pb(h[5], c), h: Pb(h[6], c), m: Pb(h[7], c), s: Pb(h[8], c) }) : null == g ? g = {} : "object" == typeof g && ("from" in g || "to" in g) && (e = Rb(sb(g.from), sb(g.to)), g = {}, g.ms = e.milliseconds, g.M = e.months), d = new wb(g), xb(a) && i(a, "_locale") && (d._locale = a._locale), d
    } function Pb(a, b) {
        // We'd normally use ~~inp for this, but unfortunately it also
        // converts floats to ints.
        // inp may be undefined, so careful calling replace on it.
        var c = a && parseFloat(a.replace(",", "."));
        // apply sign while we're at it
        return (isNaN(c) ? 0 : c) * b
    } function Qb(a, b) { var c = { milliseconds: 0, months: 0 }; return c.months = b.month() - a.month() + 12 * (b.year() - a.year()), a.clone().add(c.months, "M").isAfter(b) && --c.months, c.milliseconds = +b - +a.clone().add(c.months, "M"), c } function Rb(a, b) { var c; return a.isValid() && b.isValid() ? (b = Bb(b, a), a.isBefore(b) ? c = Qb(a, b) : (c = Qb(b, a), c.milliseconds = -c.milliseconds, c.months = -c.months), c) : { milliseconds: 0, months: 0 } }
    // TODO: remove 'name' arg after deprecation is removed
    function Sb(a, b) {
        return function (c, d) {
            var e, f;
            //invert the arguments, but complain about it
            return null === d || isNaN(+d) || (y(b, "moment()." + b + "(period, number) is deprecated. Please use moment()." + b + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."), f = c, c = d, d = f), c = "string" == typeof c ? +c : c, e = Ob(c, d), Tb(this, e, a), this
        }
    } function Tb(b, c, d, e) { var f = c._milliseconds, g = yb(c._days), h = yb(c._months); b.isValid() && (e = null == e || e, f && b._d.setTime(b._d.valueOf() + f * d), g && Q(b, "Date", P(b, "Date") + g * d), h && ja(b, P(b, "Month") + h * d), e && a.updateOffset(b, g || h)) } function Ub(a, b) { var c = a.diff(b, "days", !0); return c < -6 ? "sameElse" : c < -1 ? "lastWeek" : c < 0 ? "lastDay" : c < 1 ? "sameDay" : c < 2 ? "nextDay" : c < 7 ? "nextWeek" : "sameElse" } function Vb(b, c) {
        // We want to compare the start of today, vs this.
        // Getting start-of-today depends on whether we're local/utc/offset or not.
        var d = b || sb(), e = Bb(d, this).startOf("day"), f = a.calendarFormat(this, e) || "sameElse", g = c && (z(c[f]) ? c[f].call(this, d) : c[f]); return this.format(g || this.localeData().calendar(f, this, sb(d)))
    } function Wb() { return new r(this) } function Xb(a, b) { var c = s(a) ? a : sb(a); return !(!this.isValid() || !c.isValid()) && (b = K(p(b) ? "millisecond" : b), "millisecond" === b ? this.valueOf() > c.valueOf() : c.valueOf() < this.clone().startOf(b).valueOf()) } function Yb(a, b) { var c = s(a) ? a : sb(a); return !(!this.isValid() || !c.isValid()) && (b = K(p(b) ? "millisecond" : b), "millisecond" === b ? this.valueOf() < c.valueOf() : this.clone().endOf(b).valueOf() < c.valueOf()) } function Zb(a, b, c, d) { return d = d || "()", ("(" === d[0] ? this.isAfter(a, c) : !this.isBefore(a, c)) && (")" === d[1] ? this.isBefore(b, c) : !this.isAfter(b, c)) } function $b(a, b) { var c, d = s(a) ? a : sb(a); return !(!this.isValid() || !d.isValid()) && (b = K(b || "millisecond"), "millisecond" === b ? this.valueOf() === d.valueOf() : (c = d.valueOf(), this.clone().startOf(b).valueOf() <= c && c <= this.clone().endOf(b).valueOf())) } function _b(a, b) { return this.isSame(a, b) || this.isAfter(a, b) } function ac(a, b) { return this.isSame(a, b) || this.isBefore(a, b) } function bc(a, b, c) {
        var d, e, f, g;// 1000
        // 1000 * 60
        // 1000 * 60 * 60
        // 1000 * 60 * 60 * 24, negate dst
        // 1000 * 60 * 60 * 24 * 7, negate dst
        return this.isValid() ? (d = Bb(a, this), d.isValid() ? (e = 6e4 * (d.utcOffset() - this.utcOffset()), b = K(b), "year" === b || "month" === b || "quarter" === b ? (g = cc(this, d), "quarter" === b ? g /= 3 : "year" === b && (g /= 12)) : (f = this - d, g = "second" === b ? f / 1e3 : "minute" === b ? f / 6e4 : "hour" === b ? f / 36e5 : "day" === b ? (f - e) / 864e5 : "week" === b ? (f - e) / 6048e5 : f), c ? g : t(g)) : NaN) : NaN
    } function cc(a, b) {
        // difference in months
        var c, d, e = 12 * (b.year() - a.year()) + (b.month() - a.month()),
        // b is in (anchor - 1 month, anchor + 1 month)
        f = a.clone().add(e, "months");
        //check for negative zero, return zero if negative zero
        // linear across the month
        // linear across the month
        return b - f < 0 ? (c = a.clone().add(e - 1, "months"), d = (b - f) / (f - c)) : (c = a.clone().add(e + 1, "months"), d = (b - f) / (c - f)), -(e + d) || 0
    } function dc() { return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ") } function ec() { var a = this.clone().utc(); return 0 < a.year() && a.year() <= 9999 ? z(Date.prototype.toISOString) ? this.toDate().toISOString() : X(a, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : X(a, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]") }/**
 * Return a human readable representation of a moment that can
 * also be evaluated to get a new moment which is the same
 *
 * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects
 */
    function fc() { if (!this.isValid()) return "moment.invalid(/* " + this._i + " */)"; var a = "moment", b = ""; this.isLocal() || (a = 0 === this.utcOffset() ? "moment.utc" : "moment.parseZone", b = "Z"); var c = "[" + a + '("]', d = 0 < this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY", e = "-MM-DD[T]HH:mm:ss.SSS", f = b + '[")]'; return this.format(c + d + e + f) } function gc(b) { b || (b = this.isUtc() ? a.defaultFormatUtc : a.defaultFormat); var c = X(this, b); return this.localeData().postformat(c) } function hc(a, b) { return this.isValid() && (s(a) && a.isValid() || sb(a).isValid()) ? Ob({ to: this, from: a }).locale(this.locale()).humanize(!b) : this.localeData().invalidDate() } function ic(a) { return this.from(sb(), a) } function jc(a, b) { return this.isValid() && (s(a) && a.isValid() || sb(a).isValid()) ? Ob({ from: this, to: a }).locale(this.locale()).humanize(!b) : this.localeData().invalidDate() } function kc(a) { return this.to(sb(), a) }
    // If passed a locale key, it will set the locale for this
    // instance.  Otherwise, it will return the locale configuration
    // variables for this instance.
    function lc(a) { var b; return void 0 === a ? this._locale._abbr : (b = bb(a), null != b && (this._locale = b), this) } function mc() { return this._locale } function nc(a) {
        // the following switch intentionally omits break keywords
        // to utilize falling through the cases.
        switch (a = K(a)) {
            case "year": this.month(0);/* falls through */
            case "quarter": case "month": this.date(1);/* falls through */
            case "week": case "isoWeek": case "day": case "date": this.hours(0);/* falls through */
            case "hour": this.minutes(0);/* falls through */
            case "minute": this.seconds(0);/* falls through */
            case "second": this.milliseconds(0)
        }
        // weeks are a special case
        // quarters are also special
        return "week" === a && this.weekday(0), "isoWeek" === a && this.isoWeekday(1), "quarter" === a && this.month(3 * Math.floor(this.month() / 3)), this
    } function oc(a) {
        // 'date' is an alias for 'day', so it should be considered as such.
        return a = K(a), void 0 === a || "millisecond" === a ? this : ("date" === a && (a = "day"), this.startOf(a).add(1, "isoWeek" === a ? "week" : a).subtract(1, "ms"))
    } function pc() { return this._d.valueOf() - 6e4 * (this._offset || 0) } function qc() { return Math.floor(this.valueOf() / 1e3) } function rc() { return new Date(this.valueOf()) } function sc() { var a = this; return [a.year(), a.month(), a.date(), a.hour(), a.minute(), a.second(), a.millisecond()] } function tc() { var a = this; return { years: a.year(), months: a.month(), date: a.date(), hours: a.hours(), minutes: a.minutes(), seconds: a.seconds(), milliseconds: a.milliseconds() } } function uc() {
        // new Date(NaN).toJSON() === null
        return this.isValid() ? this.toISOString() : null
    } function vc() { return n(this) } function wc() { return j({}, m(this)) } function xc() { return m(this).overflow } function yc() { return { input: this._i, format: this._f, locale: this._locale, isUTC: this._isUTC, strict: this._strict } } function zc(a, b) { U(0, [a, a.length], 0, b) }
    // MOMENTS
    function Ac(a) { return Ec.call(this, a, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy) } function Bc(a) { return Ec.call(this, a, this.isoWeek(), this.isoWeekday(), 1, 4) } function Cc() { return xa(this.year(), 1, 4) } function Dc() { var a = this.localeData()._week; return xa(this.year(), a.dow, a.doy) } function Ec(a, b, c, d, e) { var f; return null == a ? wa(this, d, e).year : (f = xa(a, d, e), b > f && (b = f), Fc.call(this, a, b, c, d, e)) } function Fc(a, b, c, d, e) { var f = va(a, b, c, d, e), g = ta(f.year, 0, f.dayOfYear); return this.year(g.getUTCFullYear()), this.month(g.getUTCMonth()), this.date(g.getUTCDate()), this }
    // MOMENTS
    function Gc(a) { return null == a ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (a - 1) + this.month() % 3) }
    // HELPERS
    // MOMENTS
    function Hc(a) { var b = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1; return null == a ? b : this.add(a - b, "d") } function Ic(a, b) { b[ge] = u(1e3 * ("0." + a)) }
    // MOMENTS
    function Jc() { return this._isUTC ? "UTC" : "" } function Kc() { return this._isUTC ? "Coordinated Universal Time" : "" } function Lc(a) { return sb(1e3 * a) } function Mc() { return sb.apply(null, arguments).parseZone() } function Nc(a) { return a } function Oc(a, b, c, d) { var e = bb(), f = k().set(d, b); return e[c](f, a) } function Pc(a, b, c) { if (f(a) && (b = a, a = void 0), a = a || "", null != b) return Oc(a, b, c, "month"); var d, e = []; for (d = 0; d < 12; d++) e[d] = Oc(a, d, c, "month"); return e }
    // ()
    // (5)
    // (fmt, 5)
    // (fmt)
    // (true)
    // (true, 5)
    // (true, fmt, 5)
    // (true, fmt)
    function Qc(a, b, c, d) { "boolean" == typeof a ? (f(b) && (c = b, b = void 0), b = b || "") : (b = a, c = b, a = !1, f(b) && (c = b, b = void 0), b = b || ""); var e = bb(), g = a ? e._week.dow : 0; if (null != c) return Oc(b, (c + g) % 7, d, "day"); var h, i = []; for (h = 0; h < 7; h++) i[h] = Oc(b, (h + g) % 7, d, "day"); return i } function Rc(a, b) { return Pc(a, b, "months") } function Sc(a, b) { return Pc(a, b, "monthsShort") } function Tc(a, b, c) { return Qc(a, b, c, "weekdays") } function Uc(a, b, c) { return Qc(a, b, c, "weekdaysShort") } function Vc(a, b, c) { return Qc(a, b, c, "weekdaysMin") } function Wc() { var a = this._data; return this._milliseconds = Ze(this._milliseconds), this._days = Ze(this._days), this._months = Ze(this._months), a.milliseconds = Ze(a.milliseconds), a.seconds = Ze(a.seconds), a.minutes = Ze(a.minutes), a.hours = Ze(a.hours), a.months = Ze(a.months), a.years = Ze(a.years), this } function Xc(a, b, c, d) { var e = Ob(b, c); return a._milliseconds += d * e._milliseconds, a._days += d * e._days, a._months += d * e._months, a._bubble() }
    // supports only 2.0-style add(1, 's') or add(duration)
    function Yc(a, b) { return Xc(this, a, b, 1) }
    // supports only 2.0-style subtract(1, 's') or subtract(duration)
    function Zc(a, b) { return Xc(this, a, b, -1) } function $c(a) { return a < 0 ? Math.floor(a) : Math.ceil(a) } function _c() {
        var a, b, c, d, e, f = this._milliseconds, g = this._days, h = this._months, i = this._data;
        // if we have a mix of positive and negative values, bubble down first
        // check: https://github.com/moment/moment/issues/2166
        // The following code bubbles up values, see the tests for
        // examples of what that means.
        // convert days to months
        // 12 months -> 1 year
        return f >= 0 && g >= 0 && h >= 0 || f <= 0 && g <= 0 && h <= 0 || (f += 864e5 * $c(bd(h) + g), g = 0, h = 0), i.milliseconds = f % 1e3, a = t(f / 1e3), i.seconds = a % 60, b = t(a / 60), i.minutes = b % 60, c = t(b / 60), i.hours = c % 24, g += t(c / 24), e = t(ad(g)), h += e, g -= $c(bd(e)), d = t(h / 12), h %= 12, i.days = g, i.months = h, i.years = d, this
    } function ad(a) {
        // 400 years have 146097 days (taking into account leap year rules)
        // 400 years have 12 months === 4800
        return 4800 * a / 146097
    } function bd(a) {
        // the reverse of daysToMonths
        return 146097 * a / 4800
    } function cd(a) {
        var b, c, d = this._milliseconds; if (a = K(a), "month" === a || "year" === a) return b = this._days + d / 864e5, c = this._months + ad(b), "month" === a ? c : c / 12; switch (
            // handle milliseconds separately because of floating point math errors (issue #1867)
        b = this._days + Math.round(bd(this._months)), a) {
            case "week": return b / 7 + d / 6048e5; case "day": return b + d / 864e5; case "hour": return 24 * b + d / 36e5; case "minute": return 1440 * b + d / 6e4; case "second": return 86400 * b + d / 1e3;
                // Math.floor prevents floating point math errors here
            case "millisecond": return Math.floor(864e5 * b) + d; default: throw new Error("Unknown unit " + a)
        }
    }
    // TODO: Use this.as('ms')?
    function dd() { return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * u(this._months / 12) } function ed(a) { return function () { return this.as(a) } } function fd(a) { return a = K(a), this[a + "s"]() } function gd(a) { return function () { return this._data[a] } } function hd() { return t(this.days() / 7) }
    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
    function id(a, b, c, d, e) { return e.relativeTime(b || 1, !!c, a, d) } function jd(a, b, c) { var d = Ob(a).abs(), e = of(d.as("s")), f = of(d.as("m")), g = of(d.as("h")), h = of(d.as("d")), i = of(d.as("M")), j = of(d.as("y")), k = e < pf.s && ["s", e] || f <= 1 && ["m"] || f < pf.m && ["mm", f] || g <= 1 && ["h"] || g < pf.h && ["hh", g] || h <= 1 && ["d"] || h < pf.d && ["dd", h] || i <= 1 && ["M"] || i < pf.M && ["MM", i] || j <= 1 && ["y"] || ["yy", j]; return k[2] = b, k[3] = +a > 0, k[4] = c, id.apply(null, k) }
    // This function allows you to set the rounding function for relative time strings
    function kd(a) { return void 0 === a ? of : "function" == typeof a && (of = a, !0) }
    // This function allows you to set a threshold for relative time strings
    function ld(a, b) { return void 0 !== pf[a] && (void 0 === b ? pf[a] : (pf[a] = b, !0)) } function md(a) { var b = this.localeData(), c = jd(this, !a, b); return a && (c = b.pastFuture(+this, c)), b.postformat(c) } function nd() {
        // for ISO strings we do not use the normal bubbling rules:
        //  * milliseconds bubble up until they become hours
        //  * days do not bubble at all
        //  * months bubble up until they become years
        // This is because there is no context-free conversion between hours and days
        // (think of clock changes)
        // and also not between days and months (28-31 days per month)
        var a, b, c, d = qf(this._milliseconds) / 1e3, e = qf(this._days), f = qf(this._months);
        // 3600 seconds -> 60 minutes -> 1 hour
        a = t(d / 60), b = t(a / 60), d %= 60, a %= 60,
        // 12 months -> 1 year
        c = t(f / 12), f %= 12;
        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
        var g = c, h = f, i = e, j = b, k = a, l = d, m = this.asSeconds(); return m ? (m < 0 ? "-" : "") + "P" + (g ? g + "Y" : "") + (h ? h + "M" : "") + (i ? i + "D" : "") + (j || k || l ? "T" : "") + (j ? j + "H" : "") + (k ? k + "M" : "") + (l ? l + "S" : "") : "P0D"
    } var od, pd; pd = Array.prototype.some ? Array.prototype.some : function (a) { for (var b = Object(this), c = b.length >>> 0, d = 0; d < c; d++) if (d in b && a.call(this, b[d], d, b)) return !0; return !1 }; var qd = pd, rd = a.momentProperties = [], sd = !1, td = {}; a.suppressDeprecationWarnings = !1, a.deprecationHandler = null; var ud; ud = Object.keys ? Object.keys : function (a) { var b, c = []; for (b in a) i(a, b) && c.push(b); return c }; var vd, wd = ud, xd = { sameDay: "[Today at] LT", nextDay: "[Tomorrow at] LT", nextWeek: "dddd [at] LT", lastDay: "[Yesterday at] LT", lastWeek: "[Last] dddd [at] LT", sameElse: "L" }, yd = { LTS: "h:mm:ss A", LT: "h:mm A", L: "MM/DD/YYYY", LL: "MMMM D, YYYY", LLL: "MMMM D, YYYY h:mm A", LLLL: "dddd, MMMM D, YYYY h:mm A" }, zd = "Invalid date", Ad = "%d", Bd = /\d{1,2}/, Cd = { future: "in %s", past: "%s ago", s: "a few seconds", m: "a minute", mm: "%d minutes", h: "an hour", hh: "%d hours", d: "a day", dd: "%d days", M: "a month", MM: "%d months", y: "a year", yy: "%d years" }, Dd = {}, Ed = {}, Fd = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, Gd = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, Hd = {}, Id = {}, Jd = /\d/, Kd = /\d\d/, Ld = /\d{3}/, Md = /\d{4}/, Nd = /[+-]?\d{6}/, Od = /\d\d?/, Pd = /\d\d\d\d?/, Qd = /\d\d\d\d\d\d?/, Rd = /\d{1,3}/, Sd = /\d{1,4}/, Td = /[+-]?\d{1,6}/, Ud = /\d+/, Vd = /[+-]?\d+/, Wd = /Z|[+-]\d\d:?\d\d/gi, Xd = /Z|[+-]\d\d(?::?\d\d)?/gi, Yd = /[+-]?\d+(\.\d{1,3})?/, Zd = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i, $d = {}, _d = {}, ae = 0, be = 1, ce = 2, de = 3, ee = 4, fe = 5, ge = 6, he = 7, ie = 8; vd = Array.prototype.indexOf ? Array.prototype.indexOf : function (a) {
        // I know
        var b; for (b = 0; b < this.length; ++b) if (this[b] === a) return b; return -1
    }; var je = vd;
    // FORMATTING
    U("M", ["MM", 2], "Mo", function () { return this.month() + 1 }), U("MMM", 0, 0, function (a) { return this.localeData().monthsShort(this, a) }), U("MMMM", 0, 0, function (a) { return this.localeData().months(this, a) }),
    // ALIASES
    J("month", "M"),
    // PRIORITY
    M("month", 8),
    // PARSING
    Z("M", Od), Z("MM", Od, Kd), Z("MMM", function (a, b) { return b.monthsShortRegex(a) }), Z("MMMM", function (a, b) { return b.monthsRegex(a) }), ba(["M", "MM"], function (a, b) { b[be] = u(a) - 1 }), ba(["MMM", "MMMM"], function (a, b, c, d) {
        var e = c._locale.monthsParse(a, d, c._strict);
        // if we didn't find a month name, mark the date as invalid.
        null != e ? b[be] = e : m(c).invalidMonth = a
    });
    // LOCALES
    var ke = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/, le = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), me = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"), ne = Zd, oe = Zd;
    // FORMATTING
    U("Y", 0, 0, function () { var a = this.year(); return a <= 9999 ? "" + a : "+" + a }), U(0, ["YY", 2], 0, function () { return this.year() % 100 }), U(0, ["YYYY", 4], 0, "year"), U(0, ["YYYYY", 5], 0, "year"), U(0, ["YYYYYY", 6, !0], 0, "year"),
    // ALIASES
    J("year", "y"),
    // PRIORITIES
    M("year", 1),
    // PARSING
    Z("Y", Vd), Z("YY", Od, Kd), Z("YYYY", Sd, Md), Z("YYYYY", Td, Nd), Z("YYYYYY", Td, Nd), ba(["YYYYY", "YYYYYY"], ae), ba("YYYY", function (b, c) { c[ae] = 2 === b.length ? a.parseTwoDigitYear(b) : u(b) }), ba("YY", function (b, c) { c[ae] = a.parseTwoDigitYear(b) }), ba("Y", function (a, b) { b[ae] = parseInt(a, 10) }),
    // HOOKS
    a.parseTwoDigitYear = function (a) { return u(a) + (u(a) > 68 ? 1900 : 2e3) };
    // MOMENTS
    var pe = O("FullYear", !0);
    // FORMATTING
    U("w", ["ww", 2], "wo", "week"), U("W", ["WW", 2], "Wo", "isoWeek"),
    // ALIASES
    J("week", "w"), J("isoWeek", "W"),
    // PRIORITIES
    M("week", 5), M("isoWeek", 5),
    // PARSING
    Z("w", Od), Z("ww", Od, Kd), Z("W", Od), Z("WW", Od, Kd), ca(["w", "ww", "W", "WW"], function (a, b, c, d) { b[d.substr(0, 1)] = u(a) }); var qe = {
        dow: 0,// Sunday is the first day of the week.
        doy: 6
    };
    // FORMATTING
    U("d", 0, "do", "day"), U("dd", 0, 0, function (a) { return this.localeData().weekdaysMin(this, a) }), U("ddd", 0, 0, function (a) { return this.localeData().weekdaysShort(this, a) }), U("dddd", 0, 0, function (a) { return this.localeData().weekdays(this, a) }), U("e", 0, 0, "weekday"), U("E", 0, 0, "isoWeekday"),
    // ALIASES
    J("day", "d"), J("weekday", "e"), J("isoWeekday", "E"),
    // PRIORITY
    M("day", 11), M("weekday", 11), M("isoWeekday", 11),
    // PARSING
    Z("d", Od), Z("e", Od), Z("E", Od), Z("dd", function (a, b) { return b.weekdaysMinRegex(a) }), Z("ddd", function (a, b) { return b.weekdaysShortRegex(a) }), Z("dddd", function (a, b) { return b.weekdaysRegex(a) }), ca(["dd", "ddd", "dddd"], function (a, b, c, d) {
        var e = c._locale.weekdaysParse(a, d, c._strict);
        // if we didn't get a weekday name, mark the date as invalid
        null != e ? b.d = e : m(c).invalidWeekday = a
    }), ca(["d", "e", "E"], function (a, b, c, d) { b[d] = u(a) });
    // LOCALES
    var re = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), se = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), te = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"), ue = Zd, ve = Zd, we = Zd; U("H", ["HH", 2], 0, "hour"), U("h", ["hh", 2], 0, Ra), U("k", ["kk", 2], 0, Sa), U("hmm", 0, 0, function () { return "" + Ra.apply(this) + T(this.minutes(), 2) }), U("hmmss", 0, 0, function () { return "" + Ra.apply(this) + T(this.minutes(), 2) + T(this.seconds(), 2) }), U("Hmm", 0, 0, function () { return "" + this.hours() + T(this.minutes(), 2) }), U("Hmmss", 0, 0, function () { return "" + this.hours() + T(this.minutes(), 2) + T(this.seconds(), 2) }), Ta("a", !0), Ta("A", !1),
    // ALIASES
    J("hour", "h"),
    // PRIORITY
    M("hour", 13), Z("a", Ua), Z("A", Ua), Z("H", Od), Z("h", Od), Z("HH", Od, Kd), Z("hh", Od, Kd), Z("hmm", Pd), Z("hmmss", Qd), Z("Hmm", Pd), Z("Hmmss", Qd), ba(["H", "HH"], de), ba(["a", "A"], function (a, b, c) { c._isPm = c._locale.isPM(a), c._meridiem = a }), ba(["h", "hh"], function (a, b, c) { b[de] = u(a), m(c).bigHour = !0 }), ba("hmm", function (a, b, c) { var d = a.length - 2; b[de] = u(a.substr(0, d)), b[ee] = u(a.substr(d)), m(c).bigHour = !0 }), ba("hmmss", function (a, b, c) { var d = a.length - 4, e = a.length - 2; b[de] = u(a.substr(0, d)), b[ee] = u(a.substr(d, 2)), b[fe] = u(a.substr(e)), m(c).bigHour = !0 }), ba("Hmm", function (a, b, c) { var d = a.length - 2; b[de] = u(a.substr(0, d)), b[ee] = u(a.substr(d)) }), ba("Hmmss", function (a, b, c) { var d = a.length - 4, e = a.length - 2; b[de] = u(a.substr(0, d)), b[ee] = u(a.substr(d, 2)), b[fe] = u(a.substr(e)) }); var xe, ye = /[ap]\.?m?\.?/i, ze = O("Hours", !0), Ae = { calendar: xd, longDateFormat: yd, invalidDate: zd, ordinal: Ad, ordinalParse: Bd, relativeTime: Cd, months: le, monthsShort: me, week: qe, weekdays: re, weekdaysMin: te, weekdaysShort: se, meridiemParse: ye }, Be = {}, Ce = {}, De = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, Ee = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, Fe = /Z|[+-]\d\d(?::?\d\d)?/, Ge = [["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/], ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/], ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/], ["GGGG-[W]WW", /\d{4}-W\d\d/, !1], ["YYYY-DDD", /\d{4}-\d{3}/], ["YYYY-MM", /\d{4}-\d\d/, !1], ["YYYYYYMMDD", /[+-]\d{10}/], ["YYYYMMDD", /\d{8}/],
    // YYYYMM is NOT allowed by the standard
    ["GGGG[W]WWE", /\d{4}W\d{3}/], ["GGGG[W]WW", /\d{4}W\d{2}/, !1], ["YYYYDDD", /\d{7}/]], He = [["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/], ["HH:mm:ss", /\d\d:\d\d:\d\d/], ["HH:mm", /\d\d:\d\d/], ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/], ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/], ["HHmmss", /\d\d\d\d\d\d/], ["HHmm", /\d\d\d\d/], ["HH", /\d\d/]], Ie = /^\/?Date\((\-?\d+)/i; a.createFromInputFallback = x("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function (a) { a._d = new Date(a._i + (a._useUTC ? " UTC" : "")) }),
    // constant that refers to the ISO standard
    a.ISO_8601 = function () { }; var Je = x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function () { var a = sb.apply(null, arguments); return this.isValid() && a.isValid() ? a < this ? this : a : o() }), Ke = x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function () { var a = sb.apply(null, arguments); return this.isValid() && a.isValid() ? a > this ? this : a : o() }), Le = function () { return Date.now ? Date.now() : +new Date }; zb("Z", ":"), zb("ZZ", ""),
    // PARSING
    Z("Z", Xd), Z("ZZ", Xd), ba(["Z", "ZZ"], function (a, b, c) { c._useUTC = !0, c._tzm = Ab(Xd, a) });
    // HELPERS
    // timezone chunker
    // '+10:00' > ['10',  '00']
    // '-1530'  > ['-15', '30']
    var Me = /([\+\-]|\d\d)/gi;
    // HOOKS
    // This function will be called whenever a moment is mutated.
    // It is intended to keep the offset in sync with the timezone.
    a.updateOffset = function () { };
    // ASP.NET json date format regex
    var Ne = /^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/, Oe = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/; Ob.fn = wb.prototype; var Pe = Sb(1, "add"), Qe = Sb(-1, "subtract"); a.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", a.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]"; var Re = x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function (a) { return void 0 === a ? this.localeData() : this.locale(a) });
    // FORMATTING
    U(0, ["gg", 2], 0, function () { return this.weekYear() % 100 }), U(0, ["GG", 2], 0, function () { return this.isoWeekYear() % 100 }), zc("gggg", "weekYear"), zc("ggggg", "weekYear"), zc("GGGG", "isoWeekYear"), zc("GGGGG", "isoWeekYear"),
    // ALIASES
    J("weekYear", "gg"), J("isoWeekYear", "GG"),
    // PRIORITY
    M("weekYear", 1), M("isoWeekYear", 1),
    // PARSING
    Z("G", Vd), Z("g", Vd), Z("GG", Od, Kd), Z("gg", Od, Kd), Z("GGGG", Sd, Md), Z("gggg", Sd, Md), Z("GGGGG", Td, Nd), Z("ggggg", Td, Nd), ca(["gggg", "ggggg", "GGGG", "GGGGG"], function (a, b, c, d) { b[d.substr(0, 2)] = u(a) }), ca(["gg", "GG"], function (b, c, d, e) { c[e] = a.parseTwoDigitYear(b) }),
    // FORMATTING
    U("Q", 0, "Qo", "quarter"),
    // ALIASES
    J("quarter", "Q"),
    // PRIORITY
    M("quarter", 7),
    // PARSING
    Z("Q", Jd), ba("Q", function (a, b) { b[be] = 3 * (u(a) - 1) }),
    // FORMATTING
    U("D", ["DD", 2], "Do", "date"),
    // ALIASES
    J("date", "D"),
    // PRIOROITY
    M("date", 9),
    // PARSING
    Z("D", Od), Z("DD", Od, Kd), Z("Do", function (a, b) { return a ? b._ordinalParse : b._ordinalParseLenient }), ba(["D", "DD"], ce), ba("Do", function (a, b) { b[ce] = u(a.match(Od)[0], 10) });
    // MOMENTS
    var Se = O("Date", !0);
    // FORMATTING
    U("DDD", ["DDDD", 3], "DDDo", "dayOfYear"),
    // ALIASES
    J("dayOfYear", "DDD"),
    // PRIORITY
    M("dayOfYear", 4),
    // PARSING
    Z("DDD", Rd), Z("DDDD", Ld), ba(["DDD", "DDDD"], function (a, b, c) { c._dayOfYear = u(a) }),
    // FORMATTING
    U("m", ["mm", 2], 0, "minute"),
    // ALIASES
    J("minute", "m"),
    // PRIORITY
    M("minute", 14),
    // PARSING
    Z("m", Od), Z("mm", Od, Kd), ba(["m", "mm"], ee);
    // MOMENTS
    var Te = O("Minutes", !1);
    // FORMATTING
    U("s", ["ss", 2], 0, "second"),
    // ALIASES
    J("second", "s"),
    // PRIORITY
    M("second", 15),
    // PARSING
    Z("s", Od), Z("ss", Od, Kd), ba(["s", "ss"], fe);
    // MOMENTS
    var Ue = O("Seconds", !1);
    // FORMATTING
    U("S", 0, 0, function () { return ~~(this.millisecond() / 100) }), U(0, ["SS", 2], 0, function () { return ~~(this.millisecond() / 10) }), U(0, ["SSS", 3], 0, "millisecond"), U(0, ["SSSS", 4], 0, function () { return 10 * this.millisecond() }), U(0, ["SSSSS", 5], 0, function () { return 100 * this.millisecond() }), U(0, ["SSSSSS", 6], 0, function () { return 1e3 * this.millisecond() }), U(0, ["SSSSSSS", 7], 0, function () { return 1e4 * this.millisecond() }), U(0, ["SSSSSSSS", 8], 0, function () { return 1e5 * this.millisecond() }), U(0, ["SSSSSSSSS", 9], 0, function () { return 1e6 * this.millisecond() }),
    // ALIASES
    J("millisecond", "ms"),
    // PRIORITY
    M("millisecond", 16),
    // PARSING
    Z("S", Rd, Jd), Z("SS", Rd, Kd), Z("SSS", Rd, Ld); var Ve; for (Ve = "SSSS"; Ve.length <= 9; Ve += "S") Z(Ve, Ud); for (Ve = "S"; Ve.length <= 9; Ve += "S") ba(Ve, Ic);
    // MOMENTS
    var We = O("Milliseconds", !1);
    // FORMATTING
    U("z", 0, 0, "zoneAbbr"), U("zz", 0, 0, "zoneName"); var Xe = r.prototype; Xe.add = Pe, Xe.calendar = Vb, Xe.clone = Wb, Xe.diff = bc, Xe.endOf = oc, Xe.format = gc, Xe.from = hc, Xe.fromNow = ic, Xe.to = jc, Xe.toNow = kc, Xe.get = R, Xe.invalidAt = xc, Xe.isAfter = Xb, Xe.isBefore = Yb, Xe.isBetween = Zb, Xe.isSame = $b, Xe.isSameOrAfter = _b, Xe.isSameOrBefore = ac, Xe.isValid = vc, Xe.lang = Re, Xe.locale = lc, Xe.localeData = mc, Xe.max = Ke, Xe.min = Je, Xe.parsingFlags = wc, Xe.set = S, Xe.startOf = nc, Xe.subtract = Qe, Xe.toArray = sc, Xe.toObject = tc, Xe.toDate = rc, Xe.toISOString = ec, Xe.inspect = fc, Xe.toJSON = uc, Xe.toString = dc, Xe.unix = qc, Xe.valueOf = pc, Xe.creationData = yc,
    // Year
    Xe.year = pe, Xe.isLeapYear = ra,
    // Week Year
    Xe.weekYear = Ac, Xe.isoWeekYear = Bc,
    // Quarter
    Xe.quarter = Xe.quarters = Gc,
    // Month
    Xe.month = ka, Xe.daysInMonth = la,
    // Week
    Xe.week = Xe.weeks = Ba, Xe.isoWeek = Xe.isoWeeks = Ca, Xe.weeksInYear = Dc, Xe.isoWeeksInYear = Cc,
    // Day
    Xe.date = Se, Xe.day = Xe.days = Ka, Xe.weekday = La, Xe.isoWeekday = Ma, Xe.dayOfYear = Hc,
    // Hour
    Xe.hour = Xe.hours = ze,
    // Minute
    Xe.minute = Xe.minutes = Te,
    // Second
    Xe.second = Xe.seconds = Ue,
    // Millisecond
    Xe.millisecond = Xe.milliseconds = We,
    // Offset
    Xe.utcOffset = Db, Xe.utc = Fb, Xe.local = Gb, Xe.parseZone = Hb, Xe.hasAlignedHourOffset = Ib, Xe.isDST = Jb, Xe.isLocal = Lb, Xe.isUtcOffset = Mb, Xe.isUtc = Nb, Xe.isUTC = Nb,
    // Timezone
    Xe.zoneAbbr = Jc, Xe.zoneName = Kc,
    // Deprecations
    Xe.dates = x("dates accessor is deprecated. Use date instead.", Se), Xe.months = x("months accessor is deprecated. Use month instead", ka), Xe.years = x("years accessor is deprecated. Use year instead", pe), Xe.zone = x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", Eb), Xe.isDSTShifted = x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", Kb); var Ye = C.prototype; Ye.calendar = D, Ye.longDateFormat = E, Ye.invalidDate = F, Ye.ordinal = G, Ye.preparse = Nc, Ye.postformat = Nc, Ye.relativeTime = H, Ye.pastFuture = I, Ye.set = A,
    // Month
    Ye.months = fa, Ye.monthsShort = ga, Ye.monthsParse = ia, Ye.monthsRegex = na, Ye.monthsShortRegex = ma,
    // Week
    Ye.week = ya, Ye.firstDayOfYear = Aa, Ye.firstDayOfWeek = za,
    // Day of Week
    Ye.weekdays = Fa, Ye.weekdaysMin = Ha, Ye.weekdaysShort = Ga, Ye.weekdaysParse = Ja, Ye.weekdaysRegex = Na, Ye.weekdaysShortRegex = Oa, Ye.weekdaysMinRegex = Pa,
    // Hours
    Ye.isPM = Va, Ye.meridiem = Wa, $a("en", { ordinalParse: /\d{1,2}(th|st|nd|rd)/, ordinal: function (a) { var b = a % 10, c = 1 === u(a % 100 / 10) ? "th" : 1 === b ? "st" : 2 === b ? "nd" : 3 === b ? "rd" : "th"; return a + c } }),
    // Side effect imports
    a.lang = x("moment.lang is deprecated. Use moment.locale instead.", $a), a.langData = x("moment.langData is deprecated. Use moment.localeData instead.", bb); var Ze = Math.abs, $e = ed("ms"), _e = ed("s"), af = ed("m"), bf = ed("h"), cf = ed("d"), df = ed("w"), ef = ed("M"), ff = ed("y"), gf = gd("milliseconds"), hf = gd("seconds"), jf = gd("minutes"), kf = gd("hours"), lf = gd("days"), mf = gd("months"), nf = gd("years"), of = Math.round, pf = {
        s: 45,// seconds to minute
        m: 45,// minutes to hour
        h: 22,// hours to day
        d: 26,// days to month
        M: 11
    }, qf = Math.abs, rf = wb.prototype;
    // Deprecations
    // Side effect imports
    // FORMATTING
    // PARSING
    // Side effect imports
    return rf.abs = Wc, rf.add = Yc, rf.subtract = Zc, rf.as = cd, rf.asMilliseconds = $e, rf.asSeconds = _e, rf.asMinutes = af, rf.asHours = bf, rf.asDays = cf, rf.asWeeks = df, rf.asMonths = ef, rf.asYears = ff, rf.valueOf = dd, rf._bubble = _c, rf.get = fd, rf.milliseconds = gf, rf.seconds = hf, rf.minutes = jf, rf.hours = kf, rf.days = lf, rf.weeks = hd, rf.months = mf, rf.years = nf, rf.humanize = md, rf.toISOString = nd, rf.toString = nd, rf.toJSON = nd, rf.locale = lc, rf.localeData = mc, rf.toIsoString = x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", nd), rf.lang = Re, U("X", 0, 0, "unix"), U("x", 0, 0, "valueOf"), Z("x", Vd), Z("X", Yd), ba("X", function (a, b, c) { c._d = new Date(1e3 * parseFloat(a, 10)) }), ba("x", function (a, b, c) { c._d = new Date(u(a)) }), a.version = "2.17.1", b(sb), a.fn = Xe, a.min = ub, a.max = vb, a.now = Le, a.utc = k, a.unix = Lc, a.months = Rc, a.isDate = g, a.locale = $a, a.invalid = o, a.duration = Ob, a.isMoment = s, a.weekdays = Tc, a.parseZone = Mc, a.localeData = bb, a.isDuration = xb, a.monthsShort = Sc, a.weekdaysMin = Vc, a.defineLocale = _a, a.updateLocale = ab, a.locales = cb, a.weekdaysShort = Uc, a.normalizeUnits = K, a.relativeTimeRounding = kd, a.relativeTimeThreshold = ld, a.calendarFormat = Ub, a.prototype = Xe, a
});

/*!
 * FullCalendar v3.2.0
 * Docs & License: https://fullcalendar.io/
 * (c) 2017 Adam Shaw
 */
!function (t) { "function" == typeof define && define.amd ? define(["jquery", "moment"], t) : "object" == typeof exports ? module.exports = t(require("jquery"), require("moment")) : t(jQuery, moment) }(function (t, e) {
    function n(t) { return q(t, Vt) } function i(t, e) { e.left && t.css({ "border-left-width": 1, "margin-left": e.left - 1 }), e.right && t.css({ "border-right-width": 1, "margin-right": e.right - 1 }) } function r(t) { t.css({ "margin-left": "", "margin-right": "", "border-left-width": "", "border-right-width": "" }) } function s() { t("body").addClass("fc-not-allowed") } function o() { t("body").removeClass("fc-not-allowed") } function l(e, n, i) { var r = Math.floor(n / e.length), s = Math.floor(n - r * (e.length - 1)), o = [], l = [], u = [], c = 0; a(e), e.each(function (n, i) { var a = n === e.length - 1 ? s : r, d = t(i).outerHeight(!0); d < a ? (o.push(i), l.push(d), u.push(t(i).height())) : c += d }), i && (n -= c, r = Math.floor(n / o.length), s = Math.floor(n - r * (o.length - 1))), t(o).each(function (e, n) { var i = e === o.length - 1 ? s : r, a = l[e], c = u[e], d = i - (a - c); a < i && t(n).height(d) }) } function a(t) { t.height("") } function u(e) { var n = 0; return e.find("> *").each(function (e, i) { var r = t(i).outerWidth(); r > n && (n = r) }), n++, e.width(n), n } function c(t, e) { var n, i = t.add(e); return i.css({ position: "relative", left: -1 }), n = t.outerHeight() - e.outerHeight(), i.css({ position: "", left: "" }), n } function d(e) { var n = e.css("position"), i = e.parents().filter(function () { var e = t(this); return /(auto|scroll)/.test(e.css("overflow") + e.css("overflow-y") + e.css("overflow-x")) }).eq(0); return "fixed" !== n && i.length ? i : t(e[0].ownerDocument || document) } function h(t, e) { var n = t.offset(), i = n.left - (e ? e.left : 0), r = n.top - (e ? e.top : 0); return { left: i, right: i + t.outerWidth(), top: r, bottom: r + t.outerHeight() } } function f(t, e) { var n = t.offset(), i = p(t), r = n.left + S(t, "border-left-width") + i.left - (e ? e.left : 0), s = n.top + S(t, "border-top-width") + i.top - (e ? e.top : 0); return { left: r, right: r + t[0].clientWidth, top: s, bottom: s + t[0].clientHeight } } function g(t, e) { var n = t.offset(), i = n.left + S(t, "border-left-width") + S(t, "padding-left") - (e ? e.left : 0), r = n.top + S(t, "border-top-width") + S(t, "padding-top") - (e ? e.top : 0); return { left: i, right: i + t.width(), top: r, bottom: r + t.height() } } function p(t) { var e, n = t.innerWidth() - t[0].clientWidth, i = t.innerHeight() - t[0].clientHeight; return n = v(n), i = v(i), e = { left: 0, right: 0, top: 0, bottom: i }, m() && "rtl" == t.css("direction") ? e.left = n : e.right = n, e } function v(t) { return t = Math.max(0, t), t = Math.round(t) } function m() { return null === Pt && (Pt = y()), Pt } function y() { var e = t("<div><div/></div>").css({ position: "absolute", top: -1e3, left: 0, border: 0, padding: 0, overflow: "scroll", direction: "rtl" }).appendTo("body"), n = e.children(), i = n.offset().left > e.offset().left; return e.remove(), i } function S(t, e) { return parseFloat(t.css(e)) || 0 } function w(t) { return 1 == t.which && !t.ctrlKey } function E(t) { var e = t.originalEvent.touches; return e && e.length ? e[0].pageX : t.pageX } function b(t) { var e = t.originalEvent.touches; return e && e.length ? e[0].pageY : t.pageY } function D(t) { return /^touch/.test(t.type) } function T(t) { t.addClass("fc-unselectable").on("selectstart", H) } function C(t) { t.removeClass("fc-unselectable").off("selectstart", H) } function H(t) { t.preventDefault() } function x(t, e) { var n = { left: Math.max(t.left, e.left), right: Math.min(t.right, e.right), top: Math.max(t.top, e.top), bottom: Math.min(t.bottom, e.bottom) }; return n.left < n.right && n.top < n.bottom && n } function R(t, e) { return { left: Math.min(Math.max(t.left, e.left), e.right), top: Math.min(Math.max(t.top, e.top), e.bottom) } } function I(t) { return { left: (t.left + t.right) / 2, top: (t.top + t.bottom) / 2 } } function k(t, e) { return { left: t.left - e.left, top: t.top - e.top } } function L(e) { var n, i, r = [], s = []; for ("string" == typeof e ? s = e.split(/\s*,\s*/) : "function" == typeof e ? s = [e] : t.isArray(e) && (s = e), n = 0; n < s.length; n++) i = s[n], "string" == typeof i ? r.push("-" == i.charAt(0) ? { field: i.substring(1), order: -1 } : { field: i, order: 1 }) : "function" == typeof i && r.push({ func: i }); return r } function M(t, e, n) { var i, r; for (i = 0; i < n.length; i++) if (r = B(t, e, n[i])) return r; return 0 } function B(t, e, n) { return n.func ? n.func(t, e) : N(t[n.field], e[n.field]) * (n.order || 1) } function N(e, n) { return e || n ? null == n ? -1 : null == e ? 1 : "string" === t.type(e) || "string" === t.type(n) ? String(e).localeCompare(String(n)) : e - n : 0 } function F(t, e) { var n, i, r, s, o = t.start, l = t.end, a = e.start, u = e.end; if (l > a && o < u) return o >= a ? (n = o.clone(), r = !0) : (n = a.clone(), r = !1), l <= u ? (i = l.clone(), s = !0) : (i = u.clone(), s = !1), { start: n, end: i, isStart: r, isEnd: s } } function z(t, n) { return e.duration({ days: t.clone().stripTime().diff(n.clone().stripTime(), "days"), ms: t.time() - n.time() }) } function G(t, n) { return e.duration({ days: t.clone().stripTime().diff(n.clone().stripTime(), "days") }) } function O(t, n, i) { return e.duration(Math.round(t.diff(n, i, !0)), i) } function A(t, e) { var n, i, r; for (n = 0; n < Yt.length && (i = Yt[n], r = V(i, t, e), !(r >= 1 && ot(r))) ; n++); return i } function V(t, n, i) { return null != i ? i.diff(n, t, !0) : e.isDuration(n) ? n.as(t) : n.end.diff(n.start, t, !0) } function P(t, e, n) { var i; return W(n) ? (e - t) / n : (i = n.asMonths(), Math.abs(i) >= 1 && ot(i) ? e.diff(t, "months", !0) / i : e.diff(t, "days", !0) / n.asDays()) } function _(t, e) { var n, i; return W(t) || W(e) ? t / e : (n = t.asMonths(), i = e.asMonths(), Math.abs(n) >= 1 && ot(n) && Math.abs(i) >= 1 && ot(i) ? n / i : t.asDays() / e.asDays()) } function Y(t, n) { var i; return W(t) ? e.duration(t * n) : (i = t.asMonths(), Math.abs(i) >= 1 && ot(i) ? e.duration({ months: i * n }) : e.duration({ days: t.asDays() * n })) } function W(t) { return Boolean(t.hours() || t.minutes() || t.seconds() || t.milliseconds()) } function U(t) { return "[object Date]" === Object.prototype.toString.call(t) || t instanceof Date } function j(t) { return /^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t) } function q(t, e) { var n, i, r, s, o, l, a = {}; if (e) for (n = 0; n < e.length; n++) { for (i = e[n], r = [], s = t.length - 1; s >= 0; s--) if (o = t[s][i], "object" == typeof o) r.unshift(o); else if (void 0 !== o) { a[i] = o; break } r.length && (a[i] = q(r)) } for (n = t.length - 1; n >= 0; n--) { l = t[n]; for (i in l) i in a || (a[i] = l[i]) } return a } function Z(t) { var e = function () { }; return e.prototype = t, new e } function $(t, e) { for (var n in t) Q(t, n) && (e[n] = t[n]) } function Q(t, e) { return Wt.call(t, e) } function X(e) { return /undefined|null|boolean|number|string/.test(t.type(e)) } function K(e, n, i) { if (t.isFunction(e) && (e = [e]), e) { var r, s; for (r = 0; r < e.length; r++) s = e[r].apply(n, i) || s; return s } } function J() { for (var t = 0; t < arguments.length; t++) if (void 0 !== arguments[t]) return arguments[t] } function tt(t) { return (t + "").replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/'/g, "&#039;").replace(/"/g, "&quot;").replace(/\n/g, "<br />") } function et(t) { return t.replace(/&.*?;/g, "") } function nt(e) { var n = []; return t.each(e, function (t, e) { null != e && n.push(t + ":" + e) }), n.join(";") } function it(e) { var n = []; return t.each(e, function (t, e) { null != e && n.push(t + '="' + tt(e) + '"') }), n.join(" ") } function rt(t) { return t.charAt(0).toUpperCase() + t.slice(1) } function st(t, e) { return t - e } function ot(t) { return t % 1 === 0 } function lt(t, e) { var n = t[e]; return function () { return n.apply(t, arguments) } } function at(t, e, n) { var i, r, s, o, l, a = function () { var u = +new Date - o; u < e ? i = setTimeout(a, e - u) : (i = null, n || (l = t.apply(s, r), s = r = null)) }; return function () { s = this, r = arguments, o = +new Date; var u = n && !i; return i || (i = setTimeout(a, e)), u && (l = t.apply(s, r), s = r = null), l } } function ut(n, i, r) { var s, o, l, a, u = n[0], c = 1 == n.length && "string" == typeof u; return e.isMoment(u) || U(u) || void 0 === u ? a = e.apply(null, n) : (s = !1, o = !1, c ? Ut.test(u) ? (u += "-01", n = [u], s = !0, o = !0) : (l = jt.exec(u)) && (s = !l[5], o = !0) : t.isArray(u) && (o = !0), a = i || s ? e.utc.apply(e, n) : e.apply(null, n), s ? (a._ambigTime = !0, a._ambigZone = !0) : r && (o ? a._ambigZone = !0 : c && a.utcOffset(u))), a._fullCalendar = !0, a } function ct() { } function dt(t, e) { var n; return Q(e, "constructor") && (n = e.constructor), "function" != typeof n && (n = e.constructor = function () { t.apply(this, arguments) }), n.prototype = Z(t.prototype), $(e, n.prototype), $(t, n), n } function ht(t, e) { $(e, t.prototype) } function ft(e) { var n = t.Deferred(), i = n.promise(); if ("function" == typeof e && e(function (t) { ft.immediate && (i._value = t), n.resolve(t) }, function () { n.reject() }), ft.immediate) { var r = i.then; i.then = function (t, e) { var n = i.state(); if ("resolved" === n) { if ("function" == typeof t) return ft.resolve(t(i._value)) } else if ("rejected" === n && "function" == typeof e) return e(), i; return r.call(i, t, e) } } return i } function gt(t) { function e(t) { return new ft(function (e) { var i = function () { ft.resolve(t()).then(e).then(function () { n.shift(), n.length && n[0]() }) }; n.push(i), 1 === n.length && i() }) } var n = []; this.add = "number" == typeof t ? at(e, t) : e, this.addQuickly = e } function pt(t, e) { return !t && !e || !(!t || !e) && (t.component === e.component && vt(t, e) && vt(e, t)) } function vt(t, e) { for (var n in t) if (!/^(component|left|right|top|bottom)$/.test(n) && t[n] !== e[n]) return !1; return !0 } function mt(t) { return { start: t.start.clone(), end: t.end ? t.end.clone() : null, allDay: t.allDay } } function yt(t) { var e = wt(t); return "background" === e || "inverse-background" === e } function St(t) { return "inverse-background" === wt(t) } function wt(t) { return J((t.source || {}).rendering, t.rendering) } function Et(t) { var e, n, i = {}; for (e = 0; e < t.length; e++) n = t[e], (i[n._id] || (i[n._id] = [])).push(n); return i } function bt(t, e) { return t.start - e.start } function Dt(n) { var i, r, s, o, l = Ot.dataAttrPrefix; return l && (l += "-"), i = n.data(l + "event") || null, i && (i = "object" == typeof i ? t.extend({}, i) : {}, r = i.start, null == r && (r = i.time), s = i.duration, o = i.stick, delete i.start, delete i.time, delete i.duration, delete i.stick), null == r && (r = n.data(l + "start")), null == r && (r = n.data(l + "time")), null == s && (s = n.data(l + "duration")), null == o && (o = n.data(l + "stick")), r = null != r ? e.duration(r) : null, s = null != s ? e.duration(s) : null, o = Boolean(o), { eventProps: i, startTime: r, duration: s, stick: o } } function Tt(t, e) { var n, i; for (n = 0; n < e.length; n++) if (i = e[n], i.leftCol <= t.rightCol && i.rightCol >= t.leftCol) return !0; return !1 } function Ct(t, e) { return t.leftCol - e.leftCol } function Ht(t) { var e, n, i, r = []; for (e = 0; e < t.length; e++) { for (n = t[e], i = 0; i < r.length && It(n, r[i]).length; i++); n.level = i, (r[i] || (r[i] = [])).push(n) } return r } function xt(t) { var e, n, i, r, s; for (e = 0; e < t.length; e++) for (n = t[e], i = 0; i < n.length; i++) for (r = n[i], r.forwardSegs = [], s = e + 1; s < t.length; s++) It(r, t[s], r.forwardSegs) } function Rt(t) { var e, n, i = t.forwardSegs, r = 0; if (void 0 === t.forwardPressure) { for (e = 0; e < i.length; e++) n = i[e], Rt(n), r = Math.max(r, 1 + n.forwardPressure); t.forwardPressure = r } } function It(t, e, n) { n = n || []; for (var i = 0; i < e.length; i++) kt(t, e[i]) && n.push(e[i]); return n } function kt(t, e) { return t.bottom > e.top && t.top < e.bottom } function Lt(t) { this.items = t || [] } function Mt(e, n) { function i(t) { n = t } function r() { var i = n.layout; p = e.options.theme ? "ui" : "fc", i ? (g ? g.empty() : g = this.el = t("<div class='fc-toolbar " + n.extraClasses + "'/>"), g.append(o("left")).append(o("right")).append(o("center")).append('<div class="fc-clear"/>')) : s() } function s() { g && (g.remove(), g = f.el = null) } function o(i) { var r = t('<div class="fc-' + i + '"/>'), s = n.layout[i]; return s && t.each(s.split(" "), function (n) { var i, s = t(), o = !0; t.each(this.split(","), function (n, i) { var r, l, a, u, c, d, h, f, g, m; "title" == i ? (s = s.add(t("<h2>&nbsp;</h2>")), o = !1) : ((r = (e.options.customButtons || {})[i]) ? (a = function (t) { r.click && r.click.call(m[0], t) }, u = "", c = r.text) : (l = e.getViewSpec(i)) ? (a = function () { e.changeView(i) }, v.push(i), u = l.buttonTextOverride, c = l.buttonTextDefault) : e[i] && (a = function () { e[i]() }, u = (e.overrides.buttonText || {})[i], c = e.options.buttonText[i]), a && (d = r ? r.themeIcon : e.options.themeButtonIcons[i], h = r ? r.icon : e.options.buttonIcons[i], f = u ? tt(u) : d && e.options.theme ? "<span class='ui-icon ui-icon-" + d + "'></span>" : h && !e.options.theme ? "<span class='fc-icon fc-icon-" + h + "'></span>" : tt(c), g = ["fc-" + i + "-button", p + "-button", p + "-state-default"], m = t('<button type="button" class="' + g.join(" ") + '">' + f + "</button>").click(function (t) { m.hasClass(p + "-state-disabled") || (a(t), (m.hasClass(p + "-state-active") || m.hasClass(p + "-state-disabled")) && m.removeClass(p + "-state-hover")) }).mousedown(function () { m.not("." + p + "-state-active").not("." + p + "-state-disabled").addClass(p + "-state-down") }).mouseup(function () { m.removeClass(p + "-state-down") }).hover(function () { m.not("." + p + "-state-active").not("." + p + "-state-disabled").addClass(p + "-state-hover") }, function () { m.removeClass(p + "-state-hover").removeClass(p + "-state-down") }), s = s.add(m))) }), o && s.first().addClass(p + "-corner-left").end().last().addClass(p + "-corner-right").end(), s.length > 1 ? (i = t("<div/>"), o && i.addClass("fc-button-group"), i.append(s), r.append(i)) : r.append(s) }), r } function l(t) { g && g.find("h2").text(t) } function a(t) { g && g.find(".fc-" + t + "-button").addClass(p + "-state-active") } function u(t) { g && g.find(".fc-" + t + "-button").removeClass(p + "-state-active") } function c(t) { g && g.find(".fc-" + t + "-button").prop("disabled", !0).addClass(p + "-state-disabled") } function d(t) { g && g.find(".fc-" + t + "-button").prop("disabled", !1).removeClass(p + "-state-disabled") } function h() { return v } var f = this; f.setToolbarOptions = i, f.render = r, f.removeElement = s, f.updateTitle = l, f.activateButton = a, f.deactivateButton = u, f.disableButton = c, f.enableButton = d, f.getViewsWithButtons = h, f.el = null; var g, p, v = [] } function Bt(n, i) { function r(t) { t._locale = Y } function s() { q ? a() && (f(), u()) : o() } function o() { n.addClass("fc"), n.on("click.fc", "a[data-goto]", function (e) { var n = t(this), i = n.data("goto"), r = _.moment(i.date), s = i.type, o = Q.opt("navLink" + rt(s) + "Click"); "function" == typeof o ? o(r, e) : ("string" == typeof o && (s = o), B(r, s)) }), _.bindOption("theme", function (t) { $ = t ? "ui" : "fc", n.toggleClass("ui-widget", t), n.toggleClass("fc-unthemed", !t) }), _.bindOptions(["isRTL", "locale"], function (t) { n.toggleClass("fc-ltr", !t), n.toggleClass("fc-rtl", t) }), q = t("<div class='fc-view-container'/>").prependTo(n); var e = y(); W = new Lt(e), U = _.header = e[0], j = _.footer = e[1], E(), b(), u(_.options.defaultView), _.options.handleWindowResize && (K = at(v, _.options.windowResizeDelay), t(window).resize(K)) } function l() { Q && Q.removeElement(), W.proxyCall("removeElement"), q.remove(), n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"), n.off(".fc"), K && t(window).unbind("resize", K), se.unneeded() } function a() { return n.is(":visible") } function u(e, n) { nt++; var i = Q && e && Q.type !== e; i && (F(), c()), !Q && e && (Q = _.view = et[e] || (et[e] = _.instantiateView(e)), Q.setElement(t("<div class='fc-view fc-" + e + "-view' />").appendTo(q)), W.proxyCall("activateButton", e)), Q && (J = Q.massageCurrentDate(J), Q.isDateSet && J >= Q.intervalStart && J < Q.intervalEnd || a() && (n && Q.captureInitialScroll(n), Q.setDate(J, n), n && Q.releaseScroll(), D())), i && z(), nt-- } function c() { W.proxyCall("deactivateButton", Q.type), Q.removeElement(), Q = _.view = null } function d() { nt++, F(); var t = Q.type, e = Q.queryScroll(); c(), f(), u(t, e), z(), nt-- } function h(t) { if (a()) return t && g(), nt++, Q.updateSize(!0), nt--, !0 } function f() { a() && g() } function g() { var t = _.options.contentHeight, e = _.options.height; X = "number" == typeof t ? t : "function" == typeof t ? t() : "number" == typeof e ? e - p() : "function" == typeof e ? e() - p() : "parent" === e ? n.parent().height() - p() : Math.round(q.width() / Math.max(_.options.aspectRatio, .5)) } function p() { return W.items.reduce(function (t, e) { var n = e.el ? e.el.outerHeight(!0) : 0; return t + n }, 0) } function v(t) { !nt && t.target === window && Q.start && h(!0) && Q.publiclyTrigger("windowResize", tt) } function m() { a() && _.reportEventChange() } function y() { return [new Mt(_, S()), new Mt(_, w())] } function S() { return { extraClasses: "fc-header-toolbar", layout: _.options.header } } function w() { return { extraClasses: "fc-footer-toolbar", layout: _.options.footer } } function E() { U.setToolbarOptions(S()), U.render(), U.el && n.prepend(U.el) } function b() { j.setToolbarOptions(w()), j.render(), j.el && n.append(j.el) } function D() { var t = _.getNow(); t >= Q.intervalStart && t < Q.intervalEnd ? W.proxyCall("disableButton", "today") : W.proxyCall("enableButton", "today") } function T(t, e) { Q.select(_.buildSelectSpan.apply(_, arguments)) } function C() { Q && Q.unselect() } function H() { J = Q.computePrevDate(J), u() } function x() { J = Q.computeNextDate(J), u() } function R() { J.add(-1, "years"), u() } function I() { J.add(1, "years"), u() } function k() { J = _.getNow(), u() } function L(t) { J = _.moment(t).stripZone(), u() } function M(t) { J.add(e.duration(t)), u() } function B(t, e) { var n; e = e || "day", n = _.getViewSpec(e) || _.getUnitViewSpec(e), J = t.clone(), u(n ? n.type : null) } function N() { return _.applyTimezone(J) } function F() { it++ || q.css({ width: "100%", height: q.height(), overflow: "hidden" }) } function z() { --it || q.css({ width: "", height: "", overflow: "" }) } function G() { return _ } function O() { return Q } function A(t, e) { var n; if ("string" == typeof t) { if (void 0 === e) return _.options[t]; n = {}, n[t] = e, V(n) } else "object" == typeof t && V(t) } function V(t) { var e, n = 0; for (e in t) _.dynamicOverrides[e] = t[e]; _.viewSpecCache = {}, _.populateOptionsHash(); for (e in t) _.triggerOptionHandlers(e), n++; if (1 === n) { if ("height" === e || "contentHeight" === e || "aspectRatio" === e) return void h(!0); if ("defaultDate" === e) return; if ("businessHours" === e) return void (Q && (Q.unrenderBusinessHours(), Q.renderBusinessHours())); if ("timezone" === e) return _.rezoneArrayEventSources(), void _.refetchEvents() } E(), b(), et = {}, d() } function P(t, e) { var n = Array.prototype.slice.call(arguments, 2); if (e = e || tt, this.triggerWith(t, e, n), _.options[t]) return _.options[t].apply(e, n) } var _ = this; se.needed(), _.render = s, _.destroy = l, _.rerenderEvents = m, _.changeView = u, _.select = T, _.unselect = C, _.prev = H, _.next = x, _.prevYear = R, _.nextYear = I, _.today = k, _.gotoDate = L, _.incrementDate = M, _.zoomTo = B, _.getDate = N, _.getCalendar = G, _.getView = O, _.option = A, _.publiclyTrigger = P, _.dynamicOverrides = {}, _.viewSpecCache = {}, _.optionHandlers = {}, _.overrides = t.extend({}, i), _.populateOptionsHash(); var Y; _.bindOptions(["locale", "monthNames", "monthNamesShort", "dayNames", "dayNamesShort", "firstDay", "weekNumberCalculation"], function (t, e, n, i, s, o, l) { if ("iso" === l && (l = "ISO"), Y = Z(Ft(t)), e && (Y._months = e), n && (Y._monthsShort = n), i && (Y._weekdays = i), s && (Y._weekdaysShort = s), null == o && "ISO" === l && (o = 1), null != o) { var a = Z(Y._week); a.dow = o, Y._week = a } "ISO" !== l && "local" !== l && "function" != typeof l || (Y._fullCalendar_weekCalc = l), J && r(J) }), _.defaultAllDayEventDuration = e.duration(_.options.defaultAllDayEventDuration), _.defaultTimedEventDuration = e.duration(_.options.defaultTimedEventDuration), _.moment = function () { var t; return "local" === _.options.timezone ? (t = Ot.moment.apply(null, arguments), t.hasTime() && t.local()) : t = "UTC" === _.options.timezone ? Ot.moment.utc.apply(null, arguments) : Ot.moment.parseZone.apply(null, arguments), r(t), t }, _.localizeMoment = r, _.getIsAmbigTimezone = function () { return "local" !== _.options.timezone && "UTC" !== _.options.timezone }, _.applyTimezone = function (t) { if (!t.hasTime()) return t.clone(); var e, n = _.moment(t.toArray()), i = t.time() - n.time(); return i && (e = n.clone().add(i), t.time() - e.time() === 0 && (n = e)), n }, _.getNow = function () { var t = _.options.now; return "function" == typeof t && (t = t()), _.moment(t).stripZone() }, _.getEventEnd = function (t) { return t.end ? t.end.clone() : _.getDefaultEventEnd(t.allDay, t.start) }, _.getDefaultEventEnd = function (t, e) { var n = e.clone(); return t ? n.stripTime().add(_.defaultAllDayEventDuration) : n.add(_.defaultTimedEventDuration), _.getIsAmbigTimezone() && n.stripZone(), n }, _.humanizeDuration = function (t) { return t.locale(_.options.locale).humanize() }, zt.call(_); var W, U, j, q, $, Q, X, K, J, tt = n[0], et = {}, nt = 0; J = null != _.options.defaultDate ? _.moment(_.options.defaultDate).stripZone() : _.getNow(), _.getSuggestedViewHeight = function () { return void 0 === X && f(), X }, _.isHeightAuto = function () { return "auto" === _.options.contentHeight || "auto" === _.options.height }, _.setToolbarsTitle = function (t) { W.proxyCall("updateTitle", t) }, _.freezeContentHeight = F, _.thawContentHeight = z; var it = 0; _.initialize() } function Nt(e) { t.each(me, function (t, n) { null == e[t] && (e[t] = n(e)) }) } function Ft(t) { return e.localeData(t) || e.localeData("en") } function zt() { function n(t, e) { return !U.options.lazyFetching || s(t, e) ? o(t, e) : ft.resolve($) } function i() { $ = r(nt), U.trigger("eventsReset", $) } function r(t) { var e, n, i = []; for (e = 0; e < t.length; e++) n = t[e], n.start.clone().stripZone() < Z && U.getEventEnd(n).stripZone() > q && i.push(n); return i } function s(t, e) { return !q || t < q || e > Z } function o(t, e) { return q = t, Z = e, l() } function l() { return u(tt, "reset") } function a(t) { return u(E(t)) } function u(t, e) { var n, i; for ("reset" === e ? nt = [] : "add" !== e && (nt = C(nt, t)), n = 0; n < t.length; n++) i = t[n], "pending" !== i._status && et++, i._fetchId = (i._fetchId || 0) + 1, i._status = "pending"; for (n = 0; n < t.length; n++) i = t[n], c(i, i._fetchId); return et ? new ft(function (t) { U.one("eventsReceived", t) }) : ft.resolve($) } function c(e, n) { f(e, function (i) { var r, s, o, l = t.isArray(e.events); if (n === e._fetchId && "rejected" !== e._status) { if (e._status = "resolved", i) for (r = 0; r < i.length; r++) s = i[r], o = l ? s : F(s, e), o && nt.push.apply(nt, _(o)); h() } }) } function d(t) { var e = "pending" === t._status; t._status = "rejected", e && h() } function h() { et--, et || (i(nt), U.trigger("eventsReceived", $)) } function f(e, n) { var i, r, s = Ot.sourceFetchers; for (i = 0; i < s.length; i++) { if (r = s[i].call(U, e, q.clone(), Z.clone(), U.options.timezone, n), r === !0) return; if ("object" == typeof r) return void f(r, n) } var o = e.events; if (o) t.isFunction(o) ? (U.pushLoading(), o.call(U, q.clone(), Z.clone(), U.options.timezone, function (t) { n(t), U.popLoading() })) : t.isArray(o) ? n(o) : n(); else { var l = e.url; if (l) { var a, u = e.success, c = e.error, d = e.complete; a = t.isFunction(e.data) ? e.data() : e.data; var h = t.extend({}, a || {}), g = J(e.startParam, U.options.startParam), p = J(e.endParam, U.options.endParam), v = J(e.timezoneParam, U.options.timezoneParam); g && (h[g] = q.format()), p && (h[p] = Z.format()), U.options.timezone && "local" != U.options.timezone && (h[v] = U.options.timezone), U.pushLoading(), t.ajax(t.extend({}, ye, e, { data: h, success: function (e) { e = e || []; var i = K(u, this, arguments); t.isArray(i) && (e = i), n(e) }, error: function () { K(c, this, arguments), n() }, complete: function () { K(d, this, arguments), U.popLoading() } })) } else n() } } function g(t) { var e = p(t); e && (tt.push(e), u([e], "add")) } function p(e) { var n, i, r = Ot.sourceNormalizers; if (t.isFunction(e) || t.isArray(e) ? n = { events: e } : "string" == typeof e ? n = { url: e } : "object" == typeof e && (n = t.extend({}, e)), n) { for (n.className ? "string" == typeof n.className && (n.className = n.className.split(/\s+/)) : n.className = [], t.isArray(n.events) && (n.origArray = n.events, n.events = t.map(n.events, function (t) { return F(t, n) })), i = 0; i < r.length; i++) r[i].call(U, n); return n } } function v(t) { y(b(t)) } function m(t) { null == t ? y(tt, !0) : y(E(t)) } function y(e, n) { var r; for (r = 0; r < e.length; r++) d(e[r]); n ? (tt = [], nt = []) : (tt = t.grep(tt, function (t) { for (r = 0; r < e.length; r++) if (t === e[r]) return !1; return !0 }), nt = C(nt, e)), i() } function S() { return tt.slice(1) } function w(e) { return t.grep(tt, function (t) { return t.id && t.id === e })[0] } function E(e) { e ? t.isArray(e) || (e = [e]) : e = []; var n, i = []; for (n = 0; n < e.length; n++) i.push.apply(i, b(e[n])); return i } function b(e) { var n, i; for (n = 0; n < tt.length; n++) if (i = tt[n], i === e) return [i]; return i = w(e), i ? [i] : t.grep(tt, function (t) { return D(e, t) }) } function D(t, e) { return t && e && T(t) == T(e) } function T(t) { return ("object" == typeof t ? t.origArray || t.googleCalendarId || t.url || t.events : null) || t } function C(e, n) { return t.grep(e, function (t) { for (var e = 0; e < n.length; e++) if (t.source === n[e]) return !1; return !0 }) } function H(t) { x([t]) } function x(t) { var e, n; for (e = 0; e < t.length; e++) n = t[e], n.start = U.moment(n.start), n.end ? n.end = U.moment(n.end) : n.end = null, Y(n, R(n)); i() } function R(e) { var n = {}; return t.each(e, function (t, e) { I(t) && void 0 !== e && X(e) && (n[t] = e) }), n } function I(t) { return !/^_|^(id|allDay|start|end)$/.test(t) } function k(t, e) { return L([t], e) } function L(t, e) { var n, r, s, o, l, a = []; for (s = 0; s < t.length; s++) if (r = F(t[s])) { for (n = _(r), o = 0; o < n.length; o++) l = n[o], l.source || (e && (Q.events.push(l), l.source = Q), nt.push(l)); a = a.concat(n) } return a.length && i(), a } function M(e) { var n, r; for (null == e ? e = function () { return !0 } : t.isFunction(e) || (n = e + "", e = function (t) { return t._id == n }), nt = t.grep(nt, e, !0), r = 0; r < tt.length; r++) t.isArray(tt[r].events) && (tt[r].events = t.grep(tt[r].events, e, !0)); i() } function B(e) { return t.isFunction(e) ? t.grep(nt, e) : null != e ? (e += "", t.grep(nt, function (t) { return t._id == e })) : nt } function N(t) { t.start = U.moment(t.start), t.end && (t.end = U.moment(t.end)), Gt(t) } function F(n, i) { var r, s, o, l = {}; if (U.options.eventDataTransform && (n = U.options.eventDataTransform(n)), i && i.eventDataTransform && (n = i.eventDataTransform(n)), t.extend(l, n), i && (l.source = i), l._id = n._id || (void 0 === n.id ? "_fc" + Se++ : n.id + ""), n.className ? "string" == typeof n.className ? l.className = n.className.split(/\s+/) : l.className = n.className : l.className = [], r = n.start || n.date, s = n.end, j(r) && (r = e.duration(r)), j(s) && (s = e.duration(s)), n.dow || e.isDuration(r) || e.isDuration(s)) l.start = r ? e.duration(r) : null, l.end = s ? e.duration(s) : null, l._recurring = !0; else { if (r && (r = U.moment(r), !r.isValid())) return !1; s && (s = U.moment(s), s.isValid() || (s = null)), o = n.allDay, void 0 === o && (o = J(i ? i.allDayDefault : void 0, U.options.allDayDefault)), A(r, s, o, l) } return U.normalizeEvent(l), l } function A(t, e, n, i) { i.start = t, i.end = e, i.allDay = n, V(i), Gt(i) } function V(t) { P(t), t.end && !t.end.isAfter(t.start) && (t.end = null), t.end || (U.options.forceEventDuration ? t.end = U.getDefaultEventEnd(t.allDay, t.start) : t.end = null) } function P(t) { null == t.allDay && (t.allDay = !(t.start.hasTime() || t.end && t.end.hasTime())), t.allDay ? (t.start.stripTime(), t.end && t.end.stripTime()) : (t.start.hasTime() || (t.start = U.applyTimezone(t.start.time(0))), t.end && !t.end.hasTime() && (t.end = U.applyTimezone(t.end.time(0)))) } function _(e, n, i) { var r, s, o, l, a, u, c, d, h, f = []; if (n = n || q, i = i || Z, e) if (e._recurring) { if (s = e.dow) for (r = {}, o = 0; o < s.length; o++) r[s[o]] = !0; for (l = n.clone().stripTime() ; l.isBefore(i) ;) r && !r[l.day()] || (a = e.start, u = e.end, c = l.clone(), d = null, a && (c = c.time(a)), u && (d = l.clone().time(u)), h = t.extend({}, e), A(c, d, !a && !u, h), f.push(h)), l.add(1, "days") } else f.push(e); return f } function Y(e, n, i) { function r(t, e) { return i ? O(t, e, i) : n.allDay ? G(t, e) : z(t, e) } var s, o, l, a, u, c, d = {}; return n = n || {}, n.start || (n.start = e.start.clone()), void 0 === n.end && (n.end = e.end ? e.end.clone() : null), null == n.allDay && (n.allDay = e.allDay), V(n), s = { start: e._start.clone(), end: e._end ? e._end.clone() : U.getDefaultEventEnd(e._allDay, e._start), allDay: n.allDay }, V(s), o = null !== e._end && null === n.end, l = r(n.start, s.start), n.end ? (a = r(n.end, s.end), u = a.subtract(l)) : u = null, t.each(n, function (t, e) { I(t) && void 0 !== e && (d[t] = e) }), c = W(B(e._id), o, n.allDay, l, u, d), { dateDelta: l, durationDelta: u, undo: c } } function W(e, n, i, r, s, o) { var l = U.getIsAmbigTimezone(), a = []; return r && !r.valueOf() && (r = null), s && !s.valueOf() && (s = null), t.each(e, function (e, u) { var c, d; c = { start: u.start.clone(), end: u.end ? u.end.clone() : null, allDay: u.allDay }, t.each(o, function (t) { c[t] = u[t] }), d = { start: u._start, end: u._end, allDay: i }, V(d), n ? d.end = null : s && !d.end && (d.end = U.getDefaultEventEnd(d.allDay, d.start)), r && (d.start.add(r), d.end && d.end.add(r)), s && d.end.add(s), l && !d.allDay && (r || s) && (d.start.stripZone(), d.end && d.end.stripZone()), t.extend(u, o, d), Gt(u), a.push(function () { t.extend(u, c), Gt(u) }) }), function () { for (var t = 0; t < a.length; t++) a[t]() } } var U = this; U.requestEvents = n, U.reportEventChange = i, U.isFetchNeeded = s, U.fetchEvents = o, U.fetchEventSources = u, U.refetchEvents = l, U.refetchEventSources = a, U.getEventSources = S, U.getEventSourceById = w, U.addEventSource = g, U.removeEventSource = v, U.removeEventSources = m, U.updateEvent = H, U.updateEvents = x, U.renderEvent = k, U.renderEvents = L, U.removeEvents = M, U.clientEvents = B, U.mutateEvent = Y, U.normalizeEventDates = V, U.normalizeEventTimes = P; var q, Z, $, Q = { events: [] }, tt = [Q], et = 0, nt = []; t.each((U.options.events ? [U.options.events] : []).concat(U.options.eventSources || []), function (t, e) { var n = p(e); n && tt.push(n) }), U.getEventCache = function () { return nt }, U.getPrunedEventCache = function () { return $ }, U.rezoneArrayEventSources = function () { var e, n, i; for (e = 0; e < tt.length; e++) if (n = tt[e].events, t.isArray(n)) for (i = 0; i < n.length; i++) N(n[i]) }, U.buildEventFromInput = F, U.expandEvent = _ } function Gt(t) { t._allDay = t.allDay, t._start = t.start.clone(), t._end = t.end ? t.end.clone() : null } var Ot = t.fullCalendar = { version: "3.2.0", internalApiVersion: 8 }, At = Ot.views = {}; t.fn.fullCalendar = function (e) { var n = Array.prototype.slice.call(arguments, 1), i = this; return this.each(function (r, s) { var o, l = t(s), a = l.data("fullCalendar"); "string" == typeof e ? a && t.isFunction(a[e]) && (o = a[e].apply(a, n), r || (i = o), "destroy" === e && l.removeData("fullCalendar")) : a || (a = new fe(l, e), l.data("fullCalendar", a), a.render()) }), i }; var Vt = ["header", "footer", "buttonText", "buttonIcons", "themeButtonIcons"]; Ot.intersectRanges = F, Ot.applyAll = K, Ot.debounce = at, Ot.isInt = ot, Ot.htmlEscape = tt, Ot.cssToStr = nt, Ot.proxy = lt, Ot.capitaliseFirstLetter = rt, Ot.getOuterRect = h, Ot.getClientRect = f, Ot.getContentRect = g, Ot.getScrollbarWidths = p; var Pt = null; Ot.preventDefault = H, Ot.intersectRects = x, Ot.parseFieldSpecs = L, Ot.compareByFieldSpecs = M, Ot.compareByFieldSpec = B, Ot.flexibleCompare = N, Ot.computeIntervalUnit = A, Ot.divideRangeByDuration = P, Ot.divideDurationByDuration = _, Ot.multiplyDuration = Y, Ot.durationHasTime = W; var _t = ["sun", "mon", "tue", "wed", "thu", "fri", "sat"], Yt = ["year", "month", "week", "day", "hour", "minute", "second", "millisecond"]; Ot.log = function () { var t = window.console; if (t && t.log) return t.log.apply(t, arguments) }, Ot.warn = function () { var t = window.console; return t && t.warn ? t.warn.apply(t, arguments) : Ot.log.apply(Ot, arguments) }; var Wt = {}.hasOwnProperty; Ot.createObject = Z; var Ut = /^\s*\d{4}-\d\d$/, jt = /^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/, qt = e.fn, Zt = t.extend({}, qt), $t = e.momentProperties; $t.push("_fullCalendar"), $t.push("_ambigTime"), $t.push("_ambigZone"), Ot.moment = function () { return ut(arguments) }, Ot.moment.utc = function () { var t = ut(arguments, !0); return t.hasTime() && t.utc(), t }, Ot.moment.parseZone = function () { return ut(arguments, !0, !0) }, qt.week = qt.weeks = function (t) { var e = this._locale._fullCalendar_weekCalc; return null == t && "function" == typeof e ? e(this) : "ISO" === e ? Zt.isoWeek.apply(this, arguments) : Zt.week.apply(this, arguments) }, qt.time = function (t) { if (!this._fullCalendar) return Zt.time.apply(this, arguments); if (null == t) return e.duration({ hours: this.hours(), minutes: this.minutes(), seconds: this.seconds(), milliseconds: this.milliseconds() }); this._ambigTime = !1, e.isDuration(t) || e.isMoment(t) || (t = e.duration(t)); var n = 0; return e.isDuration(t) && (n = 24 * Math.floor(t.asDays())), this.hours(n + t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds()) }, qt.stripTime = function () { return this._ambigTime || (this.utc(!0), this.set({ hours: 0, minutes: 0, seconds: 0, ms: 0 }), this._ambigTime = !0, this._ambigZone = !0), this }, qt.hasTime = function () { return !this._ambigTime }, qt.stripZone = function () { var t; return this._ambigZone || (t = this._ambigTime, this.utc(!0), this._ambigTime = t || !1, this._ambigZone = !0), this }, qt.hasZone = function () { return !this._ambigZone }, qt.local = function (t) { return Zt.local.call(this, this._ambigZone || t), this._ambigTime = !1, this._ambigZone = !1, this }, qt.utc = function (t) { return Zt.utc.call(this, t), this._ambigTime = !1, this._ambigZone = !1, this }, qt.utcOffset = function (t) { return null != t && (this._ambigTime = !1, this._ambigZone = !1), Zt.utcOffset.apply(this, arguments) }, qt.format = function () { return this._fullCalendar && arguments[0] ? Qt(this, arguments[0]) : this._ambigTime ? Kt(this, "YYYY-MM-DD") : this._ambigZone ? Kt(this, "YYYY-MM-DD[T]HH:mm:ss") : Zt.format.apply(this, arguments) }, qt.toISOString = function () { return this._ambigTime ? Kt(this, "YYYY-MM-DD") : this._ambigZone ? Kt(this, "YYYY-MM-DD[T]HH:mm:ss") : Zt.toISOString.apply(this, arguments) }, function () {
        function t(t, e) { return c(r(e).fakeFormatString, t) } function e(t, e) { return Zt.format.call(t, e) } function n(t, e, n, s, o) { var l; return t = Ot.moment.parseZone(t), e = Ot.moment.parseZone(e), l = t.localeData(), n = l.longDateFormat(n) || n, i(r(n), t, e, s || " - ", o) } function i(t, e, n, i, r) { var s, o, l, a = t.sameUnits, u = e.clone().stripZone(), c = n.clone().stripZone(), f = d(t.fakeFormatString, e), g = d(t.fakeFormatString, n), p = "", v = "", m = "", y = "", S = ""; for (s = 0; s < a.length && (!a[s] || u.isSame(c, a[s])) ; s++) p += f[s]; for (o = a.length - 1; o > s && (!a[o] || u.isSame(c, a[o])) && (o - 1 !== s || "." !== f[o]) ; o--) v = f[o] + v; for (l = s; l <= o; l++) m += f[l], y += g[l]; return (m || y) && (S = r ? y + i + m : m + i + y), h(p + S + v) } function r(t) { return w[t] || (w[t] = s(t)) } function s(t) { var e = o(t); return { fakeFormatString: a(e), sameUnits: u(e) } } function o(t) { for (var e, n = [], i = /\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g; e = i.exec(t) ;) e[1] ? n.push.apply(n, l(e[1])) : e[2] ? n.push({ maybe: o(e[2]) }) : e[3] ? n.push({ token: e[3] }) : e[5] && n.push.apply(n, l(e[5])); return n } function l(t) { return ". " === t ? [".", " "] : [t] } function a(t) { var e, n, i = []; for (e = 0; e < t.length; e++) n = t[e], "string" == typeof n ? i.push("[" + n + "]") : n.token ? n.token in y ? i.push(p + "[" + n.token + "]") : i.push(n.token) : n.maybe && i.push(v + a(n.maybe) + v); return i.join(g) } function u(t) { var e, n, i, r = []; for (e = 0; e < t.length; e++) n = t[e], n.token ? (i = S[n.token.charAt(0)], r.push(i ? i.unit : "second")) : n.maybe ? r.push.apply(r, u(n.maybe)) : r.push(null); return r } function c(t, e) { return h(d(t, e).join("")) } function d(t, n) { var i, r, s = [], o = e(n, t), l = o.split(g); for (i = 0; i < l.length; i++) r = l[i], r.charAt(0) === p ? s.push(y[r.substring(1)](n)) : s.push(r); return s } function h(t) {
            return t.replace(m, function (t, e) {
                return e.match(/[1-9]/) ? e : ""
            })
        } function f(t) { var e, n, i, r, s = o(t); for (e = 0; e < s.length; e++) n = s[e], n.token && (i = S[n.token.charAt(0)], i && (!r || i.value > r.value) && (r = i)); return r ? r.unit : null } Ot.formatDate = t, Ot.formatRange = n, Ot.oldMomentFormat = e, Ot.queryMostGranularFormatUnit = f; var g = "\v", p = "", v = "", m = new RegExp(v + "([^" + v + "]*)" + v, "g"), y = { t: function (t) { return e(t, "a").charAt(0) }, T: function (t) { return e(t, "A").charAt(0) } }, S = { Y: { value: 1, unit: "year" }, M: { value: 2, unit: "month" }, W: { value: 3, unit: "week" }, w: { value: 3, unit: "week" }, D: { value: 4, unit: "day" }, d: { value: 4, unit: "day" } }, w = {}
    }(); var Qt = Ot.formatDate, Xt = Ot.formatRange, Kt = Ot.oldMomentFormat; Ot.Class = ct, ct.extend = function () { var t, e, n = arguments.length; for (t = 0; t < n; t++) e = arguments[t], t < n - 1 && ht(this, e); return dt(this, e || {}) }, ct.mixin = function (t) { ht(this, t) }, Ot.Promise = ft, ft.immediate = !0, ft.resolve = function (e) { if (e && "function" == typeof e.resolve) return e.promise(); if (e && "function" == typeof e.then) return e; var n = t.Deferred().resolve(e), i = n.promise(); if (ft.immediate) { var r = i.then; i._value = e, i.then = function (t, n) { return "function" == typeof t ? ft.resolve(t(e)) : r.call(i, t, n) } } return i }, ft.reject = function () { return t.Deferred().reject().promise() }, ft.all = function (e) { var n, i, r, s = !1; if (ft.immediate) for (s = !0, n = [], i = 0; i < e.length; i++) if (r = e[i], r && "function" == typeof r.state && "resolved" === r.state() && "_value" in r) n.push(r._value); else { if (r && "function" == typeof r.then) { s = !1; break } n.push(r) } return s ? ft.resolve(n) : t.when.apply(t.when, e).then(function () { return t.when(t.makeArray(arguments)) }) }, Ot.TaskQueue = gt; var Jt = Ot.EmitterMixin = { on: function (e, n) { return t(this).on(e, this._prepareIntercept(n)), this }, one: function (e, n) { return t(this).one(e, this._prepareIntercept(n)), this }, _prepareIntercept: function (e) { var n = function (t, n) { return e.apply(n.context || this, n.args || []) }; return e.guid || (e.guid = t.guid++), n.guid = e.guid, n }, off: function (e, n) { return t(this).off(e, n), this }, trigger: function (e) { var n = Array.prototype.slice.call(arguments, 1); return t(this).triggerHandler(e, { args: n }), this }, triggerWith: function (e, n, i) { return t(this).triggerHandler(e, { context: n, args: i }), this } }, te = Ot.ListenerMixin = function () { var e = 0, n = { listenerId: null, listenTo: function (e, n, i) { if ("object" == typeof n) for (var r in n) n.hasOwnProperty(r) && this.listenTo(e, r, n[r]); else "string" == typeof n && e.on(n + "." + this.getListenerNamespace(), t.proxy(i, this)) }, stopListeningTo: function (t, e) { t.off((e || "") + "." + this.getListenerNamespace()) }, getListenerNamespace: function () { return null == this.listenerId && (this.listenerId = e++), "_listener" + this.listenerId } }; return n }(), ee = ct.extend(te, { isHidden: !0, options: null, el: null, margin: 10, constructor: function (t) { this.options = t || {} }, show: function () { this.isHidden && (this.el || this.render(), this.el.show(), this.position(), this.isHidden = !1, this.trigger("show")) }, hide: function () { this.isHidden || (this.el.hide(), this.isHidden = !0, this.trigger("hide")) }, render: function () { var e = this, n = this.options; this.el = t('<div class="fc-popover"/>').addClass(n.className || "").css({ top: 0, left: 0 }).append(n.content).appendTo(n.parentEl), this.el.on("click", ".fc-close", function () { e.hide() }), n.autoHide && this.listenTo(t(document), "mousedown", this.documentMousedown) }, documentMousedown: function (e) { this.el && !t(e.target).closest(this.el).length && this.hide() }, removeElement: function () { this.hide(), this.el && (this.el.remove(), this.el = null), this.stopListeningTo(t(document), "mousedown") }, position: function () { var e, n, i, r, s, o = this.options, l = this.el.offsetParent().offset(), a = this.el.outerWidth(), u = this.el.outerHeight(), c = t(window), h = d(this.el); r = o.top || 0, s = void 0 !== o.left ? o.left : void 0 !== o.right ? o.right - a : 0, h.is(window) || h.is(document) ? (h = c, e = 0, n = 0) : (i = h.offset(), e = i.top, n = i.left), e += c.scrollTop(), n += c.scrollLeft(), o.viewportConstrain !== !1 && (r = Math.min(r, e + h.outerHeight() - u - this.margin), r = Math.max(r, e + this.margin), s = Math.min(s, n + h.outerWidth() - a - this.margin), s = Math.max(s, n + this.margin)), this.el.css({ top: r - l.top, left: s - l.left }) }, trigger: function (t) { this.options[t] && this.options[t].apply(this, Array.prototype.slice.call(arguments, 1)) } }), ne = Ot.CoordCache = ct.extend({ els: null, forcedOffsetParentEl: null, origin: null, boundingRect: null, isHorizontal: !1, isVertical: !1, lefts: null, rights: null, tops: null, bottoms: null, constructor: function (e) { this.els = t(e.els), this.isHorizontal = e.isHorizontal, this.isVertical = e.isVertical, this.forcedOffsetParentEl = e.offsetParent ? t(e.offsetParent) : null }, build: function () { var t = this.forcedOffsetParentEl; !t && this.els.length > 0 && (t = this.els.eq(0).offsetParent()), this.origin = t ? t.offset() : null, this.boundingRect = this.queryBoundingRect(), this.isHorizontal && this.buildElHorizontals(), this.isVertical && this.buildElVerticals() }, clear: function () { this.origin = null, this.boundingRect = null, this.lefts = null, this.rights = null, this.tops = null, this.bottoms = null }, ensureBuilt: function () { this.origin || this.build() }, buildElHorizontals: function () { var e = [], n = []; this.els.each(function (i, r) { var s = t(r), o = s.offset().left, l = s.outerWidth(); e.push(o), n.push(o + l) }), this.lefts = e, this.rights = n }, buildElVerticals: function () { var e = [], n = []; this.els.each(function (i, r) { var s = t(r), o = s.offset().top, l = s.outerHeight(); e.push(o), n.push(o + l) }), this.tops = e, this.bottoms = n }, getHorizontalIndex: function (t) { this.ensureBuilt(); var e, n = this.lefts, i = this.rights, r = n.length; for (e = 0; e < r; e++) if (t >= n[e] && t < i[e]) return e }, getVerticalIndex: function (t) { this.ensureBuilt(); var e, n = this.tops, i = this.bottoms, r = n.length; for (e = 0; e < r; e++) if (t >= n[e] && t < i[e]) return e }, getLeftOffset: function (t) { return this.ensureBuilt(), this.lefts[t] }, getLeftPosition: function (t) { return this.ensureBuilt(), this.lefts[t] - this.origin.left }, getRightOffset: function (t) { return this.ensureBuilt(), this.rights[t] }, getRightPosition: function (t) { return this.ensureBuilt(), this.rights[t] - this.origin.left }, getWidth: function (t) { return this.ensureBuilt(), this.rights[t] - this.lefts[t] }, getTopOffset: function (t) { return this.ensureBuilt(), this.tops[t] }, getTopPosition: function (t) { return this.ensureBuilt(), this.tops[t] - this.origin.top }, getBottomOffset: function (t) { return this.ensureBuilt(), this.bottoms[t] }, getBottomPosition: function (t) { return this.ensureBuilt(), this.bottoms[t] - this.origin.top }, getHeight: function (t) { return this.ensureBuilt(), this.bottoms[t] - this.tops[t] }, queryBoundingRect: function () { var t; return this.els.length > 0 && (t = d(this.els.eq(0)), !t.is(document)) ? f(t) : null }, isPointInBounds: function (t, e) { return this.isLeftInBounds(t) && this.isTopInBounds(e) }, isLeftInBounds: function (t) { return !this.boundingRect || t >= this.boundingRect.left && t < this.boundingRect.right }, isTopInBounds: function (t) { return !this.boundingRect || t >= this.boundingRect.top && t < this.boundingRect.bottom } }), ie = Ot.DragListener = ct.extend(te, { options: null, subjectEl: null, originX: null, originY: null, scrollEl: null, isInteracting: !1, isDistanceSurpassed: !1, isDelayEnded: !1, isDragging: !1, isTouch: !1, delay: null, delayTimeoutId: null, minDistance: null, shouldCancelTouchScroll: !0, scrollAlwaysKills: !1, constructor: function (t) { this.options = t || {} }, startInteraction: function (e, n) { var i = D(e); if ("mousedown" === e.type) { if (se.get().shouldIgnoreMouse()) return; if (!w(e)) return; e.preventDefault() } this.isInteracting || (n = n || {}, this.delay = J(n.delay, this.options.delay, 0), this.minDistance = J(n.distance, this.options.distance, 0), this.subjectEl = this.options.subjectEl, T(t("body")), this.isInteracting = !0, this.isTouch = i, this.isDelayEnded = !1, this.isDistanceSurpassed = !1, this.originX = E(e), this.originY = b(e), this.scrollEl = d(t(e.target)), this.bindHandlers(), this.initAutoScroll(), this.handleInteractionStart(e), this.startDelay(e), this.minDistance || this.handleDistanceSurpassed(e)) }, handleInteractionStart: function (t) { this.trigger("interactionStart", t) }, endInteraction: function (e, n) { this.isInteracting && (this.endDrag(e), this.delayTimeoutId && (clearTimeout(this.delayTimeoutId), this.delayTimeoutId = null), this.destroyAutoScroll(), this.unbindHandlers(), this.isInteracting = !1, this.handleInteractionEnd(e, n), C(t("body"))) }, handleInteractionEnd: function (t, e) { this.trigger("interactionEnd", t, e || !1) }, bindHandlers: function () { var t = se.get(); this.isTouch ? this.listenTo(t, { touchmove: this.handleTouchMove, touchend: this.endInteraction, scroll: this.handleTouchScroll }) : this.listenTo(t, { mousemove: this.handleMouseMove, mouseup: this.endInteraction }), this.listenTo(t, { selectstart: H, contextmenu: H }) }, unbindHandlers: function () { this.stopListeningTo(se.get()) }, startDrag: function (t, e) { this.startInteraction(t, e), this.isDragging || (this.isDragging = !0, this.handleDragStart(t)) }, handleDragStart: function (t) { this.trigger("dragStart", t) }, handleMove: function (t) { var e, n = E(t) - this.originX, i = b(t) - this.originY, r = this.minDistance; this.isDistanceSurpassed || (e = n * n + i * i, e >= r * r && this.handleDistanceSurpassed(t)), this.isDragging && this.handleDrag(n, i, t) }, handleDrag: function (t, e, n) { this.trigger("drag", t, e, n), this.updateAutoScroll(n) }, endDrag: function (t) { this.isDragging && (this.isDragging = !1, this.handleDragEnd(t)) }, handleDragEnd: function (t) { this.trigger("dragEnd", t) }, startDelay: function (t) { var e = this; this.delay ? this.delayTimeoutId = setTimeout(function () { e.handleDelayEnd(t) }, this.delay) : this.handleDelayEnd(t) }, handleDelayEnd: function (t) { this.isDelayEnded = !0, this.isDistanceSurpassed && this.startDrag(t) }, handleDistanceSurpassed: function (t) { this.isDistanceSurpassed = !0, this.isDelayEnded && this.startDrag(t) }, handleTouchMove: function (t) { this.isDragging && this.shouldCancelTouchScroll && t.preventDefault(), this.handleMove(t) }, handleMouseMove: function (t) { this.handleMove(t) }, handleTouchScroll: function (t) { this.isDragging && !this.scrollAlwaysKills || this.endInteraction(t, !0) }, trigger: function (t) { this.options[t] && this.options[t].apply(this, Array.prototype.slice.call(arguments, 1)), this["_" + t] && this["_" + t].apply(this, Array.prototype.slice.call(arguments, 1)) } }); ie.mixin({ isAutoScroll: !1, scrollBounds: null, scrollTopVel: null, scrollLeftVel: null, scrollIntervalId: null, scrollSensitivity: 30, scrollSpeed: 200, scrollIntervalMs: 50, initAutoScroll: function () { var t = this.scrollEl; this.isAutoScroll = this.options.scroll && t && !t.is(window) && !t.is(document), this.isAutoScroll && this.listenTo(t, "scroll", at(this.handleDebouncedScroll, 100)) }, destroyAutoScroll: function () { this.endAutoScroll(), this.isAutoScroll && this.stopListeningTo(this.scrollEl, "scroll") }, computeScrollBounds: function () { this.isAutoScroll && (this.scrollBounds = h(this.scrollEl)) }, updateAutoScroll: function (t) { var e, n, i, r, s = this.scrollSensitivity, o = this.scrollBounds, l = 0, a = 0; o && (e = (s - (b(t) - o.top)) / s, n = (s - (o.bottom - b(t))) / s, i = (s - (E(t) - o.left)) / s, r = (s - (o.right - E(t))) / s, e >= 0 && e <= 1 ? l = e * this.scrollSpeed * -1 : n >= 0 && n <= 1 && (l = n * this.scrollSpeed), i >= 0 && i <= 1 ? a = i * this.scrollSpeed * -1 : r >= 0 && r <= 1 && (a = r * this.scrollSpeed)), this.setScrollVel(l, a) }, setScrollVel: function (t, e) { this.scrollTopVel = t, this.scrollLeftVel = e, this.constrainScrollVel(), !this.scrollTopVel && !this.scrollLeftVel || this.scrollIntervalId || (this.scrollIntervalId = setInterval(lt(this, "scrollIntervalFunc"), this.scrollIntervalMs)) }, constrainScrollVel: function () { var t = this.scrollEl; this.scrollTopVel < 0 ? t.scrollTop() <= 0 && (this.scrollTopVel = 0) : this.scrollTopVel > 0 && t.scrollTop() + t[0].clientHeight >= t[0].scrollHeight && (this.scrollTopVel = 0), this.scrollLeftVel < 0 ? t.scrollLeft() <= 0 && (this.scrollLeftVel = 0) : this.scrollLeftVel > 0 && t.scrollLeft() + t[0].clientWidth >= t[0].scrollWidth && (this.scrollLeftVel = 0) }, scrollIntervalFunc: function () { var t = this.scrollEl, e = this.scrollIntervalMs / 1e3; this.scrollTopVel && t.scrollTop(t.scrollTop() + this.scrollTopVel * e), this.scrollLeftVel && t.scrollLeft(t.scrollLeft() + this.scrollLeftVel * e), this.constrainScrollVel(), this.scrollTopVel || this.scrollLeftVel || this.endAutoScroll() }, endAutoScroll: function () { this.scrollIntervalId && (clearInterval(this.scrollIntervalId), this.scrollIntervalId = null, this.handleScrollEnd()) }, handleDebouncedScroll: function () { this.scrollIntervalId || this.handleScrollEnd() }, handleScrollEnd: function () { } }); var re = ie.extend({ component: null, origHit: null, hit: null, coordAdjust: null, constructor: function (t, e) { ie.call(this, e), this.component = t }, handleInteractionStart: function (t) { var e, n, i, r = this.subjectEl; this.component.hitsNeeded(), this.computeScrollBounds(), t ? (n = { left: E(t), top: b(t) }, i = n, r && (e = h(r), i = R(i, e)), this.origHit = this.queryHit(i.left, i.top), r && this.options.subjectCenter && (this.origHit && (e = x(this.origHit, e) || e), i = I(e)), this.coordAdjust = k(i, n)) : (this.origHit = null, this.coordAdjust = null), ie.prototype.handleInteractionStart.apply(this, arguments) }, handleDragStart: function (t) { var e; ie.prototype.handleDragStart.apply(this, arguments), e = this.queryHit(E(t), b(t)), e && this.handleHitOver(e) }, handleDrag: function (t, e, n) { var i; ie.prototype.handleDrag.apply(this, arguments), i = this.queryHit(E(n), b(n)), pt(i, this.hit) || (this.hit && this.handleHitOut(), i && this.handleHitOver(i)) }, handleDragEnd: function () { this.handleHitDone(), ie.prototype.handleDragEnd.apply(this, arguments) }, handleHitOver: function (t) { var e = pt(t, this.origHit); this.hit = t, this.trigger("hitOver", this.hit, e, this.origHit) }, handleHitOut: function () { this.hit && (this.trigger("hitOut", this.hit), this.handleHitDone(), this.hit = null) }, handleHitDone: function () { this.hit && this.trigger("hitDone", this.hit) }, handleInteractionEnd: function () { ie.prototype.handleInteractionEnd.apply(this, arguments), this.origHit = null, this.hit = null, this.component.hitsNotNeeded() }, handleScrollEnd: function () { ie.prototype.handleScrollEnd.apply(this, arguments), this.isDragging && (this.component.releaseHits(), this.component.prepareHits()) }, queryHit: function (t, e) { return this.coordAdjust && (t += this.coordAdjust.left, e += this.coordAdjust.top), this.component.queryHit(t, e) } }); Ot.touchMouseIgnoreWait = 500; var se = ct.extend(te, Jt, { isTouching: !1, mouseIgnoreDepth: 0, handleScrollProxy: null, bind: function () { var e = this; this.listenTo(t(document), { touchstart: this.handleTouchStart, touchcancel: this.handleTouchCancel, touchend: this.handleTouchEnd, mousedown: this.handleMouseDown, mousemove: this.handleMouseMove, mouseup: this.handleMouseUp, click: this.handleClick, selectstart: this.handleSelectStart, contextmenu: this.handleContextMenu }), window.addEventListener("touchmove", this.handleTouchMoveProxy = function (n) { e.handleTouchMove(t.Event(n)) }, { passive: !1 }), window.addEventListener("scroll", this.handleScrollProxy = function (n) { e.handleScroll(t.Event(n)) }, !0) }, unbind: function () { this.stopListeningTo(t(document)), window.removeEventListener("touchmove", this.handleTouchMoveProxy), window.removeEventListener("scroll", this.handleScrollProxy, !0) }, handleTouchStart: function (t) { this.stopTouch(t, !0), this.isTouching = !0, this.trigger("touchstart", t) }, handleTouchMove: function (t) { this.isTouching && this.trigger("touchmove", t) }, handleTouchCancel: function (t) { this.isTouching && (this.trigger("touchcancel", t), this.stopTouch(t)) }, handleTouchEnd: function (t) { this.stopTouch(t) }, handleMouseDown: function (t) { this.shouldIgnoreMouse() || this.trigger("mousedown", t) }, handleMouseMove: function (t) { this.shouldIgnoreMouse() || this.trigger("mousemove", t) }, handleMouseUp: function (t) { this.shouldIgnoreMouse() || this.trigger("mouseup", t) }, handleClick: function (t) { this.shouldIgnoreMouse() || this.trigger("click", t) }, handleSelectStart: function (t) { this.trigger("selectstart", t) }, handleContextMenu: function (t) { this.trigger("contextmenu", t) }, handleScroll: function (t) { this.trigger("scroll", t) }, stopTouch: function (t, e) { this.isTouching && (this.isTouching = !1, this.trigger("touchend", t), e || this.startTouchMouseIgnore()) }, startTouchMouseIgnore: function () { var t = this, e = Ot.touchMouseIgnoreWait; e && (this.mouseIgnoreDepth++, setTimeout(function () { t.mouseIgnoreDepth-- }, e)) }, shouldIgnoreMouse: function () { return this.isTouching || Boolean(this.mouseIgnoreDepth) } }); !function () { var t = null, e = 0; se.get = function () { return t || (t = new se, t.bind()), t }, se.needed = function () { se.get(), e++ }, se.unneeded = function () { e--, e || (t.unbind(), t = null) } }(); var oe = ct.extend(te, { options: null, sourceEl: null, el: null, parentEl: null, top0: null, left0: null, y0: null, x0: null, topDelta: null, leftDelta: null, isFollowing: !1, isHidden: !1, isAnimating: !1, constructor: function (e, n) { this.options = n = n || {}, this.sourceEl = e, this.parentEl = n.parentEl ? t(n.parentEl) : e.parent() }, start: function (e) { this.isFollowing || (this.isFollowing = !0, this.y0 = b(e), this.x0 = E(e), this.topDelta = 0, this.leftDelta = 0, this.isHidden || this.updatePosition(), D(e) ? this.listenTo(t(document), "touchmove", this.handleMove) : this.listenTo(t(document), "mousemove", this.handleMove)) }, stop: function (e, n) { function i() { r.isAnimating = !1, r.removeElement(), r.top0 = r.left0 = null, n && n() } var r = this, s = this.options.revertDuration; this.isFollowing && !this.isAnimating && (this.isFollowing = !1, this.stopListeningTo(t(document)), e && s && !this.isHidden ? (this.isAnimating = !0, this.el.animate({ top: this.top0, left: this.left0 }, { duration: s, complete: i })) : i()) }, getEl: function () { var t = this.el; return t || (t = this.el = this.sourceEl.clone().addClass(this.options.additionalClass || "").css({ position: "absolute", visibility: "", display: this.isHidden ? "none" : "", margin: 0, right: "auto", bottom: "auto", width: this.sourceEl.width(), height: this.sourceEl.height(), opacity: this.options.opacity || "", zIndex: this.options.zIndex }), t.addClass("fc-unselectable"), t.appendTo(this.parentEl)), t }, removeElement: function () { this.el && (this.el.remove(), this.el = null) }, updatePosition: function () { var t, e; this.getEl(), null === this.top0 && (t = this.sourceEl.offset(), e = this.el.offsetParent().offset(), this.top0 = t.top - e.top, this.left0 = t.left - e.left), this.el.css({ top: this.top0 + this.topDelta, left: this.left0 + this.leftDelta }) }, handleMove: function (t) { this.topDelta = b(t) - this.y0, this.leftDelta = E(t) - this.x0, this.isHidden || this.updatePosition() }, hide: function () { this.isHidden || (this.isHidden = !0, this.el && this.el.hide()) }, show: function () { this.isHidden && (this.isHidden = !1, this.updatePosition(), this.getEl().show()) } }), le = Ot.Grid = ct.extend(te, { hasDayInteractions: !0, view: null, isRTL: null, start: null, end: null, el: null, elsByFill: null, eventTimeFormat: null, displayEventTime: null, displayEventEnd: null, minResizeDuration: null, largeUnit: null, dayClickListener: null, daySelectListener: null, segDragListener: null, segResizeListener: null, externalDragListener: null, constructor: function (t) { this.view = t, this.isRTL = t.opt("isRTL"), this.elsByFill = {}, this.dayClickListener = this.buildDayClickListener(), this.daySelectListener = this.buildDaySelectListener() }, computeEventTimeFormat: function () { return this.view.opt("smallTimeFormat") }, computeDisplayEventTime: function () { return !0 }, computeDisplayEventEnd: function () { return !0 }, setRange: function (t) { this.start = t.start.clone(), this.end = t.end.clone(), this.rangeUpdated(), this.processRangeOptions() }, rangeUpdated: function () { }, processRangeOptions: function () { var t, e, n = this.view; this.eventTimeFormat = n.opt("eventTimeFormat") || n.opt("timeFormat") || this.computeEventTimeFormat(), t = n.opt("displayEventTime"), null == t && (t = this.computeDisplayEventTime()), e = n.opt("displayEventEnd"), null == e && (e = this.computeDisplayEventEnd()), this.displayEventTime = t, this.displayEventEnd = e }, spanToSegs: function (t) { }, diffDates: function (t, e) { return this.largeUnit ? O(t, e, this.largeUnit) : z(t, e) }, hitsNeededDepth: 0, hitsNeeded: function () { this.hitsNeededDepth++ || this.prepareHits() }, hitsNotNeeded: function () { this.hitsNeededDepth && !--this.hitsNeededDepth && this.releaseHits() }, prepareHits: function () { }, releaseHits: function () { }, queryHit: function (t, e) { }, getHitSpan: function (t) { }, getHitEl: function (t) { }, setElement: function (t) { this.el = t, this.hasDayInteractions && (T(t), this.bindDayHandler("touchstart", this.dayTouchStart), this.bindDayHandler("mousedown", this.dayMousedown)), this.bindSegHandlers(), this.bindGlobalHandlers() }, bindDayHandler: function (e, n) { var i = this; this.el.on(e, function (e) { if (!t(e.target).is(i.segSelector + "," + i.segSelector + " *,.fc-more,a[data-goto]")) return n.call(i, e) }) }, removeElement: function () { this.unbindGlobalHandlers(), this.clearDragListeners(), this.el.remove() }, renderSkeleton: function () { }, renderDates: function () { }, unrenderDates: function () { }, bindGlobalHandlers: function () { this.listenTo(t(document), { dragstart: this.externalDragStart, sortstart: this.externalDragStart }) }, unbindGlobalHandlers: function () { this.stopListeningTo(t(document)) }, dayMousedown: function (t) { var e = this.view; e.isSelected || e.selectedEvent || (this.dayClickListener.startInteraction(t), e.opt("selectable") && this.daySelectListener.startInteraction(t, { distance: e.opt("selectMinDistance") })) }, dayTouchStart: function (t) { var e, n = this.view; n.isSelected || n.selectedEvent || (e = n.opt("selectLongPressDelay"), null == e && (e = n.opt("longPressDelay")), this.dayClickListener.startInteraction(t), n.opt("selectable") && this.daySelectListener.startInteraction(t, { delay: e })) }, buildDayClickListener: function () { var t, e = this, n = this.view, i = new re(this, { scroll: n.opt("dragScroll"), interactionStart: function () { t = i.origHit }, hitOver: function (e, n, i) { n || (t = null) }, hitOut: function () { t = null }, interactionEnd: function (i, r) { !r && t && n.triggerDayClick(e.getHitSpan(t), e.getHitEl(t), i) } }); return i.shouldCancelTouchScroll = !1, i.scrollAlwaysKills = !0, i }, buildDaySelectListener: function () { var t, e = this, n = this.view, i = new re(this, { scroll: n.opt("dragScroll"), interactionStart: function () { t = null }, dragStart: function () { n.unselect() }, hitOver: function (n, i, r) { r && (t = e.computeSelection(e.getHitSpan(r), e.getHitSpan(n)), t ? e.renderSelection(t) : t === !1 && s()) }, hitOut: function () { t = null, e.unrenderSelection() }, hitDone: function () { o() }, interactionEnd: function (e, i) { !i && t && n.reportSelection(t, e) } }); return i }, clearDragListeners: function () { this.dayClickListener.endInteraction(), this.daySelectListener.endInteraction(), this.segDragListener && this.segDragListener.endInteraction(), this.segResizeListener && this.segResizeListener.endInteraction(), this.externalDragListener && this.externalDragListener.endInteraction() }, renderEventLocationHelper: function (t, e) { var n = this.fabricateHelperEvent(t, e); return this.renderHelper(n, e) }, fabricateHelperEvent: function (t, e) { var n = e ? Z(e.event) : {}; return n.start = t.start.clone(), n.end = t.end ? t.end.clone() : null, n.allDay = null, this.view.calendar.normalizeEventDates(n), n.className = (n.className || []).concat("fc-helper"), e || (n.editable = !1), n }, renderHelper: function (t, e) { }, unrenderHelper: function () { }, renderSelection: function (t) { this.renderHighlight(t) }, unrenderSelection: function () { this.unrenderHighlight() }, computeSelection: function (t, e) { var n = this.computeSelectionSpan(t, e); return !(n && !this.view.calendar.isSelectionSpanAllowed(n)) && n }, computeSelectionSpan: function (t, e) { var n = [t.start, t.end, e.start, e.end]; return n.sort(st), { start: n[0].clone(), end: n[3].clone() } }, renderHighlight: function (t) { this.renderFill("highlight", this.spanToSegs(t)) }, unrenderHighlight: function () { this.unrenderFill("highlight") }, highlightSegClasses: function () { return ["fc-highlight"] }, renderBusinessHours: function () { }, unrenderBusinessHours: function () { }, getNowIndicatorUnit: function () { }, renderNowIndicator: function (t) { }, unrenderNowIndicator: function () { }, renderFill: function (t, e) { }, unrenderFill: function (t) { var e = this.elsByFill[t]; e && (e.remove(), delete this.elsByFill[t]) }, renderFillSegEls: function (e, n) { var i, r = this, s = this[e + "SegEl"], o = "", l = []; if (n.length) { for (i = 0; i < n.length; i++) o += this.fillSegHtml(e, n[i]); t(o).each(function (e, i) { var o = n[e], a = t(i); s && (a = s.call(r, o, a)), a && (a = t(a), a.is(r.fillSegTag) && (o.el = a, l.push(o))) }) } return l }, fillSegTag: "div", fillSegHtml: function (t, e) { var n = this[t + "SegClasses"], i = this[t + "SegCss"], r = n ? n.call(this, e) : [], s = nt(i ? i.call(this, e) : {}); return "<" + this.fillSegTag + (r.length ? ' class="' + r.join(" ") + '"' : "") + (s ? ' style="' + s + '"' : "") + " />" }, getDayClasses: function (t, e) { var n = this.view, i = n.calendar.getNow(), r = ["fc-" + _t[t.day()]]; return 1 == n.intervalDuration.as("months") && t.month() != n.intervalStart.month() && r.push("fc-other-month"), t.isSame(i, "day") ? (r.push("fc-today"), e !== !0 && r.push(n.highlightStateClass)) : t < i ? r.push("fc-past") : r.push("fc-future"), r } }); le.mixin({
        segSelector: ".fc-event-container > *", mousedOverSeg: null, isDraggingSeg: !1, isResizingSeg: !1, isDraggingExternal: !1, segs: null, renderEvents: function (t) { var e, n = [], i = []; for (e = 0; e < t.length; e++) (yt(t[e]) ? n : i).push(t[e]); this.segs = [].concat(this.renderBgEvents(n), this.renderFgEvents(i)) }, renderBgEvents: function (t) { var e = this.eventsToSegs(t); return this.renderBgSegs(e) || e }, renderFgEvents: function (t) { var e = this.eventsToSegs(t); return this.renderFgSegs(e) || e }, unrenderEvents: function () { this.handleSegMouseout(), this.clearDragListeners(), this.unrenderFgSegs(), this.unrenderBgSegs(), this.segs = null }, getEventSegs: function () { return this.segs || [] }, renderFgSegs: function (t) { }, unrenderFgSegs: function () { }, renderFgSegEls: function (e, n) { var i, r = this.view, s = "", o = []; if (e.length) { for (i = 0; i < e.length; i++) s += this.fgSegHtml(e[i], n); t(s).each(function (n, i) { var s = e[n], l = r.resolveEventEl(s.event, t(i)); l && (l.data("fc-seg", s), s.el = l, o.push(s)) }) } return o }, fgSegHtml: function (t, e) { }, renderBgSegs: function (t) { return this.renderFill("bgEvent", t) }, unrenderBgSegs: function () { this.unrenderFill("bgEvent") }, bgEventSegEl: function (t, e) { return this.view.resolveEventEl(t.event, e) }, bgEventSegClasses: function (t) { var e = t.event, n = e.source || {}; return ["fc-bgevent"].concat(e.className, n.className || []) }, bgEventSegCss: function (t) { return { "background-color": this.getSegSkinCss(t)["background-color"] } }, businessHoursSegClasses: function (t) { return ["fc-nonbusiness", "fc-bgevent"] }, buildBusinessHourSegs: function (t, e) { return this.eventsToSegs(this.buildBusinessHourEvents(t, e)) }, buildBusinessHourEvents: function (e, n) { var i, r = this.view.calendar; return null == n && (n = r.options.businessHours), i = r.computeBusinessHourEvents(e, n), !i.length && n && (i = [t.extend({}, we, { start: this.view.end, end: this.view.end, dow: null })]), i }, bindSegHandlers: function () { this.bindSegHandlersToEl(this.el) }, bindSegHandlersToEl: function (t) { this.bindSegHandlerToEl(t, "touchstart", this.handleSegTouchStart), this.bindSegHandlerToEl(t, "mouseenter", this.handleSegMouseover), this.bindSegHandlerToEl(t, "mouseleave", this.handleSegMouseout), this.bindSegHandlerToEl(t, "mousedown", this.handleSegMousedown), this.bindSegHandlerToEl(t, "click", this.handleSegClick) }, bindSegHandlerToEl: function (e, n, i) { var r = this; e.on(n, this.segSelector, function (e) { var n = t(this).data("fc-seg"); if (n && !r.isDraggingSeg && !r.isResizingSeg) return i.call(r, n, e) }) }, handleSegClick: function (t, e) { var n = this.view.publiclyTrigger("eventClick", t.el[0], t.event, e); n === !1 && e.preventDefault() }, handleSegMouseover: function (t, e) { se.get().shouldIgnoreMouse() || this.mousedOverSeg || (this.mousedOverSeg = t, this.view.isEventResizable(t.event) && t.el.addClass("fc-allow-mouse-resize"), this.view.publiclyTrigger("eventMouseover", t.el[0], t.event, e)) }, handleSegMouseout: function (t, e) { e = e || {}, this.mousedOverSeg && (t = t || this.mousedOverSeg, this.mousedOverSeg = null, this.view.isEventResizable(t.event) && t.el.removeClass("fc-allow-mouse-resize"), this.view.publiclyTrigger("eventMouseout", t.el[0], t.event, e)) }, handleSegMousedown: function (t, e) { var n = this.startSegResize(t, e, { distance: 5 }); !n && this.view.isEventDraggable(t.event) && this.buildSegDragListener(t).startInteraction(e, { distance: 5 }) }, handleSegTouchStart: function (t, e) { var n, i, r = this.view, s = t.event, o = r.isEventSelected(s), l = r.isEventDraggable(s), a = r.isEventResizable(s), u = !1; o && a && (u = this.startSegResize(t, e)), u || !l && !a || (i = r.opt("eventLongPressDelay"), null == i && (i = r.opt("longPressDelay")), n = l ? this.buildSegDragListener(t) : this.buildSegSelectListener(t), n.startInteraction(e, { delay: o ? 0 : i })) }, startSegResize: function (e, n, i) { return !!t(n.target).is(".fc-resizer") && (this.buildSegResizeListener(e, t(n.target).is(".fc-start-resizer")).startInteraction(n, i), !0) }, buildSegDragListener: function (t) { var e, n, i, r = this, l = this.view, a = l.calendar, u = t.el, c = t.event; if (this.segDragListener) return this.segDragListener; var d = this.segDragListener = new re(l, { scroll: l.opt("dragScroll"), subjectEl: u, subjectCenter: !0, interactionStart: function (i) { t.component = r, e = !1, n = new oe(t.el, { additionalClass: "fc-dragging", parentEl: l.el, opacity: d.isTouch ? null : l.opt("dragOpacity"), revertDuration: l.opt("dragRevertDuration"), zIndex: 2 }), n.hide(), n.start(i) }, dragStart: function (n) { d.isTouch && !l.isEventSelected(c) && l.selectEvent(c), e = !0, r.handleSegMouseout(t, n), r.segDragStart(t, n), l.hideEvent(c) }, hitOver: function (e, o, u) { var h; t.hit && (u = t.hit), i = r.computeEventDrop(u.component.getHitSpan(u), e.component.getHitSpan(e), c), i && !a.isEventSpanAllowed(r.eventToSpan(i), c) && (s(), i = null), i && (h = l.renderDrag(i, t)) ? (h.addClass("fc-dragging"), d.isTouch || r.applyDragOpacity(h), n.hide()) : n.show(), o && (i = null) }, hitOut: function () { l.unrenderDrag(), n.show(), i = null }, hitDone: function () { o() }, interactionEnd: function (s) { delete t.component, n.stop(!i, function () { e && (l.unrenderDrag(), r.segDragStop(t, s)), i ? l.reportSegDrop(t, i, r.largeUnit, u, s) : l.showEvent(c) }), r.segDragListener = null } }); return d }, buildSegSelectListener: function (t) { var e = this, n = this.view, i = t.event; if (this.segDragListener) return this.segDragListener; var r = this.segDragListener = new ie({ dragStart: function (t) { r.isTouch && !n.isEventSelected(i) && n.selectEvent(i) }, interactionEnd: function (t) { e.segDragListener = null } }); return r }, segDragStart: function (t, e) { this.isDraggingSeg = !0, this.view.publiclyTrigger("eventDragStart", t.el[0], t.event, e, {}) }, segDragStop: function (t, e) { this.isDraggingSeg = !1, this.view.publiclyTrigger("eventDragStop", t.el[0], t.event, e, {}) }, computeEventDrop: function (t, e, n) { var i, r, s = this.view.calendar, o = t.start, l = e.start; return o.hasTime() === l.hasTime() ? (i = this.diffDates(l, o), n.allDay && W(i) ? (r = { start: n.start.clone(), end: s.getEventEnd(n), allDay: !1 }, s.normalizeEventTimes(r)) : r = mt(n), r.start.add(i), r.end && r.end.add(i)) : r = { start: l.clone(), end: null, allDay: !l.hasTime() }, r }, applyDragOpacity: function (t) { var e = this.view.opt("dragOpacity"); null != e && t.css("opacity", e) }, externalDragStart: function (e, n) { var i, r, s = this.view; s.opt("droppable") && (i = t((n ? n.item : null) || e.target), r = s.opt("dropAccept"), (t.isFunction(r) ? r.call(i[0], i) : i.is(r)) && (this.isDraggingExternal || this.listenToExternalDrag(i, e, n))) }, listenToExternalDrag: function (t, e, n) { var i, r = this, l = this.view.calendar, a = Dt(t), u = r.externalDragListener = new re(this, { interactionStart: function () { r.isDraggingExternal = !0 }, hitOver: function (t) { i = r.computeExternalDrop(t.component.getHitSpan(t), a), i && !l.isExternalSpanAllowed(r.eventToSpan(i), i, a.eventProps) && (s(), i = null), i && r.renderDrag(i) }, hitOut: function () { i = null }, hitDone: function () { o(), r.unrenderDrag() }, interactionEnd: function (e) { i && r.view.reportExternalDrop(a, i, t, e, n), r.isDraggingExternal = !1, r.externalDragListener = null } }); u.startDrag(e) }, computeExternalDrop: function (t, e) { var n = this.view.calendar, i = { start: n.applyTimezone(t.start), end: null }; return e.startTime && !i.start.hasTime() && i.start.time(e.startTime), e.duration && (i.end = i.start.clone().add(e.duration)), i }, renderDrag: function (t, e) { }, unrenderDrag: function () { }, buildSegResizeListener: function (t, e) { var n, i, r = this, l = this.view, a = l.calendar, u = t.el, c = t.event, d = a.getEventEnd(c), h = this.segResizeListener = new re(this, { scroll: l.opt("dragScroll"), subjectEl: u, interactionStart: function () { n = !1 }, dragStart: function (e) { n = !0, r.handleSegMouseout(t, e), r.segResizeStart(t, e) }, hitOver: function (n, o, u) { var h = r.getHitSpan(u), f = r.getHitSpan(n); i = e ? r.computeEventStartResize(h, f, c) : r.computeEventEndResize(h, f, c), i && (a.isEventSpanAllowed(r.eventToSpan(i), c) ? i.start.isSame(c.start.clone().stripZone()) && i.end.isSame(d.clone().stripZone()) && (i = null) : (s(), i = null)), i && (l.hideEvent(c), r.renderEventResize(i, t)) }, hitOut: function () { i = null, l.showEvent(c) }, hitDone: function () { r.unrenderEventResize(), o() }, interactionEnd: function (e) { n && r.segResizeStop(t, e), i ? l.reportSegResize(t, i, r.largeUnit, u, e) : l.showEvent(c), r.segResizeListener = null } }); return h }, segResizeStart: function (t, e) { this.isResizingSeg = !0, this.view.publiclyTrigger("eventResizeStart", t.el[0], t.event, e, {}) }, segResizeStop: function (t, e) { this.isResizingSeg = !1, this.view.publiclyTrigger("eventResizeStop", t.el[0], t.event, e, {}) }, computeEventStartResize: function (t, e, n) { return this.computeEventResize("start", t, e, n) }, computeEventEndResize: function (t, e, n) { return this.computeEventResize("end", t, e, n) }, computeEventResize: function (t, e, n, i) {
            var r, s, o = this.view.calendar, l = this.diffDates(n[t], e[t]); return r = { start: i.start.clone(), end: o.getEventEnd(i), allDay: i.allDay }, r.allDay && W(l) && (r.allDay = !1, o.normalizeEventTimes(r)), r[t].add(l), r.start.isBefore(r.end) || (s = this.minResizeDuration || (i.allDay ? o.defaultAllDayEventDuration : o.defaultTimedEventDuration), "start" == t ? r.start = r.end.clone().subtract(s) : r.end = r.start.clone().add(s)),
            r
        }, renderEventResize: function (t, e) { }, unrenderEventResize: function () { }, getEventTimeText: function (t, e, n) { return null == e && (e = this.eventTimeFormat), null == n && (n = this.displayEventEnd), this.displayEventTime && t.start.hasTime() ? n && t.end ? this.view.formatRange(t, e) : t.start.format(e) : "" }, getSegClasses: function (t, e, n) { var i = this.view, r = ["fc-event", t.isStart ? "fc-start" : "fc-not-start", t.isEnd ? "fc-end" : "fc-not-end"].concat(this.getSegCustomClasses(t)); return e && r.push("fc-draggable"), n && r.push("fc-resizable"), i.isEventSelected(t.event) && r.push("fc-selected"), r }, getSegCustomClasses: function (t) { var e = t.event; return [].concat(e.className, e.source ? e.source.className : []) }, getSegSkinCss: function (t) { return { "background-color": this.getSegBackgroundColor(t), "border-color": this.getSegBorderColor(t), color: this.getSegTextColor(t) } }, getSegBackgroundColor: function (t) { return t.event.backgroundColor || t.event.color || this.getSegDefaultBackgroundColor(t) }, getSegDefaultBackgroundColor: function (t) { var e = t.event.source || {}; return e.backgroundColor || e.color || this.view.opt("eventBackgroundColor") || this.view.opt("eventColor") }, getSegBorderColor: function (t) { return t.event.borderColor || t.event.color || this.getSegDefaultBorderColor(t) }, getSegDefaultBorderColor: function (t) { var e = t.event.source || {}; return e.borderColor || e.color || this.view.opt("eventBorderColor") || this.view.opt("eventColor") }, getSegTextColor: function (t) { return t.event.textColor || this.getSegDefaultTextColor(t) }, getSegDefaultTextColor: function (t) { var e = t.event.source || {}; return e.textColor || this.view.opt("eventTextColor") }, eventToSegs: function (t) { return this.eventsToSegs([t]) }, eventToSpan: function (t) { return this.eventToSpans(t)[0] }, eventToSpans: function (t) { var e = this.eventToRange(t); return this.eventRangeToSpans(e, t) }, eventsToSegs: function (e, n) { var i = this, r = Et(e), s = []; return t.each(r, function (t, e) { var r, o = []; for (r = 0; r < e.length; r++) o.push(i.eventToRange(e[r])); if (St(e[0])) for (o = i.invertRanges(o), r = 0; r < o.length; r++) s.push.apply(s, i.eventRangeToSegs(o[r], e[0], n)); else for (r = 0; r < o.length; r++) s.push.apply(s, i.eventRangeToSegs(o[r], e[r], n)) }), s }, eventToRange: function (t) { var e = this.view.calendar, n = t.start.clone().stripZone(), i = (t.end ? t.end.clone() : e.getDefaultEventEnd(null != t.allDay ? t.allDay : !t.start.hasTime(), t.start)).stripZone(); return e.localizeMoment(n), e.localizeMoment(i), { start: n, end: i } }, eventRangeToSegs: function (t, e, n) { var i, r = this.eventRangeToSpans(t, e), s = []; for (i = 0; i < r.length; i++) s.push.apply(s, this.eventSpanToSegs(r[i], e, n)); return s }, eventRangeToSpans: function (e, n) { return [t.extend({}, e)] }, eventSpanToSegs: function (t, e, n) { var i, r, s = n ? n(t) : this.spanToSegs(t); for (i = 0; i < s.length; i++) r = s[i], r.event = e, r.eventStartMS = +t.start, r.eventDurationMS = t.end - t.start; return s }, invertRanges: function (t) { var e, n, i = this.view, r = i.start.clone(), s = i.end.clone(), o = [], l = r; for (t.sort(bt), e = 0; e < t.length; e++) n = t[e], n.start > l && o.push({ start: l, end: n.start }), l = n.end; return l < s && o.push({ start: l, end: s }), o }, sortEventSegs: function (t) { t.sort(lt(this, "compareEventSegs")) }, compareEventSegs: function (t, e) { return t.eventStartMS - e.eventStartMS || e.eventDurationMS - t.eventDurationMS || e.event.allDay - t.event.allDay || M(t.event, e.event, this.view.eventOrderSpecs) }
    }), Ot.pluckEventDateProps = mt, Ot.isBgEvent = yt, Ot.dataAttrPrefix = ""; var ae = Ot.DayTableMixin = { breakOnWeeks: !1, dayDates: null, dayIndices: null, daysPerRow: null, rowCnt: null, colCnt: null, colHeadFormat: null, updateDayTable: function () { for (var t, e, n, i = this.view, r = this.start.clone(), s = -1, o = [], l = []; r.isBefore(this.end) ;) i.isHiddenDay(r) ? o.push(s + .5) : (s++, o.push(s), l.push(r.clone())), r.add(1, "days"); if (this.breakOnWeeks) { for (e = l[0].day(), t = 1; t < l.length && l[t].day() != e; t++); n = Math.ceil(l.length / t) } else n = 1, t = l.length; this.dayDates = l, this.dayIndices = o, this.daysPerRow = t, this.rowCnt = n, this.updateDayTableCols() }, updateDayTableCols: function () { this.colCnt = this.computeColCnt(), this.colHeadFormat = this.view.opt("columnFormat") || this.computeColHeadFormat() }, computeColCnt: function () { return this.daysPerRow }, getCellDate: function (t, e) { return this.dayDates[this.getCellDayIndex(t, e)].clone() }, getCellRange: function (t, e) { var n = this.getCellDate(t, e), i = n.clone().add(1, "days"); return { start: n, end: i } }, getCellDayIndex: function (t, e) { return t * this.daysPerRow + this.getColDayIndex(e) }, getColDayIndex: function (t) { return this.isRTL ? this.colCnt - 1 - t : t }, getDateDayIndex: function (t) { var e = this.dayIndices, n = t.diff(this.start, "days"); return n < 0 ? e[0] - 1 : n >= e.length ? e[e.length - 1] + 1 : e[n] }, computeColHeadFormat: function () { return this.rowCnt > 1 || this.colCnt > 10 ? "ddd" : this.colCnt > 1 ? this.view.opt("dayOfMonthFormat") : "dddd" }, sliceRangeByRow: function (t) { var e, n, i, r, s, o = this.daysPerRow, l = this.view.computeDayRange(t), a = this.getDateDayIndex(l.start), u = this.getDateDayIndex(l.end.clone().subtract(1, "days")), c = []; for (e = 0; e < this.rowCnt; e++) n = e * o, i = n + o - 1, r = Math.max(a, n), s = Math.min(u, i), r = Math.ceil(r), s = Math.floor(s), r <= s && c.push({ row: e, firstRowDayIndex: r - n, lastRowDayIndex: s - n, isStart: r === a, isEnd: s === u }); return c }, sliceRangeByDay: function (t) { var e, n, i, r, s, o, l = this.daysPerRow, a = this.view.computeDayRange(t), u = this.getDateDayIndex(a.start), c = this.getDateDayIndex(a.end.clone().subtract(1, "days")), d = []; for (e = 0; e < this.rowCnt; e++) for (n = e * l, i = n + l - 1, r = n; r <= i; r++) s = Math.max(u, r), o = Math.min(c, r), s = Math.ceil(s), o = Math.floor(o), s <= o && d.push({ row: e, firstRowDayIndex: s - n, lastRowDayIndex: o - n, isStart: s === u, isEnd: o === c }); return d }, renderHeadHtml: function () { var t = this.view; return '<div class="fc-row ' + t.widgetHeaderClass + '"><table><thead>' + this.renderHeadTrHtml() + "</thead></table></div>" }, renderHeadIntroHtml: function () { return this.renderIntroHtml() }, renderHeadTrHtml: function () { return "<tr>" + (this.isRTL ? "" : this.renderHeadIntroHtml()) + this.renderHeadDateCellsHtml() + (this.isRTL ? this.renderHeadIntroHtml() : "") + "</tr>" }, renderHeadDateCellsHtml: function () { var t, e, n = []; for (t = 0; t < this.colCnt; t++) e = this.getCellDate(0, t), n.push(this.renderHeadDateCellHtml(e)); return n.join("") }, renderHeadDateCellHtml: function (t, e, n) { var i = this.view, r = ["fc-day-header", i.widgetHeaderClass]; return 1 === this.rowCnt ? r = r.concat(this.getDayClasses(t, !0)) : r.push("fc-" + _t[t.day()]), '<th class="' + r.join(" ") + '"' + (1 === this.rowCnt ? ' data-date="' + t.format("YYYY-MM-DD") + '"' : "") + (e > 1 ? ' colspan="' + e + '"' : "") + (n ? " " + n : "") + ">" + i.buildGotoAnchorHtml({ date: t, forceOff: this.rowCnt > 1 || 1 === this.colCnt }, tt(t.format(this.colHeadFormat))) + "</th>" }, renderBgTrHtml: function (t) { return "<tr>" + (this.isRTL ? "" : this.renderBgIntroHtml(t)) + this.renderBgCellsHtml(t) + (this.isRTL ? this.renderBgIntroHtml(t) : "") + "</tr>" }, renderBgIntroHtml: function (t) { return this.renderIntroHtml() }, renderBgCellsHtml: function (t) { var e, n, i = []; for (e = 0; e < this.colCnt; e++) n = this.getCellDate(t, e), i.push(this.renderBgCellHtml(n)); return i.join("") }, renderBgCellHtml: function (t, e) { var n = this.view, i = this.getDayClasses(t); return i.unshift("fc-day", n.widgetContentClass), '<td class="' + i.join(" ") + '" data-date="' + t.format("YYYY-MM-DD") + '"' + (e ? " " + e : "") + "></td>" }, renderIntroHtml: function () { }, bookendCells: function (t) { var e = this.renderIntroHtml(); e && (this.isRTL ? t.append(e) : t.prepend(e)) } }, ue = Ot.DayGrid = le.extend(ae, { numbersVisible: !1, bottomCoordPadding: 0, rowEls: null, cellEls: null, helperEls: null, rowCoordCache: null, colCoordCache: null, renderDates: function (t) { var e, n, i = this.view, r = this.rowCnt, s = this.colCnt, o = ""; for (e = 0; e < r; e++) o += this.renderDayRowHtml(e, t); for (this.el.html(o), this.rowEls = this.el.find(".fc-row"), this.cellEls = this.el.find(".fc-day"), this.rowCoordCache = new ne({ els: this.rowEls, isVertical: !0 }), this.colCoordCache = new ne({ els: this.cellEls.slice(0, this.colCnt), isHorizontal: !0 }), e = 0; e < r; e++) for (n = 0; n < s; n++) i.publiclyTrigger("dayRender", null, this.getCellDate(e, n), this.getCellEl(e, n)) }, unrenderDates: function () { this.removeSegPopover() }, renderBusinessHours: function () { var t = this.buildBusinessHourSegs(!0); this.renderFill("businessHours", t, "bgevent") }, unrenderBusinessHours: function () { this.unrenderFill("businessHours") }, renderDayRowHtml: function (t, e) { var n = this.view, i = ["fc-row", "fc-week", n.widgetContentClass]; return e && i.push("fc-rigid"), '<div class="' + i.join(" ") + '"><div class="fc-bg"><table>' + this.renderBgTrHtml(t) + '</table></div><div class="fc-content-skeleton"><table>' + (this.numbersVisible ? "<thead>" + this.renderNumberTrHtml(t) + "</thead>" : "") + "</table></div></div>" }, renderNumberTrHtml: function (t) { return "<tr>" + (this.isRTL ? "" : this.renderNumberIntroHtml(t)) + this.renderNumberCellsHtml(t) + (this.isRTL ? this.renderNumberIntroHtml(t) : "") + "</tr>" }, renderNumberIntroHtml: function (t) { return this.renderIntroHtml() }, renderNumberCellsHtml: function (t) { var e, n, i = []; for (e = 0; e < this.colCnt; e++) n = this.getCellDate(t, e), i.push(this.renderNumberCellHtml(n)); return i.join("") }, renderNumberCellHtml: function (t) { var e, n, i = ""; return this.view.dayNumbersVisible || this.view.cellWeekNumbersVisible ? (e = this.getDayClasses(t), e.unshift("fc-day-top"), this.view.cellWeekNumbersVisible && (n = "ISO" === t._locale._fullCalendar_weekCalc ? 1 : t._locale.firstDayOfWeek()), i += '<td class="' + e.join(" ") + '" data-date="' + t.format() + '">', this.view.cellWeekNumbersVisible && t.day() == n && (i += this.view.buildGotoAnchorHtml({ date: t, type: "week" }, { class: "fc-week-number" }, t.format("w"))), this.view.dayNumbersVisible && (i += this.view.buildGotoAnchorHtml(t, { class: "fc-day-number" }, t.date())), i += "</td>") : "<td/>" }, computeEventTimeFormat: function () { return this.view.opt("extraSmallTimeFormat") }, computeDisplayEventEnd: function () { return 1 == this.colCnt }, rangeUpdated: function () { this.updateDayTable() }, spanToSegs: function (t) { var e, n, i = this.sliceRangeByRow(t); for (e = 0; e < i.length; e++) n = i[e], this.isRTL ? (n.leftCol = this.daysPerRow - 1 - n.lastRowDayIndex, n.rightCol = this.daysPerRow - 1 - n.firstRowDayIndex) : (n.leftCol = n.firstRowDayIndex, n.rightCol = n.lastRowDayIndex); return i }, prepareHits: function () { this.colCoordCache.build(), this.rowCoordCache.build(), this.rowCoordCache.bottoms[this.rowCnt - 1] += this.bottomCoordPadding }, releaseHits: function () { this.colCoordCache.clear(), this.rowCoordCache.clear() }, queryHit: function (t, e) { if (this.colCoordCache.isLeftInBounds(t) && this.rowCoordCache.isTopInBounds(e)) { var n = this.colCoordCache.getHorizontalIndex(t), i = this.rowCoordCache.getVerticalIndex(e); if (null != i && null != n) return this.getCellHit(i, n) } }, getHitSpan: function (t) { return this.getCellRange(t.row, t.col) }, getHitEl: function (t) { return this.getCellEl(t.row, t.col) }, getCellHit: function (t, e) { return { row: t, col: e, component: this, left: this.colCoordCache.getLeftOffset(e), right: this.colCoordCache.getRightOffset(e), top: this.rowCoordCache.getTopOffset(t), bottom: this.rowCoordCache.getBottomOffset(t) } }, getCellEl: function (t, e) { return this.cellEls.eq(t * this.colCnt + e) }, renderDrag: function (t, e) { if (this.renderHighlight(this.eventToSpan(t)), e && e.component !== this) return this.renderEventLocationHelper(t, e) }, unrenderDrag: function () { this.unrenderHighlight(), this.unrenderHelper() }, renderEventResize: function (t, e) { return this.renderHighlight(this.eventToSpan(t)), this.renderEventLocationHelper(t, e) }, unrenderEventResize: function () { this.unrenderHighlight(), this.unrenderHelper() }, renderHelper: function (e, n) { var i, r = [], s = this.eventToSegs(e); return s = this.renderFgSegEls(s), i = this.renderSegRows(s), this.rowEls.each(function (e, s) { var o, l = t(s), a = t('<div class="fc-helper-skeleton"><table/></div>'); o = n && n.row === e ? n.el.position().top : l.find(".fc-content-skeleton tbody").position().top, a.css("top", o).find("table").append(i[e].tbodyEl), l.append(a), r.push(a[0]) }), this.helperEls = t(r) }, unrenderHelper: function () { this.helperEls && (this.helperEls.remove(), this.helperEls = null) }, fillSegTag: "td", renderFill: function (e, n, i) { var r, s, o, l = []; for (n = this.renderFillSegEls(e, n), r = 0; r < n.length; r++) s = n[r], o = this.renderFillRow(e, s, i), this.rowEls.eq(s.row).append(o), l.push(o[0]); return this.elsByFill[e] = t(l), n }, renderFillRow: function (e, n, i) { var r, s, o = this.colCnt, l = n.leftCol, a = n.rightCol + 1; return i = i || e.toLowerCase(), r = t('<div class="fc-' + i + '-skeleton"><table><tr/></table></div>'), s = r.find("tr"), l > 0 && s.append('<td colspan="' + l + '"/>'), s.append(n.el.attr("colspan", a - l)), a < o && s.append('<td colspan="' + (o - a) + '"/>'), this.bookendCells(s), r } }); ue.mixin({ rowStructs: null, unrenderEvents: function () { this.removeSegPopover(), le.prototype.unrenderEvents.apply(this, arguments) }, getEventSegs: function () { return le.prototype.getEventSegs.call(this).concat(this.popoverSegs || []) }, renderBgSegs: function (e) { var n = t.grep(e, function (t) { return t.event.allDay }); return le.prototype.renderBgSegs.call(this, n) }, renderFgSegs: function (e) { var n; return e = this.renderFgSegEls(e), n = this.rowStructs = this.renderSegRows(e), this.rowEls.each(function (e, i) { t(i).find(".fc-content-skeleton > table").append(n[e].tbodyEl) }), e }, unrenderFgSegs: function () { for (var t, e = this.rowStructs || []; t = e.pop() ;) t.tbodyEl.remove(); this.rowStructs = null }, renderSegRows: function (t) { var e, n, i = []; for (e = this.groupSegRows(t), n = 0; n < e.length; n++) i.push(this.renderSegRow(n, e[n])); return i }, fgSegHtml: function (t, e) { var n, i, r = this.view, s = t.event, o = r.isEventDraggable(s), l = !e && s.allDay && t.isStart && r.isEventResizableFromStart(s), a = !e && s.allDay && t.isEnd && r.isEventResizableFromEnd(s), u = this.getSegClasses(t, o, l || a), c = nt(this.getSegSkinCss(t)), d = ""; return u.unshift("fc-day-grid-event", "fc-h-event"), t.isStart && (n = this.getEventTimeText(s), n && (d = '<span class="fc-time">' + tt(n) + "</span>")), i = '<span class="fc-title">' + (tt(s.title || "") || "&nbsp;") + "</span>", '<a class="' + u.join(" ") + '"' + (s.url ? ' href="' + tt(s.url) + '"' : "") + (c ? ' style="' + c + '"' : "") + '><div class="fc-content">' + (this.isRTL ? i + " " + d : d + " " + i) + "</div>" + (l ? '<div class="fc-resizer fc-start-resizer" />' : "") + (a ? '<div class="fc-resizer fc-end-resizer" />' : "") + "</a>" }, renderSegRow: function (e, n) { function i(e) { for (; o < e;) c = (m[r - 1] || [])[o], c ? c.attr("rowspan", parseInt(c.attr("rowspan") || 1, 10) + 1) : (c = t("<td/>"), l.append(c)), v[r][o] = c, m[r][o] = c, o++ } var r, s, o, l, a, u, c, d = this.colCnt, h = this.buildSegLevels(n), f = Math.max(1, h.length), g = t("<tbody/>"), p = [], v = [], m = []; for (r = 0; r < f; r++) { if (s = h[r], o = 0, l = t("<tr/>"), p.push([]), v.push([]), m.push([]), s) for (a = 0; a < s.length; a++) { for (u = s[a], i(u.leftCol), c = t('<td class="fc-event-container"/>').append(u.el), u.leftCol != u.rightCol ? c.attr("colspan", u.rightCol - u.leftCol + 1) : m[r][o] = c; o <= u.rightCol;) v[r][o] = c, p[r][o] = u, o++; l.append(c) } i(d), this.bookendCells(l), g.append(l) } return { row: e, tbodyEl: g, cellMatrix: v, segMatrix: p, segLevels: h, segs: n } }, buildSegLevels: function (t) { var e, n, i, r = []; for (this.sortEventSegs(t), e = 0; e < t.length; e++) { for (n = t[e], i = 0; i < r.length && Tt(n, r[i]) ; i++); n.level = i, (r[i] || (r[i] = [])).push(n) } for (i = 0; i < r.length; i++) r[i].sort(Ct); return r }, groupSegRows: function (t) { var e, n = []; for (e = 0; e < this.rowCnt; e++) n.push([]); for (e = 0; e < t.length; e++) n[t[e].row].push(t[e]); return n } }), ue.mixin({ segPopover: null, popoverSegs: null, removeSegPopover: function () { this.segPopover && this.segPopover.hide() }, limitRows: function (t) { var e, n, i = this.rowStructs || []; for (e = 0; e < i.length; e++) this.unlimitRow(e), n = !!t && ("number" == typeof t ? t : this.computeRowLevelLimit(e)), n !== !1 && this.limitRow(e, n) }, computeRowLevelLimit: function (e) { function n(e, n) { s = Math.max(s, t(n).outerHeight()) } var i, r, s, o = this.rowEls.eq(e), l = o.height(), a = this.rowStructs[e].tbodyEl.children(); for (i = 0; i < a.length; i++) if (r = a.eq(i).removeClass("fc-limited"), s = 0, r.find("> td > :first-child").each(n), r.position().top + s > l) return i; return !1 }, limitRow: function (e, n) { function i(i) { for (; b < i;) u = S.getCellSegs(e, b, n), u.length && (h = s[n - 1][b], y = S.renderMoreLink(e, b, u), m = t("<div/>").append(y), h.append(m), E.push(m[0])), b++ } var r, s, o, l, a, u, c, d, h, f, g, p, v, m, y, S = this, w = this.rowStructs[e], E = [], b = 0; if (n && n < w.segLevels.length) { for (r = w.segLevels[n - 1], s = w.cellMatrix, o = w.tbodyEl.children().slice(n).addClass("fc-limited").get(), l = 0; l < r.length; l++) { for (a = r[l], i(a.leftCol), d = [], c = 0; b <= a.rightCol;) u = this.getCellSegs(e, b, n), d.push(u), c += u.length, b++; if (c) { for (h = s[n - 1][a.leftCol], f = h.attr("rowspan") || 1, g = [], p = 0; p < d.length; p++) v = t('<td class="fc-more-cell"/>').attr("rowspan", f), u = d[p], y = this.renderMoreLink(e, a.leftCol + p, [a].concat(u)), m = t("<div/>").append(y), v.append(m), g.push(v[0]), E.push(v[0]); h.addClass("fc-limited").after(t(g)), o.push(h[0]) } } i(this.colCnt), w.moreEls = t(E), w.limitedEls = t(o) } }, unlimitRow: function (t) { var e = this.rowStructs[t]; e.moreEls && (e.moreEls.remove(), e.moreEls = null), e.limitedEls && (e.limitedEls.removeClass("fc-limited"), e.limitedEls = null) }, renderMoreLink: function (e, n, i) { var r = this, s = this.view; return t('<a class="fc-more"/>').text(this.getMoreLinkText(i.length)).on("click", function (o) { var l = s.opt("eventLimitClick"), a = r.getCellDate(e, n), u = t(this), c = r.getCellEl(e, n), d = r.getCellSegs(e, n), h = r.resliceDaySegs(d, a), f = r.resliceDaySegs(i, a); "function" == typeof l && (l = s.publiclyTrigger("eventLimitClick", null, { date: a, dayEl: c, moreEl: u, segs: h, hiddenSegs: f }, o)), "popover" === l ? r.showSegPopover(e, n, u, h) : "string" == typeof l && s.calendar.zoomTo(a, l) }) }, showSegPopover: function (t, e, n, i) { var r, s, o = this, l = this.view, a = n.parent(); r = 1 == this.rowCnt ? l.el : this.rowEls.eq(t), s = { className: "fc-more-popover", content: this.renderSegPopoverContent(t, e, i), parentEl: this.view.el, top: r.offset().top, autoHide: !0, viewportConstrain: l.opt("popoverViewportConstrain"), hide: function () { if (o.popoverSegs) for (var t, e = 0; e < o.popoverSegs.length; ++e) t = o.popoverSegs[e], l.publiclyTrigger("eventDestroy", t.event, t.event, t.el); o.segPopover.removeElement(), o.segPopover = null, o.popoverSegs = null } }, this.isRTL ? s.right = a.offset().left + a.outerWidth() + 1 : s.left = a.offset().left - 1, this.segPopover = new ee(s), this.segPopover.show(), this.bindSegHandlersToEl(this.segPopover.el) }, renderSegPopoverContent: function (e, n, i) { var r, s = this.view, o = s.opt("theme"), l = this.getCellDate(e, n).format(s.opt("dayPopoverFormat")), a = t('<div class="fc-header ' + s.widgetHeaderClass + '"><span class="fc-close ' + (o ? "ui-icon ui-icon-closethick" : "fc-icon fc-icon-x") + '"></span><span class="fc-title">' + tt(l) + '</span><div class="fc-clear"/></div><div class="fc-body ' + s.widgetContentClass + '"><div class="fc-event-container"></div></div>'), u = a.find(".fc-event-container"); for (i = this.renderFgSegEls(i, !0), this.popoverSegs = i, r = 0; r < i.length; r++) this.hitsNeeded(), i[r].hit = this.getCellHit(e, n), this.hitsNotNeeded(), u.append(i[r].el); return a }, resliceDaySegs: function (e, n) { var i = t.map(e, function (t) { return t.event }), r = n.clone(), s = r.clone().add(1, "days"), o = { start: r, end: s }; return e = this.eventsToSegs(i, function (t) { var e = F(t, o); return e ? [e] : [] }), this.sortEventSegs(e), e }, getMoreLinkText: function (t) { var e = this.view.opt("eventLimitText"); return "function" == typeof e ? e(t) : "+" + t + " " + e }, getCellSegs: function (t, e, n) { for (var i, r = this.rowStructs[t].segMatrix, s = n || 0, o = []; s < r.length;) i = r[s][e], i && o.push(i), s++; return o } }); var ce = Ot.TimeGrid = le.extend(ae, { slotDuration: null, snapDuration: null, snapsPerSlot: null, minTime: null, maxTime: null, labelFormat: null, labelInterval: null, colEls: null, slatContainerEl: null, slatEls: null, nowIndicatorEls: null, colCoordCache: null, slatCoordCache: null, constructor: function () { le.apply(this, arguments), this.processOptions() }, renderDates: function () { this.el.html(this.renderHtml()), this.colEls = this.el.find(".fc-day"), this.slatContainerEl = this.el.find(".fc-slats"), this.slatEls = this.slatContainerEl.find("tr"), this.colCoordCache = new ne({ els: this.colEls, isHorizontal: !0 }), this.slatCoordCache = new ne({ els: this.slatEls, isVertical: !0 }), this.renderContentSkeleton() }, renderHtml: function () { return '<div class="fc-bg"><table>' + this.renderBgTrHtml(0) + '</table></div><div class="fc-slats"><table>' + this.renderSlatRowHtml() + "</table></div>" }, renderSlatRowHtml: function () { for (var t, n, i, r = this.view, s = this.isRTL, o = "", l = e.duration(+this.minTime) ; l < this.maxTime;) t = this.start.clone().time(l), n = ot(_(l, this.labelInterval)), i = '<td class="fc-axis fc-time ' + r.widgetContentClass + '" ' + r.axisStyleAttr() + ">" + (n ? "<span>" + tt(t.format(this.labelFormat)) + "</span>" : "") + "</td>", o += '<tr data-time="' + t.format("HH:mm:ss") + '"' + (n ? "" : ' class="fc-minor"') + ">" + (s ? "" : i) + '<td class="' + r.widgetContentClass + '"/>' + (s ? i : "") + "</tr>", l.add(this.slotDuration); return o }, processOptions: function () { var n, i = this.view, r = i.opt("slotDuration"), s = i.opt("snapDuration"); r = e.duration(r), s = s ? e.duration(s) : r, this.slotDuration = r, this.snapDuration = s, this.snapsPerSlot = r / s, this.minResizeDuration = s, this.minTime = e.duration(i.opt("minTime")), this.maxTime = e.duration(i.opt("maxTime")), n = i.opt("slotLabelFormat"), t.isArray(n) && (n = n[n.length - 1]), this.labelFormat = n || i.opt("smallTimeFormat"), n = i.opt("slotLabelInterval"), this.labelInterval = n ? e.duration(n) : this.computeLabelInterval(r) }, computeLabelInterval: function (t) { var n, i, r; for (n = Re.length - 1; n >= 0; n--) if (i = e.duration(Re[n]), r = _(i, t), ot(r) && r > 1) return i; return e.duration(t) }, computeEventTimeFormat: function () { return this.view.opt("noMeridiemTimeFormat") }, computeDisplayEventEnd: function () { return !0 }, prepareHits: function () { this.colCoordCache.build(), this.slatCoordCache.build() }, releaseHits: function () { this.colCoordCache.clear() }, queryHit: function (t, e) { var n = this.snapsPerSlot, i = this.colCoordCache, r = this.slatCoordCache; if (i.isLeftInBounds(t) && r.isTopInBounds(e)) { var s = i.getHorizontalIndex(t), o = r.getVerticalIndex(e); if (null != s && null != o) { var l = r.getTopOffset(o), a = r.getHeight(o), u = (e - l) / a, c = Math.floor(u * n), d = o * n + c, h = l + c / n * a, f = l + (c + 1) / n * a; return { col: s, snap: d, component: this, left: i.getLeftOffset(s), right: i.getRightOffset(s), top: h, bottom: f } } } }, getHitSpan: function (t) { var e, n = this.getCellDate(0, t.col), i = this.computeSnapTime(t.snap); return n.time(i), e = n.clone().add(this.snapDuration), { start: n, end: e } }, getHitEl: function (t) { return this.colEls.eq(t.col) }, rangeUpdated: function () { this.updateDayTable() }, computeSnapTime: function (t) { return e.duration(this.minTime + this.snapDuration * t) }, spanToSegs: function (t) { var e, n = this.sliceRangeByTimes(t); for (e = 0; e < n.length; e++) this.isRTL ? n[e].col = this.daysPerRow - 1 - n[e].dayIndex : n[e].col = n[e].dayIndex; return n }, sliceRangeByTimes: function (t) { var e, n, i, r, s = []; for (n = 0; n < this.daysPerRow; n++) i = this.dayDates[n].clone(), r = { start: i.clone().time(this.minTime), end: i.clone().time(this.maxTime) }, e = F(t, r), e && (e.dayIndex = n, s.push(e)); return s }, updateSize: function (t) { this.slatCoordCache.build(), t && this.updateSegVerticals([].concat(this.fgSegs || [], this.bgSegs || [], this.businessSegs || [])) }, getTotalSlatHeight: function () { return this.slatContainerEl.outerHeight() }, computeDateTop: function (t, n) { return this.computeTimeTop(e.duration(t - n.clone().stripTime())) }, computeTimeTop: function (t) { var e, n, i = this.slatEls.length, r = (t - this.minTime) / this.slotDuration; return r = Math.max(0, r), r = Math.min(i, r), e = Math.floor(r), e = Math.min(e, i - 1), n = r - e, this.slatCoordCache.getTopPosition(e) + this.slatCoordCache.getHeight(e) * n }, renderDrag: function (t, e) { return e ? this.renderEventLocationHelper(t, e) : void this.renderHighlight(this.eventToSpan(t)) }, unrenderDrag: function () { this.unrenderHelper(), this.unrenderHighlight() }, renderEventResize: function (t, e) { return this.renderEventLocationHelper(t, e) }, unrenderEventResize: function () { this.unrenderHelper() }, renderHelper: function (t, e) { return this.renderHelperSegs(this.eventToSegs(t), e) }, unrenderHelper: function () { this.unrenderHelperSegs() }, renderBusinessHours: function () { this.renderBusinessSegs(this.buildBusinessHourSegs()) }, unrenderBusinessHours: function () { this.unrenderBusinessSegs() }, getNowIndicatorUnit: function () { return "minute" }, renderNowIndicator: function (e) { var n, i = this.spanToSegs({ start: e, end: e }), r = this.computeDateTop(e, e), s = []; for (n = 0; n < i.length; n++) s.push(t('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top", r).appendTo(this.colContainerEls.eq(i[n].col))[0]); i.length > 0 && s.push(t('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top", r).appendTo(this.el.find(".fc-content-skeleton"))[0]), this.nowIndicatorEls = t(s) }, unrenderNowIndicator: function () { this.nowIndicatorEls && (this.nowIndicatorEls.remove(), this.nowIndicatorEls = null) }, renderSelection: function (t) { this.view.opt("selectHelper") ? this.renderEventLocationHelper(t) : this.renderHighlight(t) }, unrenderSelection: function () { this.unrenderHelper(), this.unrenderHighlight() }, renderHighlight: function (t) { this.renderHighlightSegs(this.spanToSegs(t)) }, unrenderHighlight: function () { this.unrenderHighlightSegs() } }); ce.mixin({ colContainerEls: null, fgContainerEls: null, bgContainerEls: null, helperContainerEls: null, highlightContainerEls: null, businessContainerEls: null, fgSegs: null, bgSegs: null, helperSegs: null, highlightSegs: null, businessSegs: null, renderContentSkeleton: function () { var e, n, i = ""; for (e = 0; e < this.colCnt; e++) i += '<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>'; n = t('<div class="fc-content-skeleton"><table><tr>' + i + "</tr></table></div>"), this.colContainerEls = n.find(".fc-content-col"), this.helperContainerEls = n.find(".fc-helper-container"), this.fgContainerEls = n.find(".fc-event-container:not(.fc-helper-container)"), this.bgContainerEls = n.find(".fc-bgevent-container"), this.highlightContainerEls = n.find(".fc-highlight-container"), this.businessContainerEls = n.find(".fc-business-container"), this.bookendCells(n.find("tr")), this.el.append(n) }, renderFgSegs: function (t) { return t = this.renderFgSegsIntoContainers(t, this.fgContainerEls), this.fgSegs = t, t }, unrenderFgSegs: function () { this.unrenderNamedSegs("fgSegs") }, renderHelperSegs: function (e, n) { var i, r, s, o = []; for (e = this.renderFgSegsIntoContainers(e, this.helperContainerEls), i = 0; i < e.length; i++) r = e[i], n && n.col === r.col && (s = n.el, r.el.css({ left: s.css("left"), right: s.css("right"), "margin-left": s.css("margin-left"), "margin-right": s.css("margin-right") })), o.push(r.el[0]); return this.helperSegs = e, t(o) }, unrenderHelperSegs: function () { this.unrenderNamedSegs("helperSegs") }, renderBgSegs: function (t) { return t = this.renderFillSegEls("bgEvent", t), this.updateSegVerticals(t), this.attachSegsByCol(this.groupSegsByCol(t), this.bgContainerEls), this.bgSegs = t, t }, unrenderBgSegs: function () { this.unrenderNamedSegs("bgSegs") }, renderHighlightSegs: function (t) { t = this.renderFillSegEls("highlight", t), this.updateSegVerticals(t), this.attachSegsByCol(this.groupSegsByCol(t), this.highlightContainerEls), this.highlightSegs = t }, unrenderHighlightSegs: function () { this.unrenderNamedSegs("highlightSegs") }, renderBusinessSegs: function (t) { t = this.renderFillSegEls("businessHours", t), this.updateSegVerticals(t), this.attachSegsByCol(this.groupSegsByCol(t), this.businessContainerEls), this.businessSegs = t }, unrenderBusinessSegs: function () { this.unrenderNamedSegs("businessSegs") }, groupSegsByCol: function (t) { var e, n = []; for (e = 0; e < this.colCnt; e++) n.push([]); for (e = 0; e < t.length; e++) n[t[e].col].push(t[e]); return n }, attachSegsByCol: function (t, e) { var n, i, r; for (n = 0; n < this.colCnt; n++) for (i = t[n], r = 0; r < i.length; r++) e.eq(n).append(i[r].el) }, unrenderNamedSegs: function (t) { var e, n = this[t]; if (n) { for (e = 0; e < n.length; e++) n[e].el.remove(); this[t] = null } }, renderFgSegsIntoContainers: function (t, e) { var n, i; for (t = this.renderFgSegEls(t), n = this.groupSegsByCol(t), i = 0; i < this.colCnt; i++) this.updateFgSegCoords(n[i]); return this.attachSegsByCol(n, e), t }, fgSegHtml: function (t, e) { var n, i, r, s = this.view, o = t.event, l = s.isEventDraggable(o), a = !e && t.isStart && s.isEventResizableFromStart(o), u = !e && t.isEnd && s.isEventResizableFromEnd(o), c = this.getSegClasses(t, l, a || u), d = nt(this.getSegSkinCss(t)); return c.unshift("fc-time-grid-event", "fc-v-event"), s.isMultiDayEvent(o) ? (t.isStart || t.isEnd) && (n = this.getEventTimeText(t), i = this.getEventTimeText(t, "LT"), r = this.getEventTimeText(t, null, !1)) : (n = this.getEventTimeText(o), i = this.getEventTimeText(o, "LT"), r = this.getEventTimeText(o, null, !1)), '<a class="' + c.join(" ") + '"' + (o.url ? ' href="' + tt(o.url) + '"' : "") + (d ? ' style="' + d + '"' : "") + '><div class="fc-content">' + (n ? '<div class="fc-time" data-start="' + tt(r) + '" data-full="' + tt(i) + '"><span>' + tt(n) + "</span></div>" : "") + (o.title ? '<div class="fc-title">' + tt(o.title) + "</div>" : "") + '</div><div class="fc-bg"/>' + (u ? '<div class="fc-resizer fc-end-resizer" />' : "") + "</a>" }, updateSegVerticals: function (t) { this.computeSegVerticals(t), this.assignSegVerticals(t) }, computeSegVerticals: function (t) { var e, n; for (e = 0; e < t.length; e++) n = t[e], n.top = this.computeDateTop(n.start, n.start), n.bottom = this.computeDateTop(n.end, n.start) }, assignSegVerticals: function (t) { var e, n; for (e = 0; e < t.length; e++) n = t[e], n.el.css(this.generateSegVerticalCss(n)) }, generateSegVerticalCss: function (t) { return { top: t.top, bottom: -t.bottom } }, updateFgSegCoords: function (t) { this.computeSegVerticals(t), this.computeFgSegHorizontals(t), this.assignSegVerticals(t), this.assignFgSegHorizontals(t) }, computeFgSegHorizontals: function (t) { var e, n, i; if (this.sortEventSegs(t), e = Ht(t), xt(e), n = e[0]) { for (i = 0; i < n.length; i++) Rt(n[i]); for (i = 0; i < n.length; i++) this.computeFgSegForwardBack(n[i], 0, 0) } }, computeFgSegForwardBack: function (t, e, n) { var i, r = t.forwardSegs; if (void 0 === t.forwardCoord) for (r.length ? (this.sortForwardSegs(r), this.computeFgSegForwardBack(r[0], e + 1, n), t.forwardCoord = r[0].backwardCoord) : t.forwardCoord = 1, t.backwardCoord = t.forwardCoord - (t.forwardCoord - n) / (e + 1), i = 0; i < r.length; i++) this.computeFgSegForwardBack(r[i], 0, t.forwardCoord) }, sortForwardSegs: function (t) { t.sort(lt(this, "compareForwardSegs")) }, compareForwardSegs: function (t, e) { return e.forwardPressure - t.forwardPressure || (t.backwardCoord || 0) - (e.backwardCoord || 0) || this.compareEventSegs(t, e) }, assignFgSegHorizontals: function (t) { var e, n; for (e = 0; e < t.length; e++) n = t[e], n.el.css(this.generateFgSegHorizontalCss(n)), n.bottom - n.top < 30 && n.el.addClass("fc-short") }, generateFgSegHorizontalCss: function (t) { var e, n, i = this.view.opt("slotEventOverlap"), r = t.backwardCoord, s = t.forwardCoord, o = this.generateSegVerticalCss(t); return i && (s = Math.min(1, r + 2 * (s - r))), this.isRTL ? (e = 1 - s, n = r) : (e = r, n = 1 - s), o.zIndex = t.level + 1, o.left = 100 * e + "%", o.right = 100 * n + "%", i && t.forwardPressure && (o[this.isRTL ? "marginLeft" : "marginRight"] = 20), o } }); var de = Ot.View = ct.extend(Jt, te, {
        type: null, name: null, title: null, calendar: null, options: null, el: null, isDateSet: !1, isDateRendered: !1, dateRenderQueue: null, isEventsBound: !1, isEventsSet: !1, isEventsRendered: !1, eventRenderQueue: null, start: null, end: null, intervalStart: null, intervalEnd: null, intervalDuration: null, intervalUnit: null, isRTL: !1, isSelected: !1, selectedEvent: null, eventOrderSpecs: null, widgetHeaderClass: null, widgetContentClass: null, highlightStateClass: null, nextDayThreshold: null, isHiddenDayHash: null, isNowIndicatorRendered: null, initialNowDate: null, initialNowQueriedMs: null, nowIndicatorTimeoutID: null, nowIndicatorIntervalID: null, constructor: function (t, n, i, r) { this.calendar = t, this.type = this.name = n, this.options = i, this.intervalDuration = r || e.duration(1, "day"), this.nextDayThreshold = e.duration(this.opt("nextDayThreshold")), this.initThemingProps(), this.initHiddenDays(), this.isRTL = this.opt("isRTL"), this.eventOrderSpecs = L(this.opt("eventOrder")), this.dateRenderQueue = new gt, this.eventRenderQueue = new gt(this.opt("eventRenderWait")), this.initialize() }, initialize: function () { }, opt: function (t) { return this.options[t] }, publiclyTrigger: function (t, e) { var n = this.calendar; return n.publiclyTrigger.apply(n, [t, e || this].concat(Array.prototype.slice.call(arguments, 2), [this])) }, rejectOn: function (t, e) { var n = this; return new ft(function (i, r) { function s() { n.off(t, r) } n.one(t, r), e.then(function (t) { s(), i(t) }, function () { s(), r() }) }) }, setRange: function (e) { t.extend(this, e), this.updateTitle() }, computeRange: function (t) { var e, n, i = A(this.intervalDuration), r = t.clone().startOf(i), s = r.clone().add(this.intervalDuration); return /year|month|week|day/.test(i) ? (r.stripTime(), s.stripTime()) : (r.hasTime() || (r = this.calendar.time(0)), s.hasTime() || (s = this.calendar.time(0))), e = r.clone(), e = this.skipHiddenDays(e), n = s.clone(), n = this.skipHiddenDays(n, -1, !0), { intervalUnit: i, intervalStart: r, intervalEnd: s, start: e, end: n } }, computePrevDate: function (t) { return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration), -1) }, computeNextDate: function (t) { return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).add(this.intervalDuration)) }, massageCurrentDate: function (t, e) { return this.intervalDuration.as("days") <= 1 && this.isHiddenDay(t) && (t = this.skipHiddenDays(t, e), t.startOf("day")), t }, updateTitle: function () { this.title = this.computeTitle(), this.calendar.setToolbarsTitle(this.title) }, computeTitle: function () {
            var t, e; return "year" === this.intervalUnit || "month" === this.intervalUnit ? (t = this.intervalStart,
            e = this.intervalEnd) : (t = this.start, e = this.end), this.formatRange({ start: this.calendar.applyTimezone(t), end: this.calendar.applyTimezone(e) }, this.opt("titleFormat") || this.computeTitleFormat(), this.opt("titleRangeSeparator"))
        }, computeTitleFormat: function () { return "year" == this.intervalUnit ? "YYYY" : "month" == this.intervalUnit ? this.opt("monthYearFormat") : this.intervalDuration.as("days") > 1 ? "ll" : "LL" }, formatRange: function (t, e, n) { var i = t.end; return i.hasTime() || (i = i.clone().subtract(1)), Xt(t.start, i, e, n, this.opt("isRTL")) }, getAllDayHtml: function () { return this.opt("allDayHtml") || tt(this.opt("allDayText")) }, buildGotoAnchorHtml: function (e, n, i) { var r, s, o, l; return t.isPlainObject(e) ? (r = e.date, s = e.type, o = e.forceOff) : r = e, r = Ot.moment(r), l = { date: r.format("YYYY-MM-DD"), type: s || "day" }, "string" == typeof n && (i = n, n = null), n = n ? " " + it(n) : "", i = i || "", !o && this.opt("navLinks") ? "<a" + n + ' data-goto="' + tt(JSON.stringify(l)) + '">' + i + "</a>" : "<span" + n + ">" + i + "</span>" }, setElement: function (t) { this.el = t, this.bindGlobalHandlers(), this.renderSkeleton() }, removeElement: function () { this.unsetDate(), this.unrenderSkeleton(), this.unbindGlobalHandlers(), this.el.remove() }, renderSkeleton: function () { }, unrenderSkeleton: function () { }, setDate: function (t) { var e = this.isDateSet; this.isDateSet = !0, this.handleDate(t, e), this.trigger(e ? "dateReset" : "dateSet", t) }, unsetDate: function () { this.isDateSet && (this.isDateSet = !1, this.handleDateUnset(), this.trigger("dateUnset")) }, handleDate: function (t, e) { var n = this; this.unbindEvents(), this.requestDateRender(t).then(function () { n.bindEvents() }) }, handleDateUnset: function () { this.unbindEvents(), this.requestDateUnrender() }, requestDateRender: function (t) { var e = this; return this.dateRenderQueue.add(function () { return e.executeDateRender(t) }) }, requestDateUnrender: function () { var t = this; return this.dateRenderQueue.add(function () { return t.executeDateUnrender() }) }, executeDateRender: function (t) { var e = this; return t ? this.captureInitialScroll() : this.captureScroll(), this.freezeHeight(), this.executeDateUnrender().then(function () { t && e.setRange(e.computeRange(t)), e.render && e.render(), e.renderDates(), e.updateSize(), e.renderBusinessHours(), e.startNowIndicator(), e.thawHeight(), e.releaseScroll(), e.isDateRendered = !0, e.onDateRender(), e.trigger("dateRender") }) }, executeDateUnrender: function () { var t = this; return t.isDateRendered ? this.requestEventsUnrender().then(function () { t.unselect(), t.stopNowIndicator(), t.triggerUnrender(), t.unrenderBusinessHours(), t.unrenderDates(), t.destroy && t.destroy(), t.isDateRendered = !1, t.trigger("dateUnrender") }) : ft.resolve() }, onDateRender: function () { this.triggerRender() }, renderDates: function () { }, unrenderDates: function () { }, triggerRender: function () { this.publiclyTrigger("viewRender", this, this, this.el) }, triggerUnrender: function () { this.publiclyTrigger("viewDestroy", this, this, this.el) }, bindGlobalHandlers: function () { this.listenTo(se.get(), { touchstart: this.processUnselect, mousedown: this.handleDocumentMousedown }) }, unbindGlobalHandlers: function () { this.stopListeningTo(se.get()) }, initThemingProps: function () { var t = this.opt("theme") ? "ui" : "fc"; this.widgetHeaderClass = t + "-widget-header", this.widgetContentClass = t + "-widget-content", this.highlightStateClass = t + "-state-highlight" }, renderBusinessHours: function () { }, unrenderBusinessHours: function () { }, startNowIndicator: function () { var t, n, i, r = this; this.opt("nowIndicator") && (t = this.getNowIndicatorUnit(), t && (n = lt(this, "updateNowIndicator"), this.initialNowDate = this.calendar.getNow(), this.initialNowQueriedMs = +new Date, this.renderNowIndicator(this.initialNowDate), this.isNowIndicatorRendered = !0, i = this.initialNowDate.clone().startOf(t).add(1, t) - this.initialNowDate, this.nowIndicatorTimeoutID = setTimeout(function () { r.nowIndicatorTimeoutID = null, n(), i = +e.duration(1, t), i = Math.max(100, i), r.nowIndicatorIntervalID = setInterval(n, i) }, i))) }, updateNowIndicator: function () { this.isNowIndicatorRendered && (this.unrenderNowIndicator(), this.renderNowIndicator(this.initialNowDate.clone().add(new Date - this.initialNowQueriedMs))) }, stopNowIndicator: function () { this.isNowIndicatorRendered && (this.nowIndicatorTimeoutID && (clearTimeout(this.nowIndicatorTimeoutID), this.nowIndicatorTimeoutID = null), this.nowIndicatorIntervalID && (clearTimeout(this.nowIndicatorIntervalID), this.nowIndicatorIntervalID = null), this.unrenderNowIndicator(), this.isNowIndicatorRendered = !1) }, getNowIndicatorUnit: function () { }, renderNowIndicator: function (t) { }, unrenderNowIndicator: function () { }, updateSize: function (t) { t && this.captureScroll(), this.updateHeight(t), this.updateWidth(t), this.updateNowIndicator(), t && this.releaseScroll() }, updateWidth: function (t) { }, updateHeight: function (t) { var e = this.calendar; this.setHeight(e.getSuggestedViewHeight(), e.isHeightAuto()) }, setHeight: function (t, e) { }, capturedScroll: null, capturedScrollDepth: 0, captureScroll: function () { return !this.capturedScrollDepth++ && (this.capturedScroll = this.isDateRendered ? this.queryScroll() : {}, !0) }, captureInitialScroll: function (e) { this.captureScroll() && (this.capturedScroll.isInitial = !0, e ? t.extend(this.capturedScroll, e) : this.capturedScroll.isComputed = !0) }, releaseScroll: function () { var e = this.capturedScroll, n = this.discardScroll(); e.isComputed && (n ? t.extend(e, this.computeInitialScroll()) : e = null), e && (e.isInitial ? this.hardSetScroll(e) : this.setScroll(e)) }, discardScroll: function () { return !--this.capturedScrollDepth && (this.capturedScroll = null, !0) }, computeInitialScroll: function () { return {} }, queryScroll: function () { return {} }, hardSetScroll: function (t) { var e = this, n = function () { e.setScroll(t) }; n(), setTimeout(n, 0) }, setScroll: function (t) { }, freezeHeight: function () { this.calendar.freezeContentHeight() }, thawHeight: function () { this.calendar.thawContentHeight() }, bindEvents: function () { var t = this; this.isEventsBound || (this.isEventsBound = !0, this.rejectOn("eventsUnbind", this.requestEvents()).then(function (e) { t.listenTo(t.calendar, "eventsReset", t.setEvents), t.setEvents(e) })) }, unbindEvents: function () { this.isEventsBound && (this.isEventsBound = !1, this.stopListeningTo(this.calendar, "eventsReset"), this.unsetEvents(), this.trigger("eventsUnbind")) }, setEvents: function (t) { var e = this.isEventSet; this.isEventsSet = !0, this.handleEvents(t, e), this.trigger(e ? "eventsReset" : "eventsSet", t) }, unsetEvents: function () { this.isEventsSet && (this.isEventsSet = !1, this.handleEventsUnset(), this.trigger("eventsUnset")) }, whenEventsSet: function () { var t = this; return this.isEventsSet ? ft.resolve(this.getCurrentEvents()) : new ft(function (e) { t.one("eventsSet", e) }) }, handleEvents: function (t, e) { this.requestEventsRender(t) }, handleEventsUnset: function () { this.requestEventsUnrender() }, requestEventsRender: function (t) { var e = this; return this.eventRenderQueue.add(function () { return e.executeEventsRender(t) }) }, requestEventsUnrender: function () { var t = this; return this.isEventsRendered ? this.eventRenderQueue.addQuickly(function () { return t.executeEventsUnrender() }) : ft.resolve() }, requestCurrentEventsRender: function () { return this.isEventsSet ? void this.requestEventsRender(this.getCurrentEvents()) : ft.reject() }, executeEventsRender: function (t) { var e = this; return this.captureScroll(), this.freezeHeight(), this.executeEventsUnrender().then(function () { e.renderEvents(t), e.thawHeight(), e.releaseScroll(), e.isEventsRendered = !0, e.onEventsRender(), e.trigger("eventsRender") }) }, executeEventsUnrender: function () { return this.isEventsRendered && (this.onBeforeEventsUnrender(), this.captureScroll(), this.freezeHeight(), this.destroyEvents && this.destroyEvents(), this.unrenderEvents(), this.thawHeight(), this.releaseScroll(), this.isEventsRendered = !1, this.trigger("eventsUnrender")), ft.resolve() }, onEventsRender: function () { this.renderedEventSegEach(function (t) { this.publiclyTrigger("eventAfterRender", t.event, t.event, t.el) }), this.publiclyTrigger("eventAfterAllRender") }, onBeforeEventsUnrender: function () { this.renderedEventSegEach(function (t) { this.publiclyTrigger("eventDestroy", t.event, t.event, t.el) }) }, renderEvents: function (t) { }, unrenderEvents: function () { }, requestEvents: function () { return this.calendar.requestEvents(this.start, this.end) }, getCurrentEvents: function () { return this.calendar.getPrunedEventCache() }, resolveEventEl: function (e, n) { var i = this.publiclyTrigger("eventRender", e, e, n); return i === !1 ? n = null : i && i !== !0 && (n = t(i)), n }, showEvent: function (t) { this.renderedEventSegEach(function (t) { t.el.css("visibility", "") }, t) }, hideEvent: function (t) { this.renderedEventSegEach(function (t) { t.el.css("visibility", "hidden") }, t) }, renderedEventSegEach: function (t, e) { var n, i = this.getEventSegs(); for (n = 0; n < i.length; n++) e && i[n].event._id !== e._id || i[n].el && t.call(this, i[n]) }, getEventSegs: function () { return [] }, isEventDraggable: function (t) { return this.isEventStartEditable(t) }, isEventStartEditable: function (t) { return J(t.startEditable, (t.source || {}).startEditable, this.opt("eventStartEditable"), this.isEventGenerallyEditable(t)) }, isEventGenerallyEditable: function (t) { return J(t.editable, (t.source || {}).editable, this.opt("editable")) }, reportSegDrop: function (t, e, n, i, r) { var s = this.calendar, o = s.mutateSeg(t, e, n), l = function () { o.undo(), s.reportEventChange() }; this.triggerEventDrop(t.event, o.dateDelta, l, i, r), s.reportEventChange() }, triggerEventDrop: function (t, e, n, i, r) { this.publiclyTrigger("eventDrop", i[0], t, e, n, r, {}) }, reportExternalDrop: function (e, n, i, r, s) { var o, l, a = e.eventProps; a && (o = t.extend({}, a, n), l = this.calendar.renderEvent(o, e.stick)[0]), this.triggerExternalDrop(l, n, i, r, s) }, triggerExternalDrop: function (t, e, n, i, r) { this.publiclyTrigger("drop", n[0], e.start, i, r), t && this.publiclyTrigger("eventReceive", null, t) }, renderDrag: function (t, e) { }, unrenderDrag: function () { }, isEventResizableFromStart: function (t) { return this.opt("eventResizableFromStart") && this.isEventResizable(t) }, isEventResizableFromEnd: function (t) { return this.isEventResizable(t) }, isEventResizable: function (t) { var e = t.source || {}; return J(t.durationEditable, e.durationEditable, this.opt("eventDurationEditable"), t.editable, e.editable, this.opt("editable")) }, reportSegResize: function (t, e, n, i, r) { var s = this.calendar, o = s.mutateSeg(t, e, n), l = function () { o.undo(), s.reportEventChange() }; this.triggerEventResize(t.event, o.durationDelta, l, i, r), s.reportEventChange() }, triggerEventResize: function (t, e, n, i, r) { this.publiclyTrigger("eventResize", i[0], t, e, n, r, {}) }, select: function (t, e) { this.unselect(e), this.renderSelection(t), this.reportSelection(t, e) }, renderSelection: function (t) { }, reportSelection: function (t, e) { this.isSelected = !0, this.triggerSelect(t, e) }, triggerSelect: function (t, e) { this.publiclyTrigger("select", null, this.calendar.applyTimezone(t.start), this.calendar.applyTimezone(t.end), e) }, unselect: function (t) { this.isSelected && (this.isSelected = !1, this.destroySelection && this.destroySelection(), this.unrenderSelection(), this.publiclyTrigger("unselect", null, t)) }, unrenderSelection: function () { }, selectEvent: function (t) { this.selectedEvent && this.selectedEvent === t || (this.unselectEvent(), this.renderedEventSegEach(function (t) { t.el.addClass("fc-selected") }, t), this.selectedEvent = t) }, unselectEvent: function () { this.selectedEvent && (this.renderedEventSegEach(function (t) { t.el.removeClass("fc-selected") }, this.selectedEvent), this.selectedEvent = null) }, isEventSelected: function (t) { return this.selectedEvent && this.selectedEvent._id === t._id }, handleDocumentMousedown: function (t) { w(t) && this.processUnselect(t) }, processUnselect: function (t) { this.processRangeUnselect(t), this.processEventUnselect(t) }, processRangeUnselect: function (e) { var n; this.isSelected && this.opt("unselectAuto") && (n = this.opt("unselectCancel"), n && t(e.target).closest(n).length || this.unselect(e)) }, processEventUnselect: function (e) { this.selectedEvent && (t(e.target).closest(".fc-selected").length || this.unselectEvent()) }, triggerDayClick: function (t, e, n) { this.publiclyTrigger("dayClick", e, this.calendar.applyTimezone(t.start), n) }, initHiddenDays: function () { var e, n = this.opt("hiddenDays") || [], i = [], r = 0; for (this.opt("weekends") === !1 && n.push(0, 6), e = 0; e < 7; e++) (i[e] = t.inArray(e, n) !== -1) || r++; if (!r) throw "invalid hiddenDays"; this.isHiddenDayHash = i }, isHiddenDay: function (t) { return e.isMoment(t) && (t = t.day()), this.isHiddenDayHash[t] }, skipHiddenDays: function (t, e, n) { var i = t.clone(); for (e = e || 1; this.isHiddenDayHash[(i.day() + (n ? e : 0) + 7) % 7];) i.add(e, "days"); return i }, computeDayRange: function (t) { var e, n = t.start.clone().stripTime(), i = t.end, r = null; return i && (r = i.clone().stripTime(), e = +i.time(), e && e >= this.nextDayThreshold && r.add(1, "days")), (!i || r <= n) && (r = n.clone().add(1, "days")), { start: n, end: r } }, isMultiDayEvent: function (t) { var e = this.computeDayRange(t); return e.end.diff(e.start, "days") > 1 }
    }), he = Ot.Scroller = ct.extend({ el: null, scrollEl: null, overflowX: null, overflowY: null, constructor: function (t) { t = t || {}, this.overflowX = t.overflowX || t.overflow || "auto", this.overflowY = t.overflowY || t.overflow || "auto" }, render: function () { this.el = this.renderEl(), this.applyOverflow() }, renderEl: function () { return this.scrollEl = t('<div class="fc-scroller"></div>') }, clear: function () { this.setHeight("auto"), this.applyOverflow() }, destroy: function () { this.el.remove() }, applyOverflow: function () { this.scrollEl.css({ "overflow-x": this.overflowX, "overflow-y": this.overflowY }) }, lockOverflow: function (t) { var e = this.overflowX, n = this.overflowY; t = t || this.getScrollbarWidths(), "auto" === e && (e = t.top || t.bottom || this.scrollEl[0].scrollWidth - 1 > this.scrollEl[0].clientWidth ? "scroll" : "hidden"), "auto" === n && (n = t.left || t.right || this.scrollEl[0].scrollHeight - 1 > this.scrollEl[0].clientHeight ? "scroll" : "hidden"), this.scrollEl.css({ "overflow-x": e, "overflow-y": n }) }, setHeight: function (t) { this.scrollEl.height(t) }, getScrollTop: function () { return this.scrollEl.scrollTop() }, setScrollTop: function (t) { this.scrollEl.scrollTop(t) }, getClientWidth: function () { return this.scrollEl[0].clientWidth }, getClientHeight: function () { return this.scrollEl[0].clientHeight }, getScrollbarWidths: function () { return p(this.scrollEl) } }); Lt.prototype.proxyCall = function (t) { var e = Array.prototype.slice.call(arguments, 1), n = []; return this.items.forEach(function (i) { n.push(i[t].apply(i, e)) }), n }; var fe = Ot.Calendar = ct.extend({ dirDefaults: null, localeDefaults: null, overrides: null, dynamicOverrides: null, options: null, viewSpecCache: null, view: null, header: null, footer: null, loadingLevel: 0, constructor: Bt, initialize: function () { }, populateOptionsHash: function () { var t, e, i, r; t = J(this.dynamicOverrides.locale, this.overrides.locale), e = ge[t], e || (t = fe.defaults.locale, e = ge[t] || {}), i = J(this.dynamicOverrides.isRTL, this.overrides.isRTL, e.isRTL, fe.defaults.isRTL), r = i ? fe.rtlDefaults : {}, this.dirDefaults = r, this.localeDefaults = e, this.options = n([fe.defaults, r, e, this.overrides, this.dynamicOverrides]), Nt(this.options) }, getViewSpec: function (t) { var e = this.viewSpecCache; return e[t] || (e[t] = this.buildViewSpec(t)) }, getUnitViewSpec: function (e) { var n, i, r; if (t.inArray(e, Yt) != -1) for (n = this.header.getViewsWithButtons(), t.each(Ot.views, function (t) { n.push(t) }), i = 0; i < n.length; i++) if (r = this.getViewSpec(n[i]), r && r.singleUnit == e) return r }, buildViewSpec: function (t) { for (var i, r, s, o, l = this.overrides.views || {}, a = [], u = [], c = [], d = t; d;) i = At[d], r = l[d], d = null, "function" == typeof i && (i = { class: i }), i && (a.unshift(i), u.unshift(i.defaults || {}), s = s || i.duration, d = d || i.type), r && (c.unshift(r), s = s || r.duration, d = d || r.type); return i = q(a), i.type = t, !!i.class && (s && (s = e.duration(s), s.valueOf() && (i.duration = s, o = A(s), 1 === s.as(o) && (i.singleUnit = o, c.unshift(l[o] || {})))), i.defaults = n(u), i.overrides = n(c), this.buildViewSpecOptions(i), this.buildViewSpecButtonText(i, t), i) }, buildViewSpecOptions: function (t) { t.options = n([fe.defaults, t.defaults, this.dirDefaults, this.localeDefaults, this.overrides, t.overrides, this.dynamicOverrides]), Nt(t.options) }, buildViewSpecButtonText: function (t, e) { function n(n) { var i = n.buttonText || {}; return i[e] || (t.buttonTextKey ? i[t.buttonTextKey] : null) || (t.singleUnit ? i[t.singleUnit] : null) } t.buttonTextOverride = n(this.dynamicOverrides) || n(this.overrides) || t.overrides.buttonText, t.buttonTextDefault = n(this.localeDefaults) || n(this.dirDefaults) || t.defaults.buttonText || n(fe.defaults) || (t.duration ? this.humanizeDuration(t.duration) : null) || e }, instantiateView: function (t) { var e = this.getViewSpec(t); return new e.class(this, t, e.options, e.duration) }, isValidViewType: function (t) { return Boolean(this.getViewSpec(t)) }, pushLoading: function () { this.loadingLevel++ || this.publiclyTrigger("loading", null, !0, this.view) }, popLoading: function () { --this.loadingLevel || this.publiclyTrigger("loading", null, !1, this.view) }, buildSelectSpan: function (t, e) { var n, i = this.moment(t).stripZone(); return n = e ? this.moment(e).stripZone() : i.hasTime() ? i.clone().add(this.defaultTimedEventDuration) : i.clone().add(this.defaultAllDayEventDuration), { start: i, end: n } } }); fe.mixin(Jt), fe.mixin({ optionHandlers: null, bindOption: function (t, e) { this.bindOptions([t], e) }, bindOptions: function (t, e) { var n, i = { func: e, names: t }; for (n = 0; n < t.length; n++) this.registerOptionHandlerObj(t[n], i); this.triggerOptionHandlerObj(i) }, registerOptionHandlerObj: function (t, e) { (this.optionHandlers[t] || (this.optionHandlers[t] = [])).push(e) }, triggerOptionHandlers: function (t) { var e, n = this.optionHandlers[t] || []; for (e = 0; e < n.length; e++) this.triggerOptionHandlerObj(n[e]) }, triggerOptionHandlerObj: function (t) { var e, n = t.names, i = []; for (e = 0; e < n.length; e++) i.push(this.options[n[e]]); t.func.apply(this, i) } }), fe.defaults = { titleRangeSeparator: " – ", monthYearFormat: "MMMM YYYY", defaultTimedEventDuration: "02:00:00", defaultAllDayEventDuration: { days: 1 }, forceEventDuration: !1, nextDayThreshold: "09:00:00", defaultView: "month", aspectRatio: 1.35, header: { left: "title", center: "", right: "today prev,next" }, weekends: !0, weekNumbers: !1, weekNumberTitle: "W", weekNumberCalculation: "local", scrollTime: "06:00:00", lazyFetching: !0, startParam: "start", endParam: "end", timezoneParam: "timezone", timezone: !1, isRTL: !1, buttonText: { prev: "prev", next: "next", prevYear: "prev year", nextYear: "next year", year: "year", today: "today", month: "month", week: "week", day: "day" }, buttonIcons: { prev: "left-single-arrow", next: "right-single-arrow", prevYear: "left-double-arrow", nextYear: "right-double-arrow" }, allDayText: "all-day", theme: !1, themeButtonIcons: { prev: "circle-triangle-w", next: "circle-triangle-e", prevYear: "seek-prev", nextYear: "seek-next" }, dragOpacity: .75, dragRevertDuration: 500, dragScroll: !0, unselectAuto: !0, dropAccept: "*", eventOrder: "title", eventLimit: !1, eventLimitText: "more", eventLimitClick: "popover", dayPopoverFormat: "LL", handleWindowResize: !0, windowResizeDelay: 100, longPressDelay: 1e3 }, fe.englishDefaults = { dayPopoverFormat: "dddd, MMMM D" }, fe.rtlDefaults = { header: { left: "next,prev today", center: "", right: "title" }, buttonIcons: { prev: "right-single-arrow", next: "left-single-arrow", prevYear: "right-double-arrow", nextYear: "left-double-arrow" }, themeButtonIcons: { prev: "circle-triangle-e", next: "circle-triangle-w", nextYear: "seek-prev", prevYear: "seek-next" } }; var ge = Ot.locales = {}; Ot.datepickerLocale = function (e, n, i) { var r = ge[e] || (ge[e] = {}); r.isRTL = i.isRTL, r.weekNumberTitle = i.weekHeader, t.each(pe, function (t, e) { r[t] = e(i) }), t.datepicker && (t.datepicker.regional[n] = t.datepicker.regional[e] = i, t.datepicker.regional.en = t.datepicker.regional[""], t.datepicker.setDefaults(i)) }, Ot.locale = function (e, i) { var r, s; r = ge[e] || (ge[e] = {}), i && (r = ge[e] = n([r, i])), s = Ft(e), t.each(ve, function (t, e) { null == r[t] && (r[t] = e(s, r)) }), fe.defaults.locale = e }; var pe = { buttonText: function (t) { return { prev: et(t.prevText), next: et(t.nextText), today: et(t.currentText) } }, monthYearFormat: function (t) { return t.showMonthAfterYear ? "YYYY[" + t.yearSuffix + "] MMMM" : "MMMM YYYY[" + t.yearSuffix + "]" } }, ve = { dayOfMonthFormat: function (t, e) { var n = t.longDateFormat("l"); return n = n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g, ""), e.isRTL ? n += " ddd" : n = "ddd " + n, n }, mediumTimeFormat: function (t) { return t.longDateFormat("LT").replace(/\s*a$/i, "a") }, smallTimeFormat: function (t) { return t.longDateFormat("LT").replace(":mm", "(:mm)").replace(/(\Wmm)$/, "($1)").replace(/\s*a$/i, "a") }, extraSmallTimeFormat: function (t) { return t.longDateFormat("LT").replace(":mm", "(:mm)").replace(/(\Wmm)$/, "($1)").replace(/\s*a$/i, "t") }, hourFormat: function (t) { return t.longDateFormat("LT").replace(":mm", "").replace(/(\Wmm)$/, "").replace(/\s*a$/i, "a") }, noMeridiemTimeFormat: function (t) { return t.longDateFormat("LT").replace(/\s*a$/i, "") } }, me = { smallDayDateFormat: function (t) { return t.isRTL ? "D dd" : "dd D" }, weekFormat: function (t) { return t.isRTL ? "w[ " + t.weekNumberTitle + "]" : "[" + t.weekNumberTitle + " ]w" }, smallWeekFormat: function (t) { return t.isRTL ? "w[" + t.weekNumberTitle + "]" : "[" + t.weekNumberTitle + "]w" } }; Ot.locale("en", fe.englishDefaults), Ot.sourceNormalizers = [], Ot.sourceFetchers = []; var ye = { dataType: "json", cache: !1 }, Se = 1; fe.prototype.mutateSeg = function (t, e) { return this.mutateEvent(t.event, e) }, fe.prototype.normalizeEvent = function (t) { }, fe.prototype.spanContainsSpan = function (t, e) { var n = t.start.clone().stripZone(), i = this.getEventEnd(t).stripZone(); return e.start >= n && e.end <= i }, fe.prototype.getPeerEvents = function (t, e) { var n, i, r = this.getEventCache(), s = []; for (n = 0; n < r.length; n++) i = r[n], e && e._id === i._id || s.push(i); return s }, fe.prototype.isEventSpanAllowed = function (t, e) { var n = e.source || {}, i = J(e.constraint, n.constraint, this.options.eventConstraint), r = J(e.overlap, n.overlap, this.options.eventOverlap); return this.isSpanAllowed(t, i, r, e) && (!this.options.eventAllow || this.options.eventAllow(t, e) !== !1) }, fe.prototype.isExternalSpanAllowed = function (e, n, i) { var r, s; return i && (r = t.extend({}, i, n), s = this.expandEvent(this.buildEventFromInput(r))[0]), s ? this.isEventSpanAllowed(e, s) : this.isSelectionSpanAllowed(e) }, fe.prototype.isSelectionSpanAllowed = function (t) { return this.isSpanAllowed(t, this.options.selectConstraint, this.options.selectOverlap) && (!this.options.selectAllow || this.options.selectAllow(t) !== !1) }, fe.prototype.isSpanAllowed = function (t, e, n, i) { var r, s, o, l, a, u; if (null != e && (r = this.constraintToEvents(e))) { for (s = !1, l = 0; l < r.length; l++) if (this.spanContainsSpan(r[l], t)) { s = !0; break } if (!s) return !1 } for (o = this.getPeerEvents(t, i), l = 0; l < o.length; l++) if (a = o[l], this.eventIntersectsRange(a, t)) { if (n === !1) return !1; if ("function" == typeof n && !n(a, i)) return !1; if (i) { if (u = J(a.overlap, (a.source || {}).overlap), u === !1) return !1; if ("function" == typeof u && !u(i, a)) return !1 } } return !0 }, fe.prototype.constraintToEvents = function (t) { return "businessHours" === t ? this.getCurrentBusinessHourEvents() : "object" == typeof t ? null != t.start ? this.expandEvent(this.buildEventFromInput(t)) : null : this.clientEvents(t) }, fe.prototype.eventIntersectsRange = function (t, e) { var n = t.start.clone().stripZone(), i = this.getEventEnd(t).stripZone(); return e.start < i && e.end > n }; var we = { id: "_fcBusinessHours", start: "09:00", end: "17:00", dow: [1, 2, 3, 4, 5], rendering: "inverse-background" }; fe.prototype.getCurrentBusinessHourEvents = function (t) { return this.computeBusinessHourEvents(t, this.options.businessHours) }, fe.prototype.computeBusinessHourEvents = function (e, n) { return n === !0 ? this.expandBusinessHourEvents(e, [{}]) : t.isPlainObject(n) ? this.expandBusinessHourEvents(e, [n]) : t.isArray(n) ? this.expandBusinessHourEvents(e, n, !0) : [] }, fe.prototype.expandBusinessHourEvents = function (e, n, i) { var r, s, o = this.getView(), l = []; for (r = 0; r < n.length; r++) s = n[r], i && !s.dow || (s = t.extend({}, we, s), e && (s.start = null, s.end = null), l.push.apply(l, this.expandEvent(this.buildEventFromInput(s), o.start, o.end))); return l }; var Ee = Ot.BasicView = de.extend({ scroller: null, dayGridClass: ue, dayGrid: null, dayNumbersVisible: !1, colWeekNumbersVisible: !1, cellWeekNumbersVisible: !1, weekNumberWidth: null, headContainerEl: null, headRowEl: null, initialize: function () { this.dayGrid = this.instantiateDayGrid(), this.scroller = new he({ overflowX: "hidden", overflowY: "auto" }) }, instantiateDayGrid: function () { var t = this.dayGridClass.extend(be); return new t(this) }, setRange: function (t) { de.prototype.setRange.call(this, t), this.dayGrid.breakOnWeeks = /year|month|week/.test(this.intervalUnit), this.dayGrid.setRange(t) }, computeRange: function (t) { var e = de.prototype.computeRange.call(this, t); return /year|month/.test(e.intervalUnit) && (e.start.startOf("week"), e.start = this.skipHiddenDays(e.start), e.end.weekday() && (e.end.add(1, "week").startOf("week"), e.end = this.skipHiddenDays(e.end, -1, !0))), e }, renderDates: function () { this.dayNumbersVisible = this.dayGrid.rowCnt > 1, this.opt("weekNumbers") && (this.opt("weekNumbersWithinDays") ? (this.cellWeekNumbersVisible = !0, this.colWeekNumbersVisible = !1) : (this.cellWeekNumbersVisible = !1, this.colWeekNumbersVisible = !0)), this.dayGrid.numbersVisible = this.dayNumbersVisible || this.cellWeekNumbersVisible || this.colWeekNumbersVisible, this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()), this.renderHead(), this.scroller.render(); var e = this.scroller.el.addClass("fc-day-grid-container"), n = t('<div class="fc-day-grid" />').appendTo(e); this.el.find(".fc-body > tr > td").append(e), this.dayGrid.setElement(n), this.dayGrid.renderDates(this.hasRigidRows()) }, renderHead: function () { this.headContainerEl = this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()), this.headRowEl = this.headContainerEl.find(".fc-row") }, unrenderDates: function () { this.dayGrid.unrenderDates(), this.dayGrid.removeElement(), this.scroller.destroy() }, renderBusinessHours: function () { this.dayGrid.renderBusinessHours() }, unrenderBusinessHours: function () { this.dayGrid.unrenderBusinessHours() }, renderSkeletonHtml: function () { return '<table><thead class="fc-head"><tr><td class="fc-head-container ' + this.widgetHeaderClass + '"></td></tr></thead><tbody class="fc-body"><tr><td class="' + this.widgetContentClass + '"></td></tr></tbody></table>' }, weekNumberStyleAttr: function () { return null !== this.weekNumberWidth ? 'style="width:' + this.weekNumberWidth + 'px"' : "" }, hasRigidRows: function () { var t = this.opt("eventLimit"); return t && "number" != typeof t }, updateWidth: function () { this.colWeekNumbersVisible && (this.weekNumberWidth = u(this.el.find(".fc-week-number"))) }, setHeight: function (t, e) { var n, s, o = this.opt("eventLimit"); this.scroller.clear(), r(this.headRowEl), this.dayGrid.removeSegPopover(), o && "number" == typeof o && this.dayGrid.limitRows(o), n = this.computeScrollerHeight(t), this.setGridHeight(n, e), o && "number" != typeof o && this.dayGrid.limitRows(o), e || (this.scroller.setHeight(n), s = this.scroller.getScrollbarWidths(), (s.left || s.right) && (i(this.headRowEl, s), n = this.computeScrollerHeight(t), this.scroller.setHeight(n)), this.scroller.lockOverflow(s)) }, computeScrollerHeight: function (t) { return t - c(this.el, this.scroller.el) }, setGridHeight: function (t, e) { e ? a(this.dayGrid.rowEls) : l(this.dayGrid.rowEls, t, !0) }, computeInitialScroll: function () { return { top: 0 } }, queryScroll: function () { return { top: this.scroller.getScrollTop() } }, setScroll: function (t) { this.scroller.setScrollTop(t.top) }, hitsNeeded: function () { this.dayGrid.hitsNeeded() }, hitsNotNeeded: function () { this.dayGrid.hitsNotNeeded() }, prepareHits: function () { this.dayGrid.prepareHits() }, releaseHits: function () { this.dayGrid.releaseHits() }, queryHit: function (t, e) { return this.dayGrid.queryHit(t, e) }, getHitSpan: function (t) { return this.dayGrid.getHitSpan(t) }, getHitEl: function (t) { return this.dayGrid.getHitEl(t) }, renderEvents: function (t) { this.dayGrid.renderEvents(t), this.updateHeight() }, getEventSegs: function () { return this.dayGrid.getEventSegs() }, unrenderEvents: function () { this.dayGrid.unrenderEvents() }, renderDrag: function (t, e) { return this.dayGrid.renderDrag(t, e) }, unrenderDrag: function () { this.dayGrid.unrenderDrag() }, renderSelection: function (t) { this.dayGrid.renderSelection(t) }, unrenderSelection: function () { this.dayGrid.unrenderSelection() } }), be = { renderHeadIntroHtml: function () { var t = this.view; return t.colWeekNumbersVisible ? '<th class="fc-week-number ' + t.widgetHeaderClass + '" ' + t.weekNumberStyleAttr() + "><span>" + tt(t.opt("weekNumberTitle")) + "</span></th>" : "" }, renderNumberIntroHtml: function (t) { var e = this.view, n = this.getCellDate(t, 0); return e.colWeekNumbersVisible ? '<td class="fc-week-number" ' + e.weekNumberStyleAttr() + ">" + e.buildGotoAnchorHtml({ date: n, type: "week", forceOff: 1 === this.colCnt }, n.format("w")) + "</td>" : "" }, renderBgIntroHtml: function () { var t = this.view; return t.colWeekNumbersVisible ? '<td class="fc-week-number ' + t.widgetContentClass + '" ' + t.weekNumberStyleAttr() + "></td>" : "" }, renderIntroHtml: function () { var t = this.view; return t.colWeekNumbersVisible ? '<td class="fc-week-number" ' + t.weekNumberStyleAttr() + "></td>" : "" } }, De = Ot.MonthView = Ee.extend({ computeRange: function (t) { var e, n = Ee.prototype.computeRange.call(this, t); return this.isFixedWeeks() && (e = Math.ceil(n.end.diff(n.start, "weeks", !0)), n.end.add(6 - e, "weeks")), n }, setGridHeight: function (t, e) { e && (t *= this.rowCnt / 6), l(this.dayGrid.rowEls, t, !e) }, isFixedWeeks: function () { return this.opt("fixedWeekCount") } }); At.basic = { class: Ee }, At.basicDay = { type: "basic", duration: { days: 1 } }, At.basicWeek = { type: "basic", duration: { weeks: 1 } }, At.month = { class: De, duration: { months: 1 }, defaults: { fixedWeekCount: !0 } }; var Te = Ot.AgendaView = de.extend({
        scroller: null, timeGridClass: ce, timeGrid: null, dayGridClass: ue, dayGrid: null, axisWidth: null, headContainerEl: null, noScrollRowEls: null, bottomRuleEl: null, initialize: function () { this.timeGrid = this.instantiateTimeGrid(), this.opt("allDaySlot") && (this.dayGrid = this.instantiateDayGrid()), this.scroller = new he({ overflowX: "hidden", overflowY: "auto" }) }, instantiateTimeGrid: function () { var t = this.timeGridClass.extend(Ce); return new t(this) }, instantiateDayGrid: function () { var t = this.dayGridClass.extend(He); return new t(this) }, setRange: function (t) { de.prototype.setRange.call(this, t), this.timeGrid.setRange(t), this.dayGrid && this.dayGrid.setRange(t) }, renderDates: function () { this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()), this.renderHead(), this.scroller.render(); var e = this.scroller.el.addClass("fc-time-grid-container"), n = t('<div class="fc-time-grid" />').appendTo(e); this.el.find(".fc-body > tr > td").append(e), this.timeGrid.setElement(n), this.timeGrid.renderDates(), this.bottomRuleEl = t('<hr class="fc-divider ' + this.widgetHeaderClass + '"/>').appendTo(this.timeGrid.el), this.dayGrid && (this.dayGrid.setElement(this.el.find(".fc-day-grid")), this.dayGrid.renderDates(), this.dayGrid.bottomCoordPadding = this.dayGrid.el.next("hr").outerHeight()), this.noScrollRowEls = this.el.find(".fc-row:not(.fc-scroller *)") }, renderHead: function () { this.headContainerEl = this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml()) }, unrenderDates: function () { this.timeGrid.unrenderDates(), this.timeGrid.removeElement(), this.dayGrid && (this.dayGrid.unrenderDates(), this.dayGrid.removeElement()), this.scroller.destroy() }, renderSkeletonHtml: function () { return '<table><thead class="fc-head"><tr><td class="fc-head-container ' + this.widgetHeaderClass + '"></td></tr></thead><tbody class="fc-body"><tr><td class="' + this.widgetContentClass + '">' + (this.dayGrid ? '<div class="fc-day-grid"/><hr class="fc-divider ' + this.widgetHeaderClass + '"/>' : "") + "</td></tr></tbody></table>" }, axisStyleAttr: function () { return null !== this.axisWidth ? 'style="width:' + this.axisWidth + 'px"' : "" }, renderBusinessHours: function () { this.timeGrid.renderBusinessHours(), this.dayGrid && this.dayGrid.renderBusinessHours() }, unrenderBusinessHours: function () { this.timeGrid.unrenderBusinessHours(), this.dayGrid && this.dayGrid.unrenderBusinessHours() }, getNowIndicatorUnit: function () { return this.timeGrid.getNowIndicatorUnit() }, renderNowIndicator: function (t) { this.timeGrid.renderNowIndicator(t) }, unrenderNowIndicator: function () { this.timeGrid.unrenderNowIndicator() }, updateSize: function (t) { this.timeGrid.updateSize(t), de.prototype.updateSize.call(this, t) }, updateWidth: function () { this.axisWidth = u(this.el.find(".fc-axis")) }, setHeight: function (t, e) { var n, s, o; this.bottomRuleEl.hide(), this.scroller.clear(), r(this.noScrollRowEls), this.dayGrid && (this.dayGrid.removeSegPopover(), n = this.opt("eventLimit"), n && "number" != typeof n && (n = xe), n && this.dayGrid.limitRows(n)), e || (s = this.computeScrollerHeight(t), this.scroller.setHeight(s), o = this.scroller.getScrollbarWidths(), (o.left || o.right) && (i(this.noScrollRowEls, o), s = this.computeScrollerHeight(t), this.scroller.setHeight(s)), this.scroller.lockOverflow(o), this.timeGrid.getTotalSlatHeight() < s && this.bottomRuleEl.show()) }, computeScrollerHeight: function (t) { return t - c(this.el, this.scroller.el) }, computeInitialScroll: function () { var t = e.duration(this.opt("scrollTime")), n = this.timeGrid.computeTimeTop(t); return n = Math.ceil(n), n && n++, { top: n } }, queryScroll: function () { return { top: this.scroller.getScrollTop() } }, setScroll: function (t) { this.scroller.setScrollTop(t.top) }, hitsNeeded: function () { this.timeGrid.hitsNeeded(), this.dayGrid && this.dayGrid.hitsNeeded() }, hitsNotNeeded: function () { this.timeGrid.hitsNotNeeded(), this.dayGrid && this.dayGrid.hitsNotNeeded() }, prepareHits: function () {
            this.timeGrid.prepareHits(), this.dayGrid && this.dayGrid.prepareHits();
        }, releaseHits: function () { this.timeGrid.releaseHits(), this.dayGrid && this.dayGrid.releaseHits() }, queryHit: function (t, e) { var n = this.timeGrid.queryHit(t, e); return !n && this.dayGrid && (n = this.dayGrid.queryHit(t, e)), n }, getHitSpan: function (t) { return t.component.getHitSpan(t) }, getHitEl: function (t) { return t.component.getHitEl(t) }, renderEvents: function (t) { var e, n, i = [], r = [], s = []; for (n = 0; n < t.length; n++) t[n].allDay ? i.push(t[n]) : r.push(t[n]); e = this.timeGrid.renderEvents(r), this.dayGrid && (s = this.dayGrid.renderEvents(i)), this.updateHeight() }, getEventSegs: function () { return this.timeGrid.getEventSegs().concat(this.dayGrid ? this.dayGrid.getEventSegs() : []) }, unrenderEvents: function () { this.timeGrid.unrenderEvents(), this.dayGrid && this.dayGrid.unrenderEvents() }, renderDrag: function (t, e) { return t.start.hasTime() ? this.timeGrid.renderDrag(t, e) : this.dayGrid ? this.dayGrid.renderDrag(t, e) : void 0 }, unrenderDrag: function () { this.timeGrid.unrenderDrag(), this.dayGrid && this.dayGrid.unrenderDrag() }, renderSelection: function (t) { t.start.hasTime() || t.end.hasTime() ? this.timeGrid.renderSelection(t) : this.dayGrid && this.dayGrid.renderSelection(t) }, unrenderSelection: function () { this.timeGrid.unrenderSelection(), this.dayGrid && this.dayGrid.unrenderSelection() }
    }), Ce = { renderHeadIntroHtml: function () { var t, e = this.view; return e.opt("weekNumbers") ? (t = this.start.format(e.opt("smallWeekFormat")), '<th class="fc-axis fc-week-number ' + e.widgetHeaderClass + '" ' + e.axisStyleAttr() + ">" + e.buildGotoAnchorHtml({ date: this.start, type: "week", forceOff: this.colCnt > 1 }, tt(t)) + "</th>") : '<th class="fc-axis ' + e.widgetHeaderClass + '" ' + e.axisStyleAttr() + "></th>" }, renderBgIntroHtml: function () { var t = this.view; return '<td class="fc-axis ' + t.widgetContentClass + '" ' + t.axisStyleAttr() + "></td>" }, renderIntroHtml: function () { var t = this.view; return '<td class="fc-axis" ' + t.axisStyleAttr() + "></td>" } }, He = { renderBgIntroHtml: function () { var t = this.view; return '<td class="fc-axis ' + t.widgetContentClass + '" ' + t.axisStyleAttr() + "><span>" + t.getAllDayHtml() + "</span></td>" }, renderIntroHtml: function () { var t = this.view; return '<td class="fc-axis" ' + t.axisStyleAttr() + "></td>" } }, xe = 5, Re = [{ hours: 1 }, { minutes: 30 }, { minutes: 15 }, { seconds: 30 }, { seconds: 15 }]; At.agenda = { class: Te, defaults: { allDaySlot: !0, slotDuration: "00:30:00", minTime: "00:00:00", maxTime: "24:00:00", slotEventOverlap: !0 } }, At.agendaDay = { type: "agenda", duration: { days: 1 } }, At.agendaWeek = { type: "agenda", duration: { weeks: 1 } }; var Ie = de.extend({ grid: null, scroller: null, initialize: function () { this.grid = new ke(this), this.scroller = new he({ overflowX: "hidden", overflowY: "auto" }) }, setRange: function (t) { de.prototype.setRange.call(this, t), this.grid.setRange(t) }, renderSkeleton: function () { this.el.addClass("fc-list-view " + this.widgetContentClass), this.scroller.render(), this.scroller.el.appendTo(this.el), this.grid.setElement(this.scroller.scrollEl) }, unrenderSkeleton: function () { this.scroller.destroy() }, setHeight: function (t, e) { this.scroller.setHeight(this.computeScrollerHeight(t)) }, computeScrollerHeight: function (t) { return t - c(this.el, this.scroller.el) }, renderEvents: function (t) { this.grid.renderEvents(t) }, unrenderEvents: function () { this.grid.unrenderEvents() }, isEventResizable: function (t) { return !1 }, isEventDraggable: function (t) { return !1 } }), ke = le.extend({ segSelector: ".fc-list-item", hasDayInteractions: !1, spanToSegs: function (t) { for (var e, n = this.view, i = n.start.clone().time(0), r = 0, s = []; i < n.end;) if (e = F(t, { start: i, end: i.clone().add(1, "day") }), e && (e.dayIndex = r, s.push(e)), i.add(1, "day"), r++, e && !e.isEnd && t.end.hasTime() && t.end < i.clone().add(this.view.nextDayThreshold)) { e.end = t.end.clone(), e.isEnd = !0; break } return s }, computeEventTimeFormat: function () { return this.view.opt("mediumTimeFormat") }, handleSegClick: function (e, n) { var i; le.prototype.handleSegClick.apply(this, arguments), t(n.target).closest("a[href]").length || (i = e.event.url, i && !n.isDefaultPrevented() && (window.location.href = i)) }, renderFgSegs: function (t) { return t = this.renderFgSegEls(t), t.length ? this.renderSegList(t) : this.renderEmptyMessage(), t }, renderEmptyMessage: function () { this.el.html('<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">' + tt(this.view.opt("noEventsMessage")) + "</div></div></div>") }, renderSegList: function (e) { var n, i, r, s = this.groupSegsByDay(e), o = t('<table class="fc-list-table"><tbody/></table>'), l = o.find("tbody"); for (n = 0; n < s.length; n++) if (i = s[n]) for (l.append(this.dayHeaderHtml(this.view.start.clone().add(n, "days"))), this.sortEventSegs(i), r = 0; r < i.length; r++) l.append(i[r].el); this.el.empty().append(o) }, groupSegsByDay: function (t) { var e, n, i = []; for (e = 0; e < t.length; e++) n = t[e], (i[n.dayIndex] || (i[n.dayIndex] = [])).push(n); return i }, dayHeaderHtml: function (t) { var e = this.view, n = e.opt("listDayFormat"), i = e.opt("listDayAltFormat"); return '<tr class="fc-list-heading" data-date="' + t.format("YYYY-MM-DD") + '"><td class="' + e.widgetHeaderClass + '" colspan="3">' + (n ? e.buildGotoAnchorHtml(t, { class: "fc-list-heading-main" }, tt(t.format(n))) : "") + (i ? e.buildGotoAnchorHtml(t, { class: "fc-list-heading-alt" }, tt(t.format(i))) : "") + "</td></tr>" }, fgSegHtml: function (t) { var e, n = this.view, i = ["fc-list-item"].concat(this.getSegCustomClasses(t)), r = this.getSegBackgroundColor(t), s = t.event, o = s.url; return e = s.allDay ? n.getAllDayHtml() : n.isMultiDayEvent(s) ? t.isStart || t.isEnd ? tt(this.getEventTimeText(t)) : n.getAllDayHtml() : tt(this.getEventTimeText(s)), o && i.push("fc-has-url"), '<tr class="' + i.join(" ") + '">' + (this.displayEventTime ? '<td class="fc-list-item-time ' + n.widgetContentClass + '">' + (e || "") + "</td>" : "") + '<td class="fc-list-item-marker ' + n.widgetContentClass + '"><span class="fc-event-dot"' + (r ? ' style="background-color:' + r + '"' : "") + '></span></td><td class="fc-list-item-title ' + n.widgetContentClass + '"><a' + (o ? ' href="' + tt(o) + '"' : "") + ">" + tt(t.event.title || "") + "</a></td></tr>" } }); return At.list = { class: Ie, buttonTextKey: "list", defaults: { buttonText: "list", listDayFormat: "LL", noEventsMessage: "No events to display" } }, At.listDay = { type: "list", duration: { days: 1 }, defaults: { listDayFormat: "dddd" } }, At.listWeek = { type: "list", duration: { weeks: 1 }, defaults: { listDayFormat: "dddd", listDayAltFormat: "LL" } }, At.listMonth = { type: "list", duration: { month: 1 }, defaults: { listDayAltFormat: "dddd" } }, At.listYear = { type: "list", duration: { year: 1 }, defaults: { listDayAltFormat: "dddd" } }, Ot
});

!function (e) { "function" == typeof define && define.amd ? define(["jquery", "moment"], e) : "object" == typeof exports ? module.exports = e(require("jquery"), require("moment")) : e(jQuery, moment) }(function (e, t) { !function () { var e = t.defineLocale("he", { months: "ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"), monthsShort: "ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"), weekdays: "ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"), weekdaysShort: "א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"), weekdaysMin: "א_ב_ג_ד_ה_ו_ש".split("_"), longDateFormat: { LT: "HH:mm", LTS: "HH:mm:ss", L: "DD/MM/YYYY", LL: "D [ב]MMMM YYYY", LLL: "D [ב]MMMM YYYY HH:mm", LLLL: "dddd, D [ב]MMMM YYYY HH:mm", l: "D/M/YYYY", ll: "D MMM YYYY", lll: "D MMM YYYY HH:mm", llll: "ddd, D MMM YYYY HH:mm" }, calendar: { sameDay: "[היום ב־]LT", nextDay: "[מחר ב־]LT", nextWeek: "dddd [בשעה] LT", lastDay: "[אתמול ב־]LT", lastWeek: "[ביום] dddd [האחרון בשעה] LT", sameElse: "L" }, relativeTime: { future: "בעוד %s", past: "לפני %s", s: "מספר שניות", m: "דקה", mm: "%d דקות", h: "שעה", hh: function (e) { return 2 === e ? "שעתיים" : e + " שעות" }, d: "יום", dd: function (e) { return 2 === e ? "יומיים" : e + " ימים" }, M: "חודש", MM: function (e) { return 2 === e ? "חודשיים" : e + " חודשים" }, y: "שנה", yy: function (e) { return 2 === e ? "שנתיים" : e % 10 === 0 && 10 !== e ? e + " שנה" : e + " שנים" } }, meridiemParse: /אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i, isPM: function (e) { return /^(אחה"צ|אחרי הצהריים|בערב)$/.test(e) }, meridiem: function (e, t, n) { return e < 5 ? "לפנות בוקר" : e < 10 ? "בבוקר" : e < 12 ? n ? 'לפנה"צ' : "לפני הצהריים" : e < 18 ? n ? 'אחה"צ' : "אחרי הצהריים" : "בערב" } }); return e }(), e.fullCalendar.datepickerLocale("he", "he", { closeText: "סגור", prevText: "&#x3C;הקודם", nextText: "הבא&#x3E;", currentText: "היום", monthNames: ["ינואר", "פברואר", "מרץ", "אפריל", "מאי", "יוני", "יולי", "אוגוסט", "ספטמבר", "אוקטובר", "נובמבר", "דצמבר"], monthNamesShort: ["ינו", "פבר", "מרץ", "אפר", "מאי", "יוני", "יולי", "אוג", "ספט", "אוק", "נוב", "דצמ"], dayNames: ["ראשון", "שני", "שלישי", "רביעי", "חמישי", "שישי", "שבת"], dayNamesShort: ["א'", "ב'", "ג'", "ד'", "ה'", "ו'", "שבת"], dayNamesMin: ["א'", "ב'", "ג'", "ד'", "ה'", "ו'", "שבת"], weekHeader: "Wk", dateFormat: "dd/mm/yy", firstDay: 0, isRTL: !0, showMonthAfterYear: !1, yearSuffix: "" }), e.fullCalendar.locale("he", { buttonText: { month: "חודש", week: "שבוע", day: "יום", list: "סדר יום" }, allDayText: "כל היום", eventLimitText: "אחר", noEventsMessage: "אין אירועים להצגה", weekNumberTitle: "שבוע" }) });

/*
 AngularJS v1.2.20
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function (F, e, O) {
    'use strict'; e.module("ngAnimate", ["ng"]).directive("ngAnimateChildren", function () { return function (G, s, g) { g = g.ngAnimateChildren; e.isString(g) && 0 === g.length ? s.data("$$ngAnimateChildren", !0) : G.$watch(g, function (e) { s.data("$$ngAnimateChildren", !!e) }) } }).factory("$$animateReflow", ["$$rAF", "$document", function (e, s) { return function (g) { return e(function () { g() }) } }]).config(["$provide", "$animateProvider", function (G, s) {
        function g(e) { for (var g = 0; g < e.length; g++) { var l = e[g]; if (l.nodeType == aa) return l } }
        function B(l) { return e.element(g(l)) } var m = e.noop, u = e.forEach, P = s.$$selectors, aa = 1, l = "$$ngAnimateState", V = "$$ngAnimateChildren", J = "ng-animate", n = { running: !0 }; G.decorator("$animate", ["$delegate", "$injector", "$sniffer", "$rootElement", "$$asyncCallback", "$rootScope", "$document", function (z, F, $, R, E, H, O) {
            function K(a) { var b = a.data(l) || {}; b.running = !0; a.data(l, b) } function L(a) {
                if (a) {
                    var b = [], c = {}; a = a.substr(1).split("."); ($.transitions || $.animations) && b.push(F.get(P[""])); for (var d = 0; d < a.length; d++) {
                        var f =
                        a[d], e = P[f]; e && !c[f] && (b.push(F.get(e)), c[f] = !0)
                    } return b
                }
            } function G(a, b, c) {
                function d(a, b) { var c = a[b], d = a["before" + b.charAt(0).toUpperCase() + b.substr(1)]; if (c || d) return "leave" == b && (d = c, c = null), n.push({ event: b, fn: c }), h.push({ event: b, fn: d }), !0 } function f(b, d, e) {
                    var f = []; u(b, function (a) { a.fn && f.push(a) }); var g = 0; u(f, function (b, l) {
                        var C = function () { a: { if (d) { (d[l] || m)(); if (++g < f.length) break a; d = null } e() } }; switch (b.event) {
                            case "setClass": d.push(b.fn(a, A, k, C)); break; case "addClass": d.push(b.fn(a, A || c,
                            C)); break; case "removeClass": d.push(b.fn(a, k || c, C)); break; default: d.push(b.fn(a, C))
                        }
                    }); d && 0 === d.length && e()
                } var g = a[0]; if (g) {
                    var l = "setClass" == b, p = l || "addClass" == b || "removeClass" == b, A, k; e.isArray(c) && (A = c[0], k = c[1], c = A + " " + k); var x = a.attr("class") + " " + c; if (M(x)) {
                        var t = m, w = [], h = [], q = m, y = [], n = [], x = (" " + x).replace(/\s+/g, "."); u(L(x), function (a) { !d(a, b) && l && (d(a, "addClass"), d(a, "removeClass")) }); return {
                            node: g, event: b, className: c, isClassBased: p, isSetClassOperation: l, before: function (a) {
                                t = a; f(h, w, function () {
                                    t =
                                    m; a()
                                })
                            }, after: function (a) { q = a; f(n, y, function () { q = m; a() }) }, cancel: function () { w && (u(w, function (a) { (a || m)(!0) }), t(!0)); y && (u(y, function (a) { (a || m)(!0) }), q(!0)) }
                        }
                    }
                }
            } function r(a, b, c, d, f, g, n) {
                function p(d) { var e = "$animate:" + d; q && (q[e] && 0 < q[e].length) && E(function () { c.triggerHandler(e, { event: a, className: b }) }) } function A() { p("before") } function m() { p("after") } function x() { p("close"); n && E(function () { n() }) } function t() { t.hasBeenRun || (t.hasBeenRun = !0, g()) } function w() {
                    if (!w.hasBeenRun) {
                        w.hasBeenRun = !0; var d =
                        c.data(l); d && (h && h.isClassBased ? k(c, b) : (E(function () { var d = c.data(l) || {}; r == d.index && k(c, b, a) }), c.data(l, d))); x()
                    }
                } var h = G(c, a, b); if (h) {
                    b = h.className; var q = e.element._data(h.node), q = q && q.events; d || (d = f ? f.parent() : c.parent()); var y = c.data(l) || {}; f = y.active || {}; var z = y.totalActive || 0, C = y.last, D; h.isClassBased && (D = y.running || y.disabled || C && !C.isClassBased); if (D || N(c, d)) t(), A(), m(), w(); else {
                        d = !1; if (0 < z) {
                            D = []; if (h.isClassBased) "setClass" == C.event ? (D.push(C), k(c, b)) : f[b] && (v = f[b], v.event == a ? d = !0 : (D.push(v),
                            k(c, b))); else if ("leave" == a && f["ng-leave"]) d = !0; else { for (var v in f) D.push(f[v]), k(c, v); f = {}; z = 0 } 0 < D.length && u(D, function (a) { a.cancel() })
                        } !h.isClassBased || (h.isSetClassOperation || d) || (d = "addClass" == a == c.hasClass(b)); if (d) t(), A(), m(), x(); else {
                            if ("leave" == a) c.one("$destroy", function (a) { a = e.element(this); var b = a.data(l); b && (b = b.active["ng-leave"]) && (b.cancel(), k(a, "ng-leave")) }); c.addClass(J); var r = Y++; z++; f[b] = h; c.data(l, { last: h, active: f, index: r, totalActive: z }); A(); h.before(function (d) {
                                var e = c.data(l);
                                d = d || !e || !e.active[b] || h.isClassBased && e.active[b].event != a; t(); !0 === d ? w() : (m(), h.after(w))
                            })
                        }
                    }
                } else t(), A(), m(), w()
            } function T(a) { if (a = g(a)) a = e.isFunction(a.getElementsByClassName) ? a.getElementsByClassName(J) : a.querySelectorAll("." + J), u(a, function (a) { a = e.element(a); (a = a.data(l)) && a.active && u(a.active, function (a) { a.cancel() }) }) } function k(a, b) {
                if (g(a) == g(R)) n.disabled || (n.running = !1, n.structural = !1); else if (b) {
                    var c = a.data(l) || {}, d = !0 === b; !d && (c.active && c.active[b]) && (c.totalActive--, delete c.active[b]);
                    if (d || !c.totalActive) a.removeClass(J), a.removeData(l)
                }
            } function N(a, b) { if (n.disabled) return !0; if (g(a) == g(R)) return n.running; var c, d, f; do { if (0 === b.length) break; var m = g(b) == g(R), k = m ? n : b.data(l) || {}; if (k.disabled) return !0; m && (f = !0); !1 !== c && (m = b.data(V), e.isDefined(m) && (c = m)); d = d || k.running || k.last && !k.last.isClassBased } while (b = b.parent()); return !f || !c && d } var Y = 0; R.data(l, n); H.$$postDigest(function () { H.$$postDigest(function () { n.running = !1 }) }); var Q = s.classNameFilter(), M = Q ? function (a) { return Q.test(a) } :
            function () { return !0 }; return {
                enter: function (a, b, c, d) { a = e.element(a); b = b && e.element(b); c = c && e.element(c); K(a); z.enter(a, b, c); H.$$postDigest(function () { a = B(a); r("enter", "ng-enter", a, b, c, m, d) }) }, leave: function (a, b) { a = e.element(a); T(a); K(a); H.$$postDigest(function () { r("leave", "ng-leave", B(a), null, null, function () { z.leave(a) }, b) }) }, move: function (a, b, c, d) { a = e.element(a); b = b && e.element(b); c = c && e.element(c); T(a); K(a); z.move(a, b, c); H.$$postDigest(function () { a = B(a); r("move", "ng-move", a, b, c, m, d) }) }, addClass: function (a,
                b, c) { a = e.element(a); a = B(a); r("addClass", b, a, null, null, function () { z.addClass(a, b) }, c) }, removeClass: function (a, b, c) { a = e.element(a); a = B(a); r("removeClass", b, a, null, null, function () { z.removeClass(a, b) }, c) }, setClass: function (a, b, c, d) { a = e.element(a); a = B(a); r("setClass", [b, c], a, null, null, function () { z.setClass(a, b, c) }, d) }, enabled: function (a, b) { switch (arguments.length) { case 2: if (a) k(b); else { var c = b.data(l) || {}; c.disabled = !0; b.data(l, c) } break; case 1: n.disabled = !a; break; default: a = !n.disabled } return !!a }
            }
        }]); s.register("",
        ["$window", "$sniffer", "$timeout", "$$animateReflow", function (l, n, s, B) {
            function E(a, U) { S && S(); W.push(U); S = B(function () { u(W, function (a) { a() }); W = []; S = null; v = {} }) } function H(a, U) { var b = g(a); a = e.element(b); Z.push(a); b = Date.now() + U; b <= da || (s.cancel(ca), da = b, ca = s(function () { G(Z); Z = [] }, U, !1)) } function G(a) { u(a, function (a) { (a = a.data(q)) && (a.closeAnimationFn || m)() }) } function K(a, b) {
                var c = b ? v[b] : null; if (!c) {
                    var d = 0, e = 0, f = 0, g = 0, m, k, h, q; u(a, function (a) {
                        if (a.nodeType == aa) {
                            a = l.getComputedStyle(a) || {}; h = a[I + P]; d =
                            Math.max(L(h), d); q = a[I + x]; m = a[I + t]; e = Math.max(L(m), e); k = a[p + t]; g = Math.max(L(k), g); var b = L(a[p + P]); 0 < b && (b *= parseInt(a[p + w], 10) || 1); f = Math.max(b, f)
                        }
                    }); c = { total: 0, transitionPropertyStyle: q, transitionDurationStyle: h, transitionDelayStyle: m, transitionDelay: e, transitionDuration: d, animationDelayStyle: k, animationDelay: g, animationDuration: f }; b && (v[b] = c)
                } return c
            } function L(a) { var b = 0; a = e.isString(a) ? a.split(/\s*,\s*/) : []; u(a, function (a) { b = Math.max(parseFloat(a) || 0, b) }); return b } function J(a) {
                var b = a.parent(),
                c = b.data(h); c || (b.data(h, ++ba), c = ba); return c + "-" + g(a).getAttribute("class")
            } function r(a, b, c, d) {
                var e = J(b), f = e + " " + c, l = v[f] ? ++v[f].total : 0, k = {}; if (0 < l) { var h = c + "-stagger", k = e + " " + h; (e = !v[k]) && b.addClass(h); k = K(b, k); e && b.removeClass(h) } d = d || function (a) { return a() }; b.addClass(c); var h = b.data(q) || {}, n = d(function () { return K(b, f) }); d = n.transitionDuration; e = n.animationDuration; if (0 === d && 0 === e) return b.removeClass(c), !1; b.data(q, { running: h.running || 0, itemIndex: l, stagger: k, timings: n, closeAnimationFn: m });
                a = 0 < h.running || "setClass" == a; 0 < d && T(b, c, a); 0 < e && (0 < k.animationDelay && 0 === k.animationDuration) && (g(b).style[p] = "none 0s"); return !0
            } function T(a, b, c) { "ng-enter" != b && ("ng-move" != b && "ng-leave" != b) && c ? a.addClass(y) : g(a).style[I + x] = "none" } function k(a, b) { var c = I + x, d = g(a); d.style[c] && 0 < d.style[c].length && (d.style[c] = ""); a.removeClass(y) } function N(a) { var b = p; a = g(a); a.style[b] && 0 < a.style[b].length && (a.style[b] = "") } function Y(a, b, d, e) {
                function k(a) { b.off(x, l); b.removeClass(m); c(b, d); a = g(b); for (var e in s) a.style.removeProperty(s[e]) }
                function l(a) { a.stopPropagation(); var b = a.originalEvent || a; a = b.$manualTimeStamp || b.timeStamp || Date.now(); b = parseFloat(b.elapsedTime.toFixed(V)); Math.max(a - z, 0) >= y && b >= v && e() } var h = g(b); a = b.data(q); if (-1 != h.getAttribute("class").indexOf(d) && a) {
                    var m = ""; u(d.split(" "), function (a, b) { m += (0 < b ? " " : "") + a + "-active" }); var n = a.stagger, p = a.timings, t = a.itemIndex, v = Math.max(p.transitionDuration, p.animationDuration), w = Math.max(p.transitionDelay, p.animationDelay), y = w * D, z = Date.now(), x = A + " " + X, r = "", s = []; if (0 < p.transitionDuration) {
                        var B =
                        p.transitionPropertyStyle; -1 == B.indexOf("all") && (r += f + "transition-property: " + B + ";", r += f + "transition-duration: " + p.transitionDurationStyle + ";", s.push(f + "transition-property"), s.push(f + "transition-duration"))
                    } 0 < t && (0 < n.transitionDelay && 0 === n.transitionDuration && (r += f + "transition-delay: " + Q(p.transitionDelayStyle, n.transitionDelay, t) + "; ", s.push(f + "transition-delay")), 0 < n.animationDelay && 0 === n.animationDuration && (r += f + "animation-delay: " + Q(p.animationDelayStyle, n.animationDelay, t) + "; ", s.push(f + "animation-delay")));
                    0 < s.length && (p = h.getAttribute("style") || "", h.setAttribute("style", p + "; " + r)); b.on(x, l); b.addClass(m); a.closeAnimationFn = function () { k(); e() }; h = (t * (Math.max(n.animationDelay, n.transitionDelay) || 0) + (w + v) * C) * D; a.running++; H(b, h); return k
                } e()
            } function Q(a, b, c) { var d = ""; u(a.split(","), function (a, e) { d += (0 < e ? "," : "") + (c * b + parseInt(a, 10)) + "s" }); return d } function M(a, b, d, e) { if (r(a, b, d, e)) return function (a) { a && c(b, d) } } function a(a, b, d, e) { if (b.data(q)) return Y(a, b, d, e); c(b, d); e() } function b(b, c, d, e) {
                var f = M(b,
                c, d); if (f) { var g = f; E(c, function () { k(c, d); N(c); g = a(b, c, d, e) }); return function (a) { (g || m)(a) } } e()
            } function c(a, b) { a.removeClass(b); var c = a.data(q); c && (c.running && c.running--, c.running && 0 !== c.running || a.removeData(q)) } function d(a, b) { var c = ""; a = e.isArray(a) ? a : a.split(/\s+/); u(a, function (a, d) { a && 0 < a.length && (c += (0 < d ? " " : "") + a + b) }); return c } var f = "", I, X, p, A; F.ontransitionend === O && F.onwebkittransitionend !== O ? (f = "-webkit-", I = "WebkitTransition", X = "webkitTransitionEnd transitionend") : (I = "transition", X = "transitionend");
            F.onanimationend === O && F.onwebkitanimationend !== O ? (f = "-webkit-", p = "WebkitAnimation", A = "webkitAnimationEnd animationend") : (p = "animation", A = "animationend"); var P = "Duration", x = "Property", t = "Delay", w = "IterationCount", h = "$$ngAnimateKey", q = "$$ngAnimateCSS3Data", y = "ng-animate-block-transitions", V = 3, C = 1.5, D = 1E3, v = {}, ba = 0, W = [], S, ca = null, da = 0, Z = []; return {
                enter: function (a, c) { return b("enter", a, "ng-enter", c) }, leave: function (a, c) { return b("leave", a, "ng-leave", c) }, move: function (a, c) {
                    return b("move", a, "ng-move",
                    c)
                }, beforeSetClass: function (a, b, c, e) { var f = d(c, "-remove") + " " + d(b, "-add"), g = M("setClass", a, f, function (d) { var e = a.attr("class"); a.removeClass(c); a.addClass(b); d = d(); a.attr("class", e); return d }); if (g) return E(a, function () { k(a, f); N(a); e() }), g; e() }, beforeAddClass: function (a, b, c) { var e = M("addClass", a, d(b, "-add"), function (c) { a.addClass(b); c = c(); a.removeClass(b); return c }); if (e) return E(a, function () { k(a, b); N(a); c() }), e; c() }, setClass: function (b, c, e, f) {
                    e = d(e, "-remove"); c = d(c, "-add"); return a("setClass", b,
                    e + " " + c, f)
                }, addClass: function (b, c, e) { return a("addClass", b, d(c, "-add"), e) }, beforeRemoveClass: function (a, b, c) { var e = M("removeClass", a, d(b, "-remove"), function (c) { var d = a.attr("class"); a.removeClass(b); c = c(); a.attr("class", d); return c }); if (e) return E(a, function () { k(a, b); N(a); c() }), e; c() }, removeClass: function (b, c, e) { return a("removeClass", b, d(c, "-remove"), e) }
            }
        }])
    }])
})(window, window.angular);
//# sourceMappingURL=angular-animate.min.js.map





//Pagination Plugin
/**
 * jQuery Paginathing
 * Paginate Everything
 *
 * @author Alfred Crosby <https://github.com/alfredcrosby>
 * Inspired from http://esimakin.github.io/twbs-pagination/
 *
 * Copyright (c) 2018 Alfred Crosby
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

(function ($, window, document) {
    'use strict';

    var Paginator = function (element, options) {
        this.el = $(element);
        this.options = $.extend({}, $.fn.paginathing.defaults, options);

        this.startPage = 1;
        this.currentPage = 1;
        this.totalItems = this.el.children().length;
        this.totalPages = Math.max(Math.ceil(this.totalItems / this.options.perPage), this.options.limitPagination);
        this.container = $('<nav></nav>').addClass(this.options.containerClass);
        this.ul = $('<ul></ul>').addClass(this.options.ulClass);

        this.show(this.startPage);

        return this;
    };

    Paginator.prototype = {
        pagination: function (type, page) {
            var _self = this;
            var li = $('<li></li>');
            var a = $('<a></a>').attr('href', '#');
            var cssClass = type === 'number' ? _self.options.liClass : type;
            var text = '';
            if (type === 'number') {
                text = page;
            } else if (type === 'pageNumbers') {
                // get the page numbers text
                text = _self.paginationNumbersText();
            } else {
                text = _self.paginationText(type);
            }

            li.addClass(cssClass);
            li.data('pagination-type', type);
            li.data('page', page);
            li.append(a.html(text));

            return li;
        },

        paginationText: function (type) {
            return this.options[type + 'Text'];
        },

        paginationNumbersText: function () {
            var _self = this;
            return 'Page ' + _self.currentPage + '/' + _self.totalPages;
        },

        buildPagination: function () {
            var _self = this;
            var pagination = [];
            var prev =
              _self.currentPage - 1 < _self.startPage
                ? _self.startPage
                : _self.currentPage - 1;
            var next =
              _self.currentPage + 1 > _self.totalPages
                ? _self.totalPages
                : _self.currentPage + 1;

            var start, end;
            var limit = _self.options.limitPagination;

            if (limit) {
                if (_self.currentPage <= Math.ceil(limit / 2) + 1) {
                    start = 1;
                    end = limit;
                } else if (
                  _self.currentPage + Math.floor(limit / 2) >=
                  _self.totalPages
                ) {
                    start = _self.totalPages + 1 - limit;
                    end = _self.totalPages;
                } else {
                    start = _self.currentPage - Math.ceil(limit / 2);
                    end = _self.currentPage + Math.floor(limit / 2);
                }
            } else {
                start = _self.startPage;
                end = _self.totalPages;
            }

            // "First" button
            if (_self.options.firstLast) {
                pagination.push(_self.pagination('first', _self.startPage));
            }

            // "Prev" button
            if (_self.options.prevNext) {
                pagination.push(_self.pagination('prev', prev));
            }

            // Pagination
            for (var i = start; i <= end; i++) {
                pagination.push(_self.pagination('number', i));
            }

            // "Next" button
            if (_self.options.prevNext) {
                pagination.push(_self.pagination('next', next));
            }

            // "Last" button
            if (_self.options.firstLast) {
                pagination.push(_self.pagination('last', _self.totalPages));
            }

            // page numbers
            if (_self.options.pageNumbers) {
                pagination.push(_self.pagination('pageNumbers', _self.currentPage));
            }

            return pagination;
        },

        render: function (page) {
            var _self = this;
            var options = _self.options;
            var pagination = _self.buildPagination();

            // Remove children before re-render (prevent duplicate)
            _self.ul.children().remove();
            _self.ul.append(pagination);

            // Manage active DOM
            var startAt = page === 1 ? 0 : (page - 1) * options.perPage;
            var endAt = page * options.perPage;

            _self.el.children().hide();
            _self.el
              .children()
              .slice(startAt, endAt)
              .show();

            // Manage active state
            _self.ul.children().each(function () {
                var _li = $(this);
                var type = _li.data('pagination-type');

                switch (type) {
                    case 'number':
                        if (_li.data('page') === page) {
                            _li.addClass(options.activeClass);
                        }
                        break;
                    case 'first':
                        page === _self.startPage && _li.toggleClass(options.disabledClass);
                        break;
                    case 'last':
                        page === _self.totalPages && _li.toggleClass(options.disabledClass);
                        break;
                    case 'prev':
                        page - 1 < _self.startPage &&
                          _li.toggleClass(options.disabledClass);
                        break;
                    case 'next':
                        page + 1 > _self.totalPages &&
                          _li.toggleClass(options.disabledClass);
                        break;
                    default:
                        break;
                }
            });

            // If insertAfter is defined
            if (options.insertAfter) {
                _self.container.append(_self.ul).insertAfter($(options.insertAfter));
            } else {
                _self.el.after(_self.container.append(_self.ul));
            }
        },

        handle: function () {
            var _self = this;
            _self.container.find('li').each(function () {
                var _li = $(this);

                _li.click(function (e) {
                    e.preventDefault();
                    var page = _li.data('page');

                    _self.currentPage = page;
                    _self.show(page);
                });
            });
        },

        show: function (page) {
            var _self = this;

            _self.render(page);
            _self.handle();
        },
    };

    $.fn.paginathing = function (options) {
        var _self = this;

        return _self.each(function () {
            return new Paginator(this, options);
        });
    };

    $.fn.paginathing.defaults = {
        perPage: 10,
        limitPagination: false,
        prevNext: true,
        firstLast: true,
        prevText: '&laquo;',
        nextText: '&raquo;',
        firstText: 'First',
        lastText: 'Last',
        containerClass: 'pagination-container',
        ulClass: 'pagination',
        liClass: 'page',
        activeClass: 'active',
        disabledClass: 'disabled',
        insertAfter: null,
        pageNumbers: false,
    };
})(jQuery, window, document);



//#region timeout-dialog.js 
/*
 * timeout-dialog.js v1.0.1, 01-03-2012
 * 
 * @author: Rodrigo Neri (@rigoneri)
 * 
 * (The MIT License)
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE. 
 */


/* String formatting, you might want to remove this if you already use it.
 * Example:
 * 
 * var location = 'World';
 * alert('Hello {0}'.format(location));
 */
String.prototype.format = function () {
    var s = this,
        i = arguments.length;

    while (i--) {
        s = s.replace(new RegExp('\\{' + i + '\\}', 'gm'), arguments[i]);
    }
    return s;
};

var timeoutDialogObj;
var TimeoutDialogCountdown;

function formatCounter(time) {
    var minutes = Math.floor(time / 60);
    var seconds = time - minutes * 60;

    if (minutes == 0)
        return seconds;
    else if (seconds == 0)
        return minutes;
    else
        return minutes + seconds;
}

!function ($) {
    $.timeoutDialog = function (options) {

        var settings = {
            timeout: 120,
            countdown: 60,
            title: 'Your session is about to expire!',
            message: 'You will be logged out in {0} seconds.',
            question: 'Do you want to stay signed in?',
            keep_alive_button_text: 'Yes, Keep me signed in',
            sign_out_button_text: 'No, Sign me out',
            keep_alive_url: '/keep-alive',
            logout_url: null,
            logout_redirect_url: '/',
            restart_on_yes: true,
            dialog_width: 350
        }

        $.extend(settings, options);

        var TimeoutDialog = {
            init: function () {
                this.setupDialogTimer();
            },

            setupDialogTimer: function () {
                var self = this;
                timeoutDialogObj = this;
                TimeoutDialogCountdown = window.setTimeout(function () {
                    self.setupDialog();
                }, (settings.timeout - settings.countdown) * 1000);
            },

            setupDialog: function () {
                var self = this;
                self.destroyDialog();


                $('<div id="timeout-dialog">' +
                    '<p id="timeout-message">' + settings.message.format('<span id="timeout-countdown">' + formatCounter(settings.countdown) + '</span>') + '</p>' +
                    '<p id="timeout-question">' + settings.question + '</p>' +
                  '</div>')
                .appendTo('body')
                .dialog({
                    modal: true,
                    width: settings.dialog_width,
                    minHeight: 'auto',
                    zIndex: 10000,
                    closeOnEscape: false,
                    draggable: false,
                    resizable: false,
                    dialogClass: 'timeout-dialog',
                    title: settings.title,
                    buttons: {
                        'keep-alive-button': {
                            text: settings.keep_alive_button_text,
                            id: "timeout-keep-signin-btn",
                            click: function () {
                                self.keepAlive();
                            }
                        },
                        'sign-out-button': {
                            text: settings.sign_out_button_text,
                            id: "timeout-sign-out-button",
                            click: function () {
                                self.signOut(true);
                            }
                        }
                    }
                });

                self.startCountdown();
            },

            destroyDialog: function () {
                if ($("#timeout-dialog").length) {
                    try {
                        $("#timeout-dialog").dialog("close");
                    } catch (err) {
                        //alert(err);
                    }

                    $('#timeout-dialog').remove();
                }
            },

            startCountdown: function () {
                var self = this,
                    counter = settings.countdown;

                this.countdown = window.setInterval(function () {
                    counter -= 1;
                    $("#timeout-countdown").html(formatCounter(counter));

                    if (counter <= 0) {
                        window.clearInterval(self.countdown);
                        self.signOut(false);
                    }

                }, 1000);
            },

            keepAliveAndReset: function () {
                var self = this;
                this.destroyDialog();
                window.clearInterval(TimeoutDialogCountdown);
                $.get(settings.keep_alive_url, function (data) {
                    if (settings.restart_on_yes) {
                        self.setupDialogTimer();
                    }
                });
            },

            keepAlive: function () {
                var self = this;
                this.destroyDialog();
                window.clearInterval(this.countdown);
                $.get(settings.keep_alive_url, function (data) {
                    if (data == "OK") {
                        if (settings.restart_on_yes) {
                            self.setupDialogTimer();
                        }
                    }
                    else {
                        self.signOut(false);
                    }
                });
            },

            signOut: function (is_forced) {
                var self = this;
                this.destroyDialog();

                if (settings.logout_url != null) {
                    $.post(settings.logout_url, function (data) {
                        self.redirectLogout(is_forced);
                    });
                }
                else {
                    self.redirectLogout(is_forced);
                }
            },

            redirectLogout: function (is_forced) {
                var target = settings.logout_redirect_url;// + '?next=' + encodeURIComponent(window.location.pathname + window.location.search);
                if (!is_forced)
                    target += '#timeout';
                window.location = target;
            }
        };

        TimeoutDialog.init();
    };
}(window.jQuery);

//#endregion


/*!
 * jQuery pagination plugin v1.2.4
 * http://esimakin.github.io/twbs-pagination/
 *
 * Copyright 2014, Eugene Simakin
 * Released under Apache 2.0 license
 * http://apache.org/licenses/LICENSE-2.0.html
 */
;
(function ($, window, document, undefined) {

    'use strict';

    var old = $.fn.twbsPagination;

    // PROTOTYPE AND CONSTRUCTOR

    var TwbsPagination = function (element, options) {
        this.$element = $(element);
        this.options = $.extend({}, $.fn.twbsPagination.defaults, options);

        if (this.options.startPage < 1 || this.options.startPage > this.options.totalPages) {
            throw new Error('Start page option is incorrect');
        }

        this.options.totalPages = parseInt(this.options.totalPages);
        if (isNaN(this.options.totalPages)) {
            throw new Error('Total pages option is not correct!');
        }

        this.options.visiblePages = parseInt(this.options.visiblePages);
        if (isNaN(this.options.visiblePages)) {
            throw new Error('Visible pages option is not correct!');
        }

        if (this.options.totalPages < this.options.visiblePages) {
            this.options.visiblePages = this.options.totalPages;
        }

        if (this.options.onPageClick instanceof Function) {
            this.$element.first().bind('page', this.options.onPageClick);
        }

        if (this.options.href) {
            var m, regexp = this.options.href.replace(/[-\/\\^$*+?.|[\]]/g, '\\$&');
            regexp = regexp.replace(this.options.hrefVariable, '(\\d+)');
            if ((m = new RegExp(regexp, 'i').exec(window.location.href)) != null) {
                this.options.startPage = parseInt(m[1], 10);
            }
        }

        var tagName = (typeof this.$element.prop === 'function') ?
            this.$element.prop('tagName') : this.$element.attr('tagName');

        if (tagName === 'UL') {
            this.$listContainer = this.$element;
        } else {
            this.$listContainer = $('<ul></ul>');
        }

        this.$listContainer.addClass(this.options.paginationClass);

        if (tagName !== 'UL') {
            this.$element.append(this.$listContainer);
        }

        this.render(this.getPages(this.options.startPage));
        this.setupEvents();

        return this;
    };

    TwbsPagination.prototype = {

        constructor: TwbsPagination,

        destroy: function () {
            this.$element.empty();
            this.$element.removeData('twbs-pagination');
            this.$element.unbind('page');
            return this;
        },

        show: function (page) {
            if (page < 1 || page > this.options.totalPages) {
                throw new Error('Page is incorrect.');
            }

            this.render(this.getPages(page));
            this.setupEvents();

            this.$element.trigger('page', page);
            return this;
        },

        buildListItems: function (pages) {
            var $listItems = $();

            if (this.options.first) {
                $listItems = $listItems.add(this.buildItem('first', 1));
            }

            if (this.options.prev) {
                var prev = pages.currentPage > 1 ? pages.currentPage - 1 : this.options.loop ? this.options.totalPages : 1;
                $listItems = $listItems.add(this.buildItem('prev', prev));
            }

            for (var i = 0; i < pages.numeric.length; i++) {
                $listItems = $listItems.add(this.buildItem('page', pages.numeric[i]));
            }

            if (this.options.next) {
                var next = pages.currentPage < this.options.totalPages ? pages.currentPage + 1 : this.options.loop ? 1 : this.options.totalPages;
                $listItems = $listItems.add(this.buildItem('next', next));
            }

            if (this.options.last) {
                $listItems = $listItems.add(this.buildItem('last', this.options.totalPages));
            }

            return $listItems;
        },

        buildItem: function (type, page) {
            var itemContainer = $('<li></li>'),
                itemContent = $('<a></a>'),
                itemText = null;

            switch (type) {
                case 'page':
                    itemText = page;
                    itemContainer.addClass(this.options.pageClass);
                    break;
                case 'first':
                    itemText = this.options.first;
                    itemContainer.addClass(this.options.firstClass);
                    break;
                case 'prev':
                    itemText = this.options.prev;
                    itemContainer.addClass(this.options.prevClass);
                    break;
                case 'next':
                    itemText = this.options.next;
                    itemContainer.addClass(this.options.nextClass);
                    break;
                case 'last':
                    itemText = this.options.last;
                    itemContainer.addClass(this.options.lastClass);
                    break;
                default:
                    break;
            }

            itemContainer.data('page', page);
            itemContainer.data('page-type', type);
            itemContainer.append(itemContent.attr('href', this.makeHref(page)).html(itemText));
            return itemContainer;
        },

        getPages: function (currentPage) {
            var pages = [];

            var half = Math.floor(this.options.visiblePages / 2);
            var start = currentPage - half + 1 - this.options.visiblePages % 2;
            var end = currentPage + half;

            // handle boundary case
            if (start <= 0) {
                start = 1;
                end = this.options.visiblePages;
            }
            if (end > this.options.totalPages) {
                start = this.options.totalPages - this.options.visiblePages + 1;
                end = this.options.totalPages;
            }

            var itPage = start;
            while (itPage <= end) {
                pages.push(itPage);
                itPage++;
            }

            return { "currentPage": currentPage, "numeric": pages };
        },

        render: function (pages) {
            this.$listContainer.children().remove();
            this.$listContainer.append(this.buildListItems(pages));

            var children = this.$listContainer.children();
            children.filter(function () {
                return $(this).data('page') === pages.currentPage;
            }).addClass(this.options.activeClass);

            children.filter(function () {
                return $(this).data('page-type') === 'first';
            }).toggleClass(this.options.disabledClass, pages.currentPage === 1);

            children.filter(function () {
                return $(this).data('page-type') === 'last';
            }).toggleClass(this.options.disabledClass, pages.currentPage === this.options.totalPages);

            children.filter(function () {
                return $(this).data('page-type') === 'prev';
            }).toggleClass(this.options.disabledClass, !this.options.loop && pages.currentPage === 1);

            children.filter(function () {
                return $(this).data('page-type') === 'next';
            }).toggleClass(this.options.disabledClass, !this.options.loop && pages.currentPage === this.options.totalPages);
        },

        setupEvents: function () {
            var base = this;
            this.$listContainer.find('li').each(function () {
                var $this = $(this);
                $this.off();
                if ($this.hasClass(base.options.disabledClass) || $this.hasClass(base.options.activeClass)) {
                    $this.click(function (evt) {
                        evt.preventDefault();
                    });
                    return;
                }
                $this.click(function (evt) {
                    // Prevent click event if href is not set.
                    !base.options.href && evt.preventDefault();
                    base.show(parseInt($this.data('page'), 10));
                });
            });
        },

        makeHref: function (c) {
            return this.options.href ? this.options.href.replace(this.options.hrefVariable, c) : "#";
        }

    };

    // PLUGIN DEFINITION

    $.fn.twbsPagination = function (option) {
        var args = Array.prototype.slice.call(arguments, 1);
        var methodReturn;

        var $this = $(this);
        var data = $this.data('twbs-pagination');
        var options = typeof option === 'object' && option;

        if (!data) $this.data('twbs-pagination', (data = new TwbsPagination(this, options)));
        if (typeof option === 'string') methodReturn = data[option].apply(data, args);

        return (methodReturn === undefined) ? $this : methodReturn;
    };

    $.fn.twbsPagination.defaults = {
        totalPages: 0,
        startPage: 1,
        visiblePages: 5,
        href: false,
        hrefVariable: '{{number}}',
        first: 'First',
        prev: 'Previous',
        next: 'Next',
        last: 'Last',
        loop: false,
        onPageClick: null,
        paginationClass: 'pagination',
        nextClass: 'next',
        prevClass: 'prev',
        lastClass: 'last',
        firstClass: 'first',
        pageClass: 'page',
        activeClass: 'active',
        disabledClass: 'disabled'
    };

    $.fn.twbsPagination.Constructor = TwbsPagination;

    $.fn.twbsPagination.noConflict = function () {
        $.fn.twbsPagination = old;
        return this;
    };

})(jQuery, window, document);
